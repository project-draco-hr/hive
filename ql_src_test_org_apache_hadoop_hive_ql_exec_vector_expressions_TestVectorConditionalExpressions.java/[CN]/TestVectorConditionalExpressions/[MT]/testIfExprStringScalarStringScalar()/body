{
  VectorizedRowBatch batch=getBatch1Long3BytesVectors();
  byte[] scalar1=getUTF8Bytes("scalar1");
  byte[] scalar2=getUTF8Bytes("scalar2");
  VectorExpression expr=new IfExprStringScalarStringScalar(0,scalar1,scalar2,3);
  BytesColumnVector r=(BytesColumnVector)batch.cols[3];
  expr.evaluate(batch);
  assertTrue(getString(r,0).equals("scalar2"));
  assertTrue(getString(r,1).equals("scalar2"));
  assertTrue(getString(r,2).equals("scalar1"));
  assertTrue(getString(r,3).equals("scalar1"));
  assertFalse(r.isRepeating);
  batch=getBatch1Long3BytesVectors();
  batch.cols[0].isRepeating=true;
  expr.evaluate(batch);
  r=(BytesColumnVector)batch.cols[3];
  assertTrue(r.isRepeating);
  assertTrue(getString(r,0).equals("scalar2"));
}
