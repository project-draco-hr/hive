{
  if ((joinNode.getToken().getType() == HiveParser.TOK_TABREF) || (joinNode.getToken().getType() == HiveParser.TOK_SUBQUERY) || (joinNode.getToken().getType() == HiveParser.TOK_PTBLFUNCTION)) {
    String tableName=SemanticAnalyzer.getUnescapedUnqualifiedTableName((ASTNode)joinNode.getChild(0)).toLowerCase();
    String alias=joinNode.getChildCount() == 1 ? tableName : SemanticAnalyzer.unescapeIdentifier(joinNode.getChild(joinNode.getChildCount() - 1).getText().toLowerCase());
    alias=(joinNode.getToken().getType() == HiveParser.TOK_PTBLFUNCTION) ? SemanticAnalyzer.unescapeIdentifier(joinNode.getChild(1).getText().toLowerCase()) : alias;
    aliases.add(alias);
  }
 else {
    ASTNode left=(ASTNode)joinNode.getChild(0);
    ASTNode right=(ASTNode)joinNode.getChild(1);
    getTableAliasesInSubQuery(left,aliases);
    getTableAliasesInSubQuery(right,aliases);
  }
}
