{
  if (type == null) {
    return null;
  }
switch (type) {
case USER:
    return PrincipalType.USER;
case GROUP:
  return PrincipalType.GROUP;
case ROLE:
return PrincipalType.ROLE;
default :
throw new AssertionError("Invalid principal type " + type);
}
}
