{
  List<? extends StructField> fieldRefs=((StructObjectInspector)oi).getAllStructFieldRefs();
  int num=fieldRefs.size();
  fieldInfoList=new FieldInfo[num];
  if (nullSequence != null) {
    this.nullSequence=nullSequence;
    this.lengthNullSequence=nullSequence.getLength();
  }
  if (notSkippedColumnIDs == null || notSkippedColumnIDs.size() == 0) {
    for (int i=0; i < num; i++) {
      notSkippedColumnIDs.add(i);
    }
  }
  for (int i=0; i < num; i++) {
    fieldInfoList[i]=new FieldInfo(LazyFactory.createLazyObject(fieldRefs.get(i).getFieldObjectInspector()),!notSkippedColumnIDs.contains(i));
  }
  int min=notSkippedColumnIDs.size() > num ? num : notSkippedColumnIDs.size();
  prjColIDs=new int[min];
  for (int i=0, index=0; i < notSkippedColumnIDs.size(); ++i) {
    int readCol=notSkippedColumnIDs.get(i).intValue();
    if (readCol < num) {
      prjColIDs[index]=readCol;
      index++;
    }
  }
}
