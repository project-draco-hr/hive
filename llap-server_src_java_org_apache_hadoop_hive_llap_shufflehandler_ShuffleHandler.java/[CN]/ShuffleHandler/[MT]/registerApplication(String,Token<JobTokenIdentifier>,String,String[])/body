{
  Boolean registered=registeredApps.putIfAbsent(applicationIdString,Boolean.valueOf(true));
  if (registered == null) {
    LOG.info("DEBUG: Registering watches for AppDirs: appId=" + applicationIdString);
    recordJobShuffleInfo(applicationIdString,user,appToken);
    if (dirWatcher != null) {
      for (      String appDir : appDirs) {
        try {
          dirWatcher.registerApplicationDir(appDir,applicationIdString,user,5 * 60 * 1000);
        }
 catch (        IOException e) {
          LOG.warn("Unable to register dir: " + appDir + " with watcher");
        }
      }
    }
  }
}
