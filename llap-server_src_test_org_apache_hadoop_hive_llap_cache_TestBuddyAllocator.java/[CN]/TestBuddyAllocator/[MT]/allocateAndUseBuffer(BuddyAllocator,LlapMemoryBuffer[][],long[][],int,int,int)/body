{
  allocs[index]=new LlapMemoryBuffer[allocCount];
  testValues[index]=new long[allocCount];
  int size=(1 << sizeLog2) - 1;
  if (!a.allocateMultiple(allocs[index],size)) {
    LOG.error("Failed to allocate " + allocCount + " of "+ size+ "; "+ a.debugDump());
    fail();
  }
  for (int j=0; j < allocCount; ++j) {
    LlapMemoryBuffer mem=allocs[index][j];
    long testValue=testValues[index][j]=rdm.nextLong();
    int pos=mem.byteBuffer.position();
    mem.byteBuffer.putLong(pos,testValue);
    int halfLength=mem.byteBuffer.remaining() >> 1;
    if (halfLength + 8 <= mem.byteBuffer.remaining()) {
      mem.byteBuffer.putLong(pos + halfLength,testValue);
    }
  }
}
