{
  if (defaultRolesCreated) {
    LOG.debug("Admin role already created previously.");
    return;
  }
  RawStore ms=getMS();
  try {
    ms.addRole(ADMIN,ADMIN);
  }
 catch (  InvalidObjectException e) {
    LOG.debug(ADMIN + " role already exists",e);
  }
catch (  NoSuchObjectException e) {
    LOG.warn("Unexpected exception while adding " + ADMIN + " roles",e);
  }
  LOG.info("Added " + ADMIN + " role in metastore");
  try {
    ms.addRole(PUBLIC,PUBLIC);
  }
 catch (  InvalidObjectException e) {
    LOG.debug(PUBLIC + " role already exists",e);
  }
catch (  NoSuchObjectException e) {
    LOG.warn("Unexpected exception while adding " + PUBLIC + " roles",e);
  }
  LOG.info("Added " + PUBLIC + " role in metastore");
  PrivilegeBag privs=new PrivilegeBag();
  privs.addToPrivileges(new HiveObjectPrivilege(new HiveObjectRef(HiveObjectType.GLOBAL,null,null,null,null),ADMIN,PrincipalType.ROLE,new PrivilegeGrantInfo("All",0,ADMIN,PrincipalType.ROLE,true)));
  try {
    ms.grantPrivileges(privs);
  }
 catch (  InvalidObjectException e) {
    LOG.debug("Failed while granting global privs to admin",e);
  }
catch (  NoSuchObjectException e) {
    LOG.warn("Failed while granting global privs to admin",e);
  }
  defaultRolesCreated=true;
}
