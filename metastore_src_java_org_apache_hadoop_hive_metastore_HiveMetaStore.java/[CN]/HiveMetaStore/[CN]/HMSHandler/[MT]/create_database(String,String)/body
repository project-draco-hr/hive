{
  incrementCounter("create_database");
  logStartFunction("create_database: " + name);
  boolean success=false;
  try {
    getMS().openTransaction();
    Database db=new Database(name,location_uri);
    if (getMS().createDatabase(db) && wh.mkdirs(wh.getDefaultDatabasePath(name))) {
      success=getMS().commitTransaction();
    }
  }
  finally {
    if (!success) {
      getMS().rollbackTransaction();
    }
  }
  return success;
}
