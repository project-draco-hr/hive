{
  startPartitionFunction("get_partitions_ps_with_auth",db_name,tbl_name,part_vals);
  List<Partition> parts=null;
  List<Partition> matchingParts=new ArrayList<Partition>();
  try {
    try {
      parts=get_partitions(db_name,tbl_name,(short)-1);
    }
 catch (    NoSuchObjectException e) {
      throw new MetaException(e.getMessage());
    }
    for (    Partition p : parts) {
      if (MetaStoreUtils.pvalMatches(part_vals,p.getValues())) {
        matchingParts.add(p);
      }
    }
    return matchingParts;
  }
  finally {
    endFunction("get_partitions_ps_with_auth");
  }
}
