{
  boolean success=false;
  try {
    ms.openTransaction();
    Database db=new Database(name,location_uri);
    if (ms.createDatabase(db) && wh.mkdirs(wh.getDefaultDatabasePath(name))) {
      success=ms.commitTransaction();
    }
  }
  finally {
    if (!success) {
      ms.rollbackTransaction();
    }
  }
  return success;
}
