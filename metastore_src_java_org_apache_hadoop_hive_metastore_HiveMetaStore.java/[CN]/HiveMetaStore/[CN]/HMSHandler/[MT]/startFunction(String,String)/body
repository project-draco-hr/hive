{
  incrementCounter(function);
  logInfo((getThreadLocalIpAddress() == null ? "" : "source:" + getThreadLocalIpAddress() + " ") + function + extraLogInfo);
  if (MetricsFactory.getInstance() != null) {
    try {
      MetricsFactory.getInstance().startStoredScope(function);
    }
 catch (    IOException e) {
      LOG.debug("Exception when starting metrics scope" + e.getClass().getName() + " "+ e.getMessage(),e);
    }
  }
  return function;
}
