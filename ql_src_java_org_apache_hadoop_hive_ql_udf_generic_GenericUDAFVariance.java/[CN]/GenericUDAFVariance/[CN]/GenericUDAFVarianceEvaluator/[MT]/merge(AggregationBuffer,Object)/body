{
  if (partial != null) {
    StdAgg myagg=(StdAgg)agg;
    Object partialCount=soi.getStructFieldData(partial,countField);
    Object partialSum=soi.getStructFieldData(partial,sumField);
    Object partialVariance=soi.getStructFieldData(partial,varianceField);
    long n=myagg.count;
    long m=countFieldOI.get(partialCount);
    if (n == 0) {
      myagg.variance=sumFieldOI.get(partialVariance);
      myagg.count=countFieldOI.get(partialCount);
      myagg.sum=sumFieldOI.get(partialSum);
    }
    if (m != 0 && n != 0) {
      double a=myagg.sum;
      double b=sumFieldOI.get(partialSum);
      double alpha=(a + b) / (n + m) - a / n;
      double betha=(a + b) / (n + m) - b / m;
      myagg.variance+=sumFieldOI.get(partialVariance) + (n * alpha * alpha + m * betha * betha);
      myagg.count+=m;
      myagg.sum+=b;
    }
  }
}
