{
  if (partial != null) {
    StdAgg myagg=(StdAgg)agg;
    Object partialCount=soi.getStructFieldData(partial,countField);
    Object partialSum=soi.getStructFieldData(partial,sumField);
    Object partialVariance=soi.getStructFieldData(partial,varianceField);
    long n=myagg.count;
    long m=countFieldOI.get(partialCount);
    if (n == 0) {
      myagg.variance=sumFieldOI.get(partialVariance);
      myagg.count=countFieldOI.get(partialCount);
      myagg.sum=sumFieldOI.get(partialSum);
    }
    if (m != 0 && n != 0) {
      double a=myagg.sum;
      double b=sumFieldOI.get(partialSum);
      myagg.count+=m;
      myagg.sum+=b;
      double t=(m / (double)n) * a - b;
      myagg.variance+=sumFieldOI.get(partialVariance) + ((n / (double)m) / ((double)n + m)) * t * t;
    }
  }
}
