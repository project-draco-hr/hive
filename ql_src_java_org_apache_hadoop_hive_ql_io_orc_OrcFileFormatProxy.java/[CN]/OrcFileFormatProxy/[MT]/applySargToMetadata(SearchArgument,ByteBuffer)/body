{
  ReaderImpl.FooterInfo fi=ReaderImpl.extractMetaInfoFromFooter(fileMetadata,null);
  OrcProto.Footer footer=fi.getFooter();
  int stripeCount=footer.getStripesCount();
  boolean[] result=OrcInputFormat.pickStripesViaTranslatedSarg(sarg,fi.getFileMetaInfo().getWriterVersion(),footer.getTypesList(),fi.getMetadata(),stripeCount);
  SplitInfos.Builder sb=SplitInfos.newBuilder();
  List<StripeInformation> stripes=fi.getStripes();
  boolean isEliminated=true;
  for (int i=0; i < result.length; ++i) {
    if (result != null && !result[i])     continue;
    isEliminated=false;
    StripeInformation si=stripes.get(i);
    if (LOG.isDebugEnabled()) {
      LOG.debug("PPD is adding a split " + i + ": "+ si.getOffset()+ ", "+ si.getLength());
    }
    sb.addInfos(SplitInfo.newBuilder().setIndex(i).setOffset(si.getOffset()).setLength(si.getLength()));
  }
  return isEliminated ? null : sb.build();
}
