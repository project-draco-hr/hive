{
  CacheEntry entry=(CacheEntry)_hash.get(key);
  if (entry != null) {
    entry.setValue(value);
    touchEntry(entry);
  }
 else {
    if (_hash.size() == _max) {
      entry=purgeEntry();
      entry.setKey(key);
      entry.setValue(value);
    }
 else {
      entry=new CacheEntry(key,value);
    }
    addEntry(entry);
    _hash.put(entry.getKey(),entry);
  }
}
