{
  this.srv=srv;
  if (LOG.isDebugEnabled()) {
    LOG.debug("Working with ServiceRecord: {}",srv);
  }
  final Endpoint shuffle=srv.getInternalEndpoint(IPC_SHUFFLE);
  final Endpoint rpc=srv.getInternalEndpoint(IPC_LLAP);
  final Endpoint mng=srv.getInternalEndpoint(IPC_MNG);
  final Endpoint services=srv.getExternalEndpoint(IPC_SERVICES);
  this.host=RegistryTypeUtils.getAddressField(rpc.addresses.get(0),AddressTypes.ADDRESS_HOSTNAME_FIELD);
  this.rpcPort=Integer.valueOf(RegistryTypeUtils.getAddressField(rpc.addresses.get(0),AddressTypes.ADDRESS_PORT_FIELD));
  this.mngPort=Integer.valueOf(RegistryTypeUtils.getAddressField(mng.addresses.get(0),AddressTypes.ADDRESS_PORT_FIELD));
  this.shufflePort=Integer.valueOf(RegistryTypeUtils.getAddressField(shuffle.addresses.get(0),AddressTypes.ADDRESS_PORT_FIELD));
  this.serviceAddress=RegistryTypeUtils.getAddressField(services.addresses.get(0),AddressTypes.ADDRESS_URI);
}
