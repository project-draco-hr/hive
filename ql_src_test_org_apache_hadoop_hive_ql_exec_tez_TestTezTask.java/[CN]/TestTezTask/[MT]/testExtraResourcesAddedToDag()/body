{
  final String[] inputOutputJars=new String[]{"file:///tmp/foo.jar"};
  LocalResource res=mock(LocalResource.class);
  final List<LocalResource> resources=Collections.singletonList(res);
  final Map<String,LocalResource> resMap=new HashMap<String,LocalResource>();
  resMap.put("foo.jar",res);
  DAG dag=mock(DAG.class);
  when(utils.localizeTempFiles(path.toString(),conf,inputOutputJars)).thenReturn(resources);
  when(utils.getBaseName(res)).thenReturn("foo.jar");
  when(sessionState.isOpen()).thenReturn(true);
  when(sessionState.hasResources(inputOutputJars)).thenReturn(false);
  task.addExtraResourcesToDag(sessionState,dag,inputOutputJars,resMap);
  verify(dag).addTaskLocalFiles(resMap);
}
