{
  SessionState ss=SessionState.get();
  String[] tokens=command.split("\\s+");
  SessionState.ResourceType t;
  if (tokens.length < 1 || (t=SessionState.find_resource_type(tokens[0])) == null) {
    String message="Usage: list [" + StringUtils.join(SessionState.ResourceType.values(),"|") + "] [<value> [<value>]*]";
    return new CommandProcessorResponse(1,message,null);
  }
  List<String> filter=null;
  if (tokens.length > 1) {
    filter=Arrays.asList(Arrays.copyOfRange(tokens,1,tokens.length));
  }
  Set<String> s=ss.list_resource(t,filter);
  if (s != null && !s.isEmpty()) {
    ss.out.println(StringUtils.join(s,"\n"));
  }
  return new CommandProcessorResponse(0,null,null,SCHEMA);
}
