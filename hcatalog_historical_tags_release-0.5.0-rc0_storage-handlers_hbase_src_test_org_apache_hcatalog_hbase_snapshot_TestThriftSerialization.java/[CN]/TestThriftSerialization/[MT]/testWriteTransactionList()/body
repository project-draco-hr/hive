{
  List<StoreFamilyRevision> txnList=new ArrayList<StoreFamilyRevision>();
  long version;
  long timestamp;
  for (int i=0; i < 10; i++) {
    version=i;
    timestamp=1000 + i;
    StoreFamilyRevision wtx=new StoreFamilyRevision(version,timestamp);
    txnList.add(wtx);
  }
  StoreFamilyRevisionList wList=new StoreFamilyRevisionList(txnList);
  try {
    byte[] data=ZKUtil.serialize(wList);
    StoreFamilyRevisionList newList=new StoreFamilyRevisionList();
    ZKUtil.deserialize(newList,data);
    assertTrue(newList.getRevisionListSize() == wList.getRevisionListSize());
    Iterator<StoreFamilyRevision> itr=newList.getRevisionListIterator();
    int i=0;
    while (itr.hasNext()) {
      StoreFamilyRevision txn=itr.next();
      assertTrue(txn.getRevision() == i);
      assertTrue(txn.getTimestamp() == (i + 1000));
      i++;
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
