{
  redirectOutputStream();
  String oldLocationUri="hdfs://nn.example.com/";
  String newLocationUri="hdfs://nn-ha-uri/";
  String[] args=new String[5];
  args[0]=new String("-updateLocation");
  args[1]=new String(newLocationUri);
  args[2]=new String(oldLocationUri);
  args[3]=new String("-tablePropKey");
  args[4]=new String("avro.schema.url");
  try {
    HiveMetaTool.main(args);
    String out=os.toString();
    boolean b=out.contains(newLocationUri);
    restoreOutputStream();
    assertTrue(b);
    args[1]=new String(oldLocationUri);
    args[2]=new String(newLocationUri);
    redirectOutputStream();
    HiveMetaTool.main(args);
    restoreOutputStream();
  }
  finally {
    restoreOutputStream();
    System.out.println("Completed testUpdateFSRootLocation..");
  }
}
