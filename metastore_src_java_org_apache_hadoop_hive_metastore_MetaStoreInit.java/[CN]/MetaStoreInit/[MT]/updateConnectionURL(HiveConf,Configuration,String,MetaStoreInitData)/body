{
  String connectUrl=null;
  String currentUrl=MetaStoreInit.getConnectionURL(conf);
  try {
    MetaStoreInit.initConnectionUrlHook(hiveConf,updateData);
    if (updateData.urlHook != null) {
      if (badUrl != null) {
        updateData.urlHook.notifyBadConnectionUrl(badUrl);
      }
      connectUrl=updateData.urlHook.getJdoConnectionUrl(hiveConf);
    }
  }
 catch (  Exception e) {
    LOG.error("Exception while getting connection URL from the hook: " + e);
  }
  if (connectUrl != null && !connectUrl.equals(currentUrl)) {
    LOG.error(String.format("Overriding %s with %s",HiveConf.ConfVars.METASTORECONNECTURLKEY.toString(),connectUrl));
    conf.set(HiveConf.ConfVars.METASTORECONNECTURLKEY.toString(),connectUrl);
    return true;
  }
  return false;
}
