{
  if (isOpen) {
    Long endTime=System.currentTimeMillis();
synchronized (metrics) {
      Long num=Metrics.incrementCounter(numCounter);
      Long time=Metrics.incrementCounter(timeCounter,endTime - startTime);
      if (num != null && time != null) {
        Metrics.set(avgTimeCounter,Double.valueOf(time.doubleValue() / num.doubleValue()));
      }
    }
  }
 else {
    throw new IOException("Scope named " + name + " is not open, cannot be closed.");
  }
  isOpen=false;
}
