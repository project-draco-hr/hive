{
  conf=new HiveConf();
  lockObjData=new HiveLockObjectData("1","10","SHARED","show tables");
  hiveLock=new HiveLockObject(TABLE,lockObjData);
  zLock=new ZooKeeperHiveLock(TABLE_LOCK_PATH,hiveLock,HiveLockMode.SHARED);
  while (server == null) {
    try {
      server=new TestingServer();
      CuratorFrameworkFactory.Builder builder=CuratorFrameworkFactory.builder();
      client=builder.connectString(server.getConnectString()).retryPolicy(new RetryOneTime(1)).build();
      client.start();
    }
 catch (    Exception e) {
      System.err.println("Getting bind exception - retrying to allocate server");
      server=null;
    }
  }
}
