{
  Random rand=new Random(5972977L);
  List<TimestampWritable> tswList=new ArrayList<TimestampWritable>();
  for (int i=0; i < 50; ++i) {
    Timestamp ts=new Timestamp(rand.nextLong());
    ts.setNanos(randomNanos(rand));
    tswList.add(new TimestampWritable(ts));
  }
  for (  TimestampWritable tsw1 : tswList) {
    byte[] bs1=tsw1.getBinarySortable();
    for (    TimestampWritable tsw2 : tswList) {
      byte[] bs2=tsw2.getBinarySortable();
      int binaryComparisonResult=normalizeComparisonResult(compareEqualLengthByteArrays(bs1,bs2));
      int comparisonResult=normalizeComparisonResult(tsw1.compareTo(tsw2));
      if (binaryComparisonResult != comparisonResult) {
        throw new AssertionError("TimestampWritables " + tsw1 + " and "+ tsw2+ " compare as "+ comparisonResult+ " using compareTo but as "+ binaryComparisonResult+ " using "+ "getBinarySortable");
      }
    }
  }
}
