{
  Database database=null;
  if (!isTemporaryFunction) {
    try {
      String[] qualifiedNameParts=FunctionUtils.getQualifiedFunctionNameParts(functionName);
      String dbName=qualifiedNameParts[0];
      functionName=qualifiedNameParts[1];
      database=getDatabase(dbName);
    }
 catch (    HiveException e) {
      LOG.error("Failed to get database ",e);
      throw new SemanticException(e);
    }
  }
  if (database != null) {
    outputs.add(new WriteEntity(database,WriteEntity.WriteType.DDL_NO_LOCK));
  }
  outputs.add(new WriteEntity(database,functionName,Type.FUNCTION,WriteEntity.WriteType.DDL_NO_LOCK));
  if (resources != null) {
    for (    ResourceUri resource : resources) {
      String uriPath=resource.getUri();
      outputs.add(toWriteEntity(uriPath));
    }
  }
}
