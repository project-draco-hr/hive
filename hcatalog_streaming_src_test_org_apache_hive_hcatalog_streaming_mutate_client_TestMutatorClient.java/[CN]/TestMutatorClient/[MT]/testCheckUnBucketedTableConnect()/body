{
  when(mockSd.getNumBuckets()).thenReturn(0);
  try {
    client.connect();
    fail();
  }
 catch (  ConnectionException e) {
  }
  assertThat(client.isConnected(),is(false));
}
