{
  boolean storagehandler=false;
  if (outputFormatClass == null) {
    try {
      String className=tTable.getSd().getOutputFormat();
      Class<?> c;
      if (className == null) {
        if (getStorageHandler() == null) {
          return null;
        }
        c=getStorageHandler().getOutputFormatClass();
      }
 else {
        if (className.equals(HivePassThroughOutputFormat.HIVE_PASSTHROUGH_OF_CLASSNAME)) {
          if (getStorageHandler() != null) {
            c=getStorageHandler().getOutputFormatClass();
          }
 else {
            return null;
          }
        }
 else {
          c=Class.forName(className,true,Utilities.getSessionSpecifiedClassLoader());
        }
      }
      if (!HiveOutputFormat.class.isAssignableFrom(c)) {
        if (getStorageHandler() != null) {
          storagehandler=true;
        }
 else {
          storagehandler=false;
        }
        outputFormatClass=HiveFileFormatUtils.getOutputFormatSubstitute(c,storagehandler);
      }
 else {
        outputFormatClass=(Class<? extends HiveOutputFormat>)c;
      }
    }
 catch (    ClassNotFoundException e) {
      throw new RuntimeException(e);
    }
  }
  return outputFormatClass;
}
