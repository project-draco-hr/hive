{
  AggregationBuffer[] aggs=null;
  boolean newEntry=false;
  ArrayList<Object> newDefaultKeys=deepCopyElements(keyObjects,keyObjectInspectors,ObjectInspectorCopyOption.WRITABLE);
  aggs=hashAggregations.get(newDefaultKeys);
  if (aggs == null) {
    aggs=newAggregations();
    hashAggregations.put(newDefaultKeys,aggs);
    newEntry=true;
    numRowsHashTbl++;
  }
  updateAggregations(aggs,row,rowInspector,true,newEntry,null);
  if (shouldBeFlushed(newKeys)) {
    flush(false);
  }
}
