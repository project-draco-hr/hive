{
  UDAFEvaluator[] aggs=null;
  Object[][] lastInvoke=null;
  boolean keysAreEqual=ObjectInspectorUtils.compare(newKeys,newKeyObjectInspector,currentKeys,currentKeyObjectInspector) == 0;
  if (currentKeys != null && !keysAreEqual)   forward(currentKeys,aggregations);
  if (currentKeys == null || !keysAreEqual) {
    if (currentKeys == null) {
      currentKeys=new ArrayList<Object>(keyFields.length);
    }
    deepCopyElements(keyObjects,keyObjectInspectors,currentKeys,ObjectInspectorCopyOption.WRITABLE);
    for (    UDAFEvaluator aggregation : aggregations)     aggregation.init();
    for (int i=0; i < aggregationsParametersLastInvoke.length; i++)     aggregationsParametersLastInvoke[i]=null;
  }
  aggs=aggregations;
  lastInvoke=aggregationsParametersLastInvoke;
  updateAggregations(aggs,row,rowInspector,false,false,lastInvoke);
}
