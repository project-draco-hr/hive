{
  String tableTransactionalProperties=null;
  Map<String,String> parameters=table.getParameters();
  if (parameters != null) {
    Set<String> keys=parameters.keySet();
    for (    String key : keys) {
      if (hive_metastoreConstants.TABLE_TRANSACTIONAL_PROPERTIES.equalsIgnoreCase(key)) {
        tableTransactionalProperties=parameters.get(key).toLowerCase();
        parameters.remove(key);
        String validationError=validateTransactionalProperties(tableTransactionalProperties);
        if (validationError != null) {
          throw new MetaException("Invalid transactional properties specified for the " + "table with the error " + validationError);
        }
        break;
      }
    }
  }
  if (tableTransactionalProperties != null) {
    parameters.put(hive_metastoreConstants.TABLE_TRANSACTIONAL_PROPERTIES,tableTransactionalProperties);
  }
}
