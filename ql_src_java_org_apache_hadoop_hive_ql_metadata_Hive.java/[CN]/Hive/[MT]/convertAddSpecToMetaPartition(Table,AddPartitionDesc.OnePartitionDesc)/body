{
  Path location=addSpec.getLocation() != null ? new Path(tbl.getPath(),addSpec.getLocation()) : null;
  org.apache.hadoop.hive.metastore.api.Partition part=Partition.createMetaPartitionObject(tbl,addSpec.getPartSpec(),location);
  if (addSpec.getPartParams() != null) {
    part.setParameters(addSpec.getPartParams());
  }
  if (addSpec.getInputFormat() != null) {
    part.getSd().setInputFormat(addSpec.getInputFormat());
  }
  if (addSpec.getOutputFormat() != null) {
    part.getSd().setOutputFormat(addSpec.getOutputFormat());
  }
  if (addSpec.getNumBuckets() != -1) {
    part.getSd().setNumBuckets(addSpec.getNumBuckets());
  }
  if (addSpec.getCols() != null) {
    part.getSd().setCols(addSpec.getCols());
  }
  if (addSpec.getSerializationLib() != null) {
    part.getSd().getSerdeInfo().setSerializationLib(addSpec.getSerializationLib());
  }
  if (addSpec.getSerdeParams() != null) {
    part.getSd().getSerdeInfo().setParameters(addSpec.getSerdeParams());
  }
  if (addSpec.getBucketCols() != null) {
    part.getSd().setBucketCols(addSpec.getBucketCols());
  }
  if (addSpec.getSortCols() != null) {
    part.getSd().setSortCols(addSpec.getSortCols());
  }
  return part;
}
