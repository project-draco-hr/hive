{
  if (!tbl.isPartitioned()) {
    throw new HiveException("Partition spec should only be supplied for a " + "partitioned table");
  }
  List<org.apache.hadoop.hive.metastore.api.Partition> tParts=getMSC().listPartitionsByFilter(tbl.getDbName(),tbl.getTableName(),filter,(short)-1);
  List<Partition> results=new ArrayList<Partition>(tParts.size());
  for (  org.apache.hadoop.hive.metastore.api.Partition tPart : tParts) {
    Partition part=new Partition(tbl,tPart);
    results.add(part);
  }
  return results;
}
