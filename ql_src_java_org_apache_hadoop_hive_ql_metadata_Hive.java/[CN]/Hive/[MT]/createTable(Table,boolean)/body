{
  try {
    if (tbl.getDbName() == null || "".equals(tbl.getDbName().trim())) {
      tbl.setDbName(getCurrentDatabase());
    }
    if (tbl.getCols().size() == 0) {
      tbl.setFields(MetaStoreUtils.getFieldsFromDeserializer(tbl.getTableName(),tbl.getDeserializer()));
    }
    tbl.checkValidity();
    if (tbl.getParameters() != null) {
      tbl.getParameters().remove(Constants.DDL_TIME);
    }
    getMSC().createTable(tbl.getTTable());
  }
 catch (  AlreadyExistsException e) {
    if (!ifNotExists) {
      throw new HiveException(e);
    }
  }
catch (  Exception e) {
    throw new HiveException(e);
  }
}
