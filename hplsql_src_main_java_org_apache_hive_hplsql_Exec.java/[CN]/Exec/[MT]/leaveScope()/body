{
  if (!exec.signals.empty()) {
    Scope scope=exec.scopes.peek();
    Signal signal=exec.signals.peek();
    if (exec.conf.onError != OnError.SETERROR) {
      runExitHandler();
    }
    if (signal.type == Signal.Type.LEAVE_ROUTINE && scope.type == Scope.Type.ROUTINE) {
      exec.signals.pop();
    }
  }
  exec.currentScope=exec.scopes.pop().getParent();
}
