{
  verifyUser();
  verifyParam(jar,"jar");
  verifyParam(mainClass,"class");
  Map<String,Object> userArgs=new HashMap<String,Object>();
  userArgs.put("user.name",getDoAsUser());
  userArgs.put("jar",jar);
  userArgs.put("class",mainClass);
  userArgs.put("libjars",libjars);
  userArgs.put("files",files);
  userArgs.put("arg",args);
  userArgs.put("define",defines);
  userArgs.put("statusdir",statusdir);
  userArgs.put("callback",callback);
  userArgs.put("enablelog",Boolean.toString(enablelog));
  userArgs.put("enablejobreconnect",enablejobreconnect);
  checkEnableLogPrerequisite(enablelog,statusdir);
  JarDelegator d=new JarDelegator(appConf);
  return d.run(getDoAsUser(),userArgs,jar,mainClass,libjars,files,args,defines,statusdir,callback,usesHcatalog,getCompletedUrl(),enablelog,enablejobreconnect,JobType.JAR);
}
