{
  LOG.info("COMMONJOIN " + ((StructObjectInspector)inputObjInspector[0]).getTypeName());
  totalSz=0;
  storage=new HashMap<Byte,Vector<ArrayList<Object>>>();
  numValues=conf.getExprs().size();
  joinValues=new HashMap<Byte,List<ExprNodeEvaluator>>();
  joinValuesObjectInspectors=new HashMap<Byte,List<ObjectInspector>>();
  if (order == null) {
    order=new Byte[numValues];
    for (int i=0; i < numValues; i++)     order[i]=(byte)i;
  }
  condn=conf.getConds();
  noOuterJoin=conf.getNoOuterJoin();
  totalSz=populateJoinKeyValue(joinValues,conf.getExprs());
  dummyObj=new Object[numValues];
  dummyObjVectors=new Vector[numValues];
  int pos=0;
  for (  Byte alias : order) {
    int sz=conf.getExprs().get(alias).size();
    ArrayList<Object> nr=new ArrayList<Object>(sz);
    for (int j=0; j < sz; j++)     nr.add(null);
    dummyObj[pos]=nr;
    Vector<ArrayList<Object>> values=new Vector<ArrayList<Object>>();
    values.add((ArrayList<Object>)dummyObj[pos]);
    dummyObjVectors[pos]=values;
    pos++;
  }
  iterators=new Stack<Iterator<ArrayList<Object>>>();
  joinEmitInterval=HiveConf.getIntVar(hconf,HiveConf.ConfVars.HIVEJOINEMITINTERVAL);
  forwardCache=new Object[totalSz];
}
