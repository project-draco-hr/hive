{
  hiveJar=(new JobConf(cls)).getJar();
  origProp=getUnderlyingProps();
  URL hconfurl=getClassLoader().getResource("hive-default.xml");
  if (hconfurl == null) {
    l4j.warn("Unable to locate default hive configuration");
  }
 else {
    addResource("hive-default.xml");
  }
  URL hadoopconfurl=getClassLoader().getResource("hadoop-default.xml");
  if (hadoopconfurl == null)   hadoopconfurl=getClassLoader().getResource("hadoop-site.xml");
  if (hadoopconfurl != null) {
    String conffile=hadoopconfurl.getPath();
    this.setVar(ConfVars.HADOOPCONF,conffile.substring(0,conffile.lastIndexOf('/')));
  }
  applySystemProperties();
  if (hiveJar == null) {
    hiveJar=this.get(ConfVars.HIVEJAR.varname);
  }
  if (auxJars == null) {
    auxJars=this.get(ConfVars.HIVEAUXJARS.varname);
  }
}
