{
  HiveMetaStoreClient msc=mock(HiveMetaStoreClient.class);
  List<Table> threeTables=Arrays.asList(new Table(),new Table(),new Table());
  when(msc.getTableObjectsByName(anyString(),anyListOf(String.class))).thenReturn(threeTables);
  List<String> tableNames=Arrays.asList("a","b","c","d","e","f");
  TableIterable tIterable=new TableIterable(msc,"dummy",tableNames,threeTables.size());
  tIterable.iterator();
  Iterator<Table> tIter=tIterable.iterator();
  int size=0;
  while (tIter.hasNext()) {
    size++;
    tIter.next();
  }
  assertEquals("Number of table objects returned",size,tableNames.size());
  verify(msc).getTableObjectsByName("dummy",Arrays.asList("a","b","c"));
  verify(msc).getTableObjectsByName("dummy",Arrays.asList("d","e","f"));
}
