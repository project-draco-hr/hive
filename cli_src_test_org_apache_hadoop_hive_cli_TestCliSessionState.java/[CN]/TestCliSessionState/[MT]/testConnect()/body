{
  CliSessionState sessionState=new CliSessionState(new HiveConf());
  sessionState.port=server.getPort();
  sessionState.setHost(InetAddress.getLocalHost().getHostName());
  sessionState.connect();
  assertTrue(sessionState.isRemoteMode());
  assertEquals(server.getPort(),sessionState.getPort());
  assertEquals(InetAddress.getLocalHost().getHostName(),sessionState.getHost());
  assertNotNull(sessionState.getClient());
  sessionState.close();
  assertEquals(command,"clean");
}
