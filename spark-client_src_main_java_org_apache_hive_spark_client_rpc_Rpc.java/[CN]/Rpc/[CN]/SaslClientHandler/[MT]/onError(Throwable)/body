{
  timeout.cancel(true);
  if (!promise.isDone()) {
    promise.setFailure(error);
  }
}
