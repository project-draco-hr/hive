{
  if (value != null) {
    if (map.childCount >= map.keys.isNull.length) {
      map.keys.ensureSize(map.childCount * 2,true);
      map.values.ensureSize(map.childCount * 2,true);
    }
    map.lengths[rowId]=value.size();
    int offset=map.childCount;
    map.offsets[rowId]=offset;
    for (    Map.Entry<String,InnerStruct> entry : value.entrySet()) {
      ((BytesColumnVector)map.keys).setVal(offset,entry.getKey().getBytes());
      InnerStruct inner=entry.getValue();
      setInner((StructColumnVector)map.values,offset,inner.int1,inner.string1.toString());
      offset+=1;
    }
    map.childCount=offset;
  }
 else {
    map.isNull[rowId]=true;
    map.noNulls=false;
  }
}
