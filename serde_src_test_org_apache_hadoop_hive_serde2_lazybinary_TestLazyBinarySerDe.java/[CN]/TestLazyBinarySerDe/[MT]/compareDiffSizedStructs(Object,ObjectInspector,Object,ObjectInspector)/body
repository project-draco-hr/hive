{
  StructObjectInspector soi1=(StructObjectInspector)oi1;
  StructObjectInspector soi2=(StructObjectInspector)oi2;
  List<? extends StructField> fields1=soi1.getAllStructFieldRefs();
  List<? extends StructField> fields2=soi2.getAllStructFieldRefs();
  int minimum=Math.min(fields1.size(),fields2.size());
  for (int i=0; i < minimum; i++) {
    int result=ObjectInspectorUtils.compare(soi1.getStructFieldData(o1,fields1.get(i)),fields1.get(i).getFieldObjectInspector(),soi2.getStructFieldData(o2,fields2.get(i)),fields2.get(i).getFieldObjectInspector());
    if (result != 0) {
      return result;
    }
  }
  return 0;
}
