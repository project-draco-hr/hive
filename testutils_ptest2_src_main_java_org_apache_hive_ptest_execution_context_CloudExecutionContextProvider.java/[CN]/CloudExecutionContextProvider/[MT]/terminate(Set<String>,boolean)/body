{
  LOG.info("Requesting termination of " + hosts);
  Set<NodeMetadata> nodesToTerminate=Sets.newHashSet();
  for (  NodeMetadata node : getRunningNodes()) {
    String ip=publicIpOrHostname(node);
    if (hosts.contains(ip)) {
      nodesToTerminate.add(node);
    }
  }
  terminateInternal(nodesToTerminate);
  if (warnIfHostsNotFound && nodesToTerminate.size() != hosts.size()) {
    LOG.error("Requested termination of " + hosts.size() + " but found only "+ nodesToTerminate.size());
  }
}
