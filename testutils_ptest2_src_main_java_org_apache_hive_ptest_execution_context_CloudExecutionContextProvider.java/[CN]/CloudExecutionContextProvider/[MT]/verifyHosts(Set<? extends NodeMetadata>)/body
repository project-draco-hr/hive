{
  Set<NodeMetadata> result=Sets.newHashSet();
  for (  NodeMetadata node : hosts) {
    SSHCommand command=new SSHCommand(mSSHCommandExecutor,mPrivateKey,mUser,node.getHostname(),0,"pkill -f java");
    mSSHCommandExecutor.execute(command);
    if (command.getExitCode() == Constants.EXIT_CODE_UNKNOWN) {
      LOG.error("Node " + node.getHostname() + " is bad on startup");
      terminateInternal(node);
    }
 else {
      result.add(node);
    }
  }
  return result;
}
