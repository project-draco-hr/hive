{
  mWorkingDirectory=context.getString(WORKING_DIRECTORY,"").trim();
  Preconditions.checkArgument(!mWorkingDirectory.isEmpty(),WORKING_DIRECTORY + " is required");
  mProfileDirectory=context.getString(PROFILE_DIRECTORY,"").trim();
  Preconditions.checkArgument(!mProfileDirectory.isEmpty(),PROFILE_DIRECTORY + " is required");
  mGlobalLogDirectory=Dirs.create(new File(mWorkingDirectory,"logs")).getAbsolutePath();
  mMaxLogDirectoriesPerProfile=context.getInteger(MAX_LOG_DIRS_PER_PROFILE,10);
  String executionContextProviderBuilder=context.getString("executionContextProvider",FixedExecutionContextProvider.Builder.class.getName()).trim();
  try {
    Object builder=Class.forName(executionContextProviderBuilder).newInstance();
    if (!(builder instanceof ExecutionContextProvider.Builder)) {
      throw new IllegalArgumentException("executionContextProvider must be of type " + ExecutionContextProvider.Builder.class.getName());
    }
    mExecutionContextProvider=((ExecutionContextProvider.Builder)builder).build(context,mWorkingDirectory);
  }
 catch (  Exception e) {
    throw Throwables.propagate(e);
  }
}
