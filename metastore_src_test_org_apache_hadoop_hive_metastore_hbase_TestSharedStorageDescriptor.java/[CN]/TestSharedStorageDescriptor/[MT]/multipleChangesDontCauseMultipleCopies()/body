{
  StorageDescriptor sd=new StorageDescriptor();
  sd.setInputFormat("input");
  sd.setOutputFormat("output");
  SharedStorageDescriptor ssd=new SharedStorageDescriptor();
  ssd.setShared(sd);
  Assert.assertEquals("input",ssd.getInputFormat());
  ssd.setInputFormat("different");
  Assert.assertFalse(sd == ssd.getShared());
  Assert.assertEquals("input",sd.getInputFormat());
  Assert.assertEquals("different",ssd.getInputFormat());
  StorageDescriptor keep=ssd.getShared();
  ssd.setOutputFormat("different_output");
  Assert.assertEquals("different",ssd.getInputFormat());
  Assert.assertEquals("different_output",ssd.getOutputFormat());
  Assert.assertEquals("output",sd.getOutputFormat());
  Assert.assertTrue(keep == ssd.getShared());
}
