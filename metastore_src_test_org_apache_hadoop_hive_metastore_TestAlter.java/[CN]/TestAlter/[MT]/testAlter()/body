{
  try {
    DB db=DB.createDB("foo1",conf_);
{
      List<String> tables=db.getTables(".+");
      assertTrue(tables.size() == 0);
    }
    Table bar1=Table.create(db,"bar1",createSchema("foo1","bar1"),conf_);
{
      List<String> tables=db.getTables(".+");
      assertTrue(tables.size() == 1);
      assertTrue(tables.get(0).equals("bar1"));
    }
    Properties schema=bar1.getSchema();
    schema.setProperty(org.apache.hadoop.hive.metastore.api.Constants.META_TABLE_NAME,"bar2");
    bar1.alter(schema);
{
      List<String> tables=db.getTables(".+");
      assertTrue(tables.size() == 1);
      assertTrue(tables.get(0).equals("bar2"));
      Path path=bar1.getPath();
      Path ref=new Path(db.getPath(),"bar2");
      assertTrue(path.equals(ref));
      FileStatus files[]=fileSys_.listStatus(db.getPath());
    }
  }
 catch (  MetaException e) {
    e.printStackTrace();
    throw e;
  }
}
