{
  conf=new HiveConf();
  conf.setVar(HiveConf.ConfVars.HIVE_AUTHORIZATION_MANAGER,SQLStdHiveAuthorizerFactory.class.getName());
  db=Mockito.mock(Hive.class);
  table=new Table(DB,TABLE);
  SessionState.start(conf);
  Mockito.when(db.getTable(DB,TABLE,false)).thenReturn(table);
  Mockito.when(db.getTable(TABLE_QNAME,false)).thenReturn(table);
  Mockito.when(db.getPartition(table,new HashMap<String,String>(),false)).thenReturn(partition);
}
