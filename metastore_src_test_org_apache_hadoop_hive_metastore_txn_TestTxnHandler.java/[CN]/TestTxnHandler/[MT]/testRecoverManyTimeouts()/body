{
  long timeout=txnHandler.setTimeout(1);
  try {
    txnHandler.openTxns(new OpenTxnRequest(503,"me","localhost"));
    Thread.currentThread().sleep(10);
    txnHandler.getOpenTxns();
    GetOpenTxnsInfoResponse rsp=txnHandler.getOpenTxnsInfo();
    int numAborted=0;
    for (    TxnInfo txnInfo : rsp.getOpen_txns()) {
      assertEquals(TxnState.ABORTED,txnInfo.getState());
      numAborted++;
    }
    assertEquals(503,numAborted);
  }
  finally {
    txnHandler.setTimeout(timeout);
  }
}
