{
  trace(ctx,"COPY FROM FTP");
  initOptions(ctx);
  ftp=openConnection(ctx);
  if (ftp != null) {
    Timer timer=new Timer();
    long start=timer.start();
    if (info) {
      info(ctx,"Retrieving directory listing");
    }
    retrieveFileList(dir);
    long elapsed=timer.stop();
    if (info) {
      info(ctx,"Files to copy: " + Utils.formatSizeInBytes(ftpSizeInBytes) + ", "+ Utils.formatCnt(fileCnt,"file")+ ", "+ Utils.formatCnt(dirCnt,"subdirectory","subdirectories")+ " scanned ("+ timer.format()+ ")");
    }
    if (fileCnt > 0) {
      copyFiles(ctx);
    }
  }
  return 0;
}
