{
  Timer timer=new Timer();
  long start=timer.start();
  if (fileCnt > 1 && sessions > 1) {
    if (sessions > fileCnt) {
      sessions=fileCnt;
    }
    try {
      Thread threads[]=new Thread[sessions];
      for (int i=0; i < sessions; i++) {
        threads[i]=new Thread(this);
        threads[i].start();
      }
      for (int i=0; i < sessions; i++) {
        threads[i].join();
      }
    }
 catch (    Exception e) {
    }
  }
 else {
    run();
  }
  if (info) {
    long elapsed=timer.stop();
    long bytesAll=bytesTransferredAll.get();
    info(ctx,"Transfer complete: " + Utils.formatSizeInBytes(bytesAll) + ", "+ fileCntSuccess.get()+ " files ok, "+ (fileCnt - fileCntSuccess.get())+ " failed, "+ Utils.formatTime(elapsed)+ ", "+ Utils.formatBytesPerSec(bytesAll,elapsed));
  }
}
