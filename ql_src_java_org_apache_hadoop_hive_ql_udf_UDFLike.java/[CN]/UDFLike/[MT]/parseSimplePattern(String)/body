{
  int length=likePattern.length();
  int beginIndex=0;
  int endIndex=length;
  char lastChar='a';
  String strPattern=new String();
  type=PatternType.NONE;
  for (int i=0; i < length; i++) {
    char n=likePattern.charAt(i);
    if (n == '_') {
      if (lastChar != '\\') {
        type=PatternType.COMPLEX;
        return;
      }
 else {
        strPattern+=likePattern.substring(beginIndex,i - 1);
        beginIndex=i;
      }
    }
 else     if (n == '%') {
      if (i == 0) {
        type=PatternType.END;
        beginIndex=1;
      }
 else       if (i < length - 1) {
        if (lastChar != '\\') {
          type=PatternType.COMPLEX;
          return;
        }
 else {
          strPattern+=likePattern.substring(beginIndex,i - 1);
          beginIndex=i;
        }
      }
 else {
        if (lastChar != '\\') {
          endIndex=length - 1;
          if (type == PatternType.END) {
            type=PatternType.MIDDLE;
          }
 else {
            type=PatternType.BEGIN;
          }
        }
 else {
          strPattern+=likePattern.substring(beginIndex,i - 1);
          beginIndex=i;
          endIndex=length;
        }
      }
    }
    lastChar=n;
  }
  strPattern+=likePattern.substring(beginIndex,endIndex);
  simplePattern.set(strPattern);
}
