{
  ShowCompactResponse resp=txnHandler.showCompact(new ShowCompactRequest());
  CompactionsByState compactionsByState=new CompactionsByState();
  compactionsByState.total=resp.getCompactsSize();
  for (  ShowCompactResponseElement compact : resp.getCompacts()) {
    if (TxnHandler.FAILED_RESPONSE.equals(compact.getState())) {
      compactionsByState.failed++;
    }
 else     if (TxnHandler.CLEANING_RESPONSE.equals(compact.getState())) {
      compactionsByState.readyToClean++;
    }
 else     if (TxnHandler.INITIATED_RESPONSE.equals(compact.getState())) {
      compactionsByState.initiated++;
    }
 else     if (TxnHandler.SUCCEEDED_RESPONSE.equals(compact.getState())) {
      compactionsByState.succeeded++;
    }
 else     if (TxnHandler.WORKING_RESPONSE.equals(compact.getState())) {
      compactionsByState.working++;
    }
 else     if (TxnHandler.ATTEMPTED_RESPONSE.equals(compact.getState())) {
      compactionsByState.attempted++;
    }
  }
  return compactionsByState;
}
