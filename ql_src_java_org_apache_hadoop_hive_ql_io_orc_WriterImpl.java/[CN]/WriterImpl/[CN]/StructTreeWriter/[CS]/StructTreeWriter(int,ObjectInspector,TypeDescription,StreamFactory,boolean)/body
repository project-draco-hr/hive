{
  super(columnId,inspector,schema,writer,nullable);
  List<TypeDescription> children=schema.getChildren();
  if (inspector != null) {
    StructObjectInspector structObjectInspector=(StructObjectInspector)inspector;
    fields=structObjectInspector.getAllStructFieldRefs();
  }
 else {
    fields=null;
  }
  childrenWriters=new TreeWriter[children.size()];
  for (int i=0; i < childrenWriters.length; ++i) {
    ObjectInspector childOI;
    if (fields != null && i < fields.size()) {
      childOI=fields.get(i).getFieldObjectInspector();
    }
 else {
      childOI=null;
    }
    childrenWriters[i]=createTreeWriter(childOI,children.get(i),writer,true);
  }
  recordPosition(rowIndexPosition);
}
