{
  if (ranges == null)   return null;
  FileCache subCache=cache.get(fileName);
  if (subCache == null || !subCache.incRef())   return ranges;
  try {
    DiskRangeList prev=ranges.prev;
    if (prev == null) {
      prev=new DiskRangeListMutateHelper(ranges);
    }
    DiskRangeList current=ranges;
    while (current != null) {
      DiskRangeList next=current.next;
      getOverlappingRanges(baseOffset,current,subCache.cache);
      current=next;
    }
    return prev.next;
  }
  finally {
    subCache.decRef();
  }
}
