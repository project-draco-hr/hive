{
  int newRefCount=refCount.decrementAndGet();
  if (DebugUtils.isTraceLockingEnabled()) {
    LlapIoImpl.LOG.info("Unlocked " + this + "; refcount "+ newRefCount);
  }
  if (newRefCount < 0) {
    throw new AssertionError("Unexpected refCount " + newRefCount + ": "+ this);
  }
  ((LlapDaemonCacheMetrics)metrics).decrCacheNumLockedBuffers();
  return newRefCount;
}
