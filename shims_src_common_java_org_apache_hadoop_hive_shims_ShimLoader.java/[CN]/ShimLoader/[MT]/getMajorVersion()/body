{
  String vers=VersionInfo.getVersion();
  String[] parts=vers.split("\\.");
  if (parts.length < 2) {
    throw new RuntimeException("Illegal Hadoop Version: " + vers + " (expected A.B.* format)");
  }
  String majorVersion=parts[0] + "." + parts[1];
  try {
    Class.forName("org.apache.hadoop.security.UnixUserGroupInformation");
  }
 catch (  ClassNotFoundException cnf) {
    if ("0.20".equals(majorVersion)) {
      majorVersion+="S";
    }
  }
  return majorVersion;
}
