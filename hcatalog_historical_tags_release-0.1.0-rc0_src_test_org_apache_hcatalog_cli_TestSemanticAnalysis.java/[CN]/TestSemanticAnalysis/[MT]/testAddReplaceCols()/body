{
  howlDriver.run("drop table junit_sem_analysis");
  howlDriver.run("create table junit_sem_analysis (a int, c string) partitioned by (b string) stored as RCFILE");
  CommandProcessorResponse response=howlDriver.run("alter table junit_sem_analysis replace columns (a1 tinyint)");
  assertEquals(10,response.getResponseCode());
  assertTrue(response.getErrorMessage().contains("Operation not supported."));
  response=howlDriver.run("alter table junit_sem_analysis add columns (d tinyint)");
  assertEquals(0,response.getResponseCode());
  assertNull(response.getErrorMessage());
  Table tbl=msc.getTable(MetaStoreUtils.DEFAULT_DATABASE_NAME,tblName);
  List<FieldSchema> cols=tbl.getSd().getCols();
  assertEquals(3,cols.size());
  assertTrue(cols.get(0).equals(new FieldSchema("a","int","from deserializer")));
  assertTrue(cols.get(1).equals(new FieldSchema("c","string","from deserializer")));
  assertTrue(cols.get(2).equals(new FieldSchema("d","tinyint",null)));
  howlDriver.run("drop table junit_sem_analysis");
}
