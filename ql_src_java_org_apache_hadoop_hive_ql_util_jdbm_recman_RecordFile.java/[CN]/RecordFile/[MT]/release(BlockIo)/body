{
  Long key=new Long(block.getBlockId());
  inUse.remove(key);
  if (block.isDirty()) {
    dirty.put(key,block);
  }
 else {
    if (!transactionsDisabled && block.isInTransaction()) {
      inTxn.put(key,block);
    }
 else {
      free.add(block);
    }
  }
}
