{
  Preconditions.checkNotNull(dir,"dir");
  Preconditions.checkNotNull(jarFile,"jarFile");
  File jarDir=jarFile.getParentFile();
  if (!jarDir.exists()) {
    if (!jarDir.mkdirs()) {
      throw new IOException(MessageFormat.format("could not create dir [{0}]",jarDir));
    }
  }
  JarOutputStream zos=new JarOutputStream(new FileOutputStream(jarFile));
  jarDir(dir,"",zos);
}
