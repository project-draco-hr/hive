{
  Util.discard(rel);
  if (input.getClass().getName().endsWith("MedMdrClassExtentRel")) {
    fieldsUsed=ImmutableBitSet.range(input.getRowType().getFieldCount());
  }
  final ImmutableList<RelCollation> collations=RelMetadataQuery.collations(input);
  for (  RelCollation collation : collations) {
    for (    RelFieldCollation fieldCollation : collation.getFieldCollations()) {
      fieldsUsed=fieldsUsed.set(fieldCollation.getFieldIndex());
    }
  }
  return dispatchTrimFields(input,fieldsUsed,extraFields);
}
