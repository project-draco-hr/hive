{
  writeLock.lock();
  try {
    int priority=taskInfo.priority.getPriority();
    TreeSet<TaskInfo> tasksAtpriority=runningTasks.get(priority);
    if (tasksAtpriority == null) {
      tasksAtpriority=new TreeSet<>(TASK_INFO_COMPARATOR);
      runningTasks.put(priority,tasksAtpriority);
    }
    tasksAtpriority.add(taskInfo);
  }
  finally {
    writeLock.unlock();
  }
}
