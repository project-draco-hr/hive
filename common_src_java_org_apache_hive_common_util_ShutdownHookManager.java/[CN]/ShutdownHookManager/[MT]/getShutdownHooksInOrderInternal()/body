{
  List<HookEntry> list;
synchronized (MGR.hooks) {
    list=new ArrayList<HookEntry>(MGR.hooks);
  }
  Collections.sort(list,new Comparator<HookEntry>(){
    @Override public int compare(    HookEntry o1,    HookEntry o2){
      return o2.priority - o1.priority;
    }
  }
);
  List<Runnable> ordered=new ArrayList<Runnable>();
  for (  HookEntry entry : list) {
    ordered.add(entry.hook);
  }
  return ordered;
}
