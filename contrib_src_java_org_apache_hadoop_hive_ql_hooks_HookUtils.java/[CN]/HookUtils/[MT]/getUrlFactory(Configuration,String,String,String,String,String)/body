{
  String parentTierValue=parentTierName == null ? null : conf.get(parentTierName);
  String childTierValue=childTierName == null ? null : conf.get(childTierName);
  String tierValue=childTierValue != null && !childTierValue.isEmpty() ? childTierValue : (parentTierValue != null && !parentTierValue.isEmpty() ? parentTierValue : null);
  if (tierValue == null) {
    return null;
  }
  ConnectionUrlFactory conn=(ConnectionUrlFactory)getObject(conf,tierValue);
  String tierParamValue=tierParam1Name == null ? null : conf.get(tierParam1Name);
  if ((tierParamValue == null) || tierParamValue.isEmpty()) {
    tierParamValue=tierParam2Name == null ? null : conf.get(tierParam2Name);
  }
  String commonParamValue=commonParam == null ? null : conf.get(commonParam);
  conn.init(tierParamValue,commonParamValue);
  return conn;
}
