{
  HiveConf conf=new HiveConf();
  SessionState.start(conf);
  SessionState state=SessionState.get();
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  state.out=new PrintStream(baos);
  SetProcessor processor=new SetProcessor();
  processor.run("");
  state.out.flush();
  String ret=baos.toString();
  Assert.assertFalse(ret.contains(HiveConf.ConfVars.METASTOREPWD.varname + "="));
  Assert.assertFalse(ret.contains(HiveConf.ConfVars.HIVE_SERVER2_SSL_KEYSTORE_PASSWORD.varname + "="));
  baos=new ByteArrayOutputStream();
  state.out=new PrintStream(baos);
  processor.run(HiveConf.ConfVars.METASTOREPWD.varname);
  state.out.flush();
  ret=new String(baos.toByteArray());
  Assert.assertTrue(baos.toString().contains("hidden"));
}
