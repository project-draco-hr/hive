{
  hiveConf=new HiveConf();
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  hiveConf.writeXml(baos);
  baos.close();
  hiveConfBackup=baos.toByteArray();
  hiveConf.set("hive.server2.authentication","CUSTOM");
  hiveConf.set("hive.server2.custom.authentication.class","org.apache.hive.service.auth.TestCustomAuthentication$SimpleAuthenticationProviderImpl");
  FileOutputStream fos=new FileOutputStream(new File(hiveConf.getHiveSiteLocation().toURI()));
  hiveConf.writeXml(fos);
  fos.close();
  hiveserver2=new HiveServer2();
  hiveserver2.init(hiveConf);
  hiveserver2.start();
  Thread.sleep(1000);
  System.out.println("hiveServer2 start ......");
}
