{
  int current=freeList.listHead;
  while (current >= 0 && ix < dest.length) {
    int offset=offsetFromHeaderIndex(current);
    block.headers[current]=(byte)((freeListIndex << 1) | 1);
    current=block.data.getInt(offset + 4);
    dest[ix].initialize(block.data,offset,size);
    block.data.putLong(offset,-1);
    ++ix;
  }
  freeList.listHead=current;
  return ix;
}
