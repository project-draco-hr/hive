{
  String searchFilter;
  String searchBase;
  SearchResult searchResult=null;
  NamingEnumeration<SearchResult> results;
  String[] returnAttributes=new String[0];
  SearchControls searchControls=new SearchControls();
  searchControls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  searchControls.setReturningAttributes(returnAttributes);
  for (  String node : nodes) {
    searchFilter="(" + (node.substring(0,node.indexOf(","))).replaceAll("%s",name) + ")";
    searchBase=node.split(",",2)[1];
    results=ctx.search(searchBase,searchFilter,searchControls);
    if (results.hasMoreElements()) {
      searchResult=results.nextElement();
      if (results.hasMoreElements()) {
        LOG.warn("Matched multiple entities for the name: " + name);
        return null;
      }
      return searchResult.getNameInNamespace();
    }
  }
  return null;
}
