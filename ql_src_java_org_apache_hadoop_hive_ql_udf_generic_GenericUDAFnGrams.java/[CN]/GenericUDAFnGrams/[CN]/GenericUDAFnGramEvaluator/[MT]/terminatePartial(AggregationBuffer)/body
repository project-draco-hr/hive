{
  NGramAggBuf myagg=(NGramAggBuf)agg;
  ArrayList<Text> result=new ArrayList<Text>();
  result.add(new Text(Integer.toString(myagg.k)));
  result.add(new Text(Integer.toString(myagg.n)));
  result.add(new Text(Integer.toString(myagg.pf)));
  for (Iterator<ArrayList<String>> it=myagg.ngrams.keySet().iterator(); it.hasNext(); ) {
    ArrayList<String> mykey=it.next();
    for (int i=0; i < mykey.size(); i++) {
      result.add(new Text(mykey.get(i)));
    }
    Double myval=(Double)myagg.ngrams.get(mykey);
    result.add(new Text(myval.toString()));
  }
  return result;
}
