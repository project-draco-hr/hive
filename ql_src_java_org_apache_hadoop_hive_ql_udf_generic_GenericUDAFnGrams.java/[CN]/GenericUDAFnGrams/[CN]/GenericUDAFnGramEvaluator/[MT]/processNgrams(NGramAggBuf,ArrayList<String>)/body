{
  for (int i=seq.size() - agg.n; i >= 0; i--) {
    ArrayList<String> ngram=new ArrayList<String>();
    for (int j=0; j < agg.n; j++) {
      ngram.add(seq.get(i + j));
    }
    Double curVal=(Double)agg.ngrams.get(ngram);
    if (curVal == null) {
      curVal=new Double(1);
    }
 else {
      curVal++;
    }
    agg.ngrams.put(ngram,curVal);
  }
  if (agg.ngrams.size() > agg.k * agg.pf) {
    trim(agg,agg.k * agg.pf);
  }
}
