{
  VectorizedRowBatch b=TestVectorMathFunctions.getVectorizedRowBatchDoubleInLongOut();
  LongColumnVector resultV=(LongColumnVector)b.cols[1];
  b.cols[0].noNulls=true;
  VectorExpression expr=new CastDoubleToTimestampViaDoubleToLong(0,1);
  expr.evaluate(b);
  Assert.assertEquals(0,resultV.vector[3]);
  Assert.assertEquals((long)(0.5d * NANOS_PER_SECOND),resultV.vector[4]);
}
