{
  final double eps=0.000001d;
  VectorizedRowBatch b=getBatchDecimalDouble();
  VectorExpression expr=new CastDecimalToDouble(0,1);
  expr.evaluate(b);
  DoubleColumnVector r=(DoubleColumnVector)b.cols[1];
  assertEquals(1.1d,r.vector[0],eps);
  assertEquals(-2.2d,r.vector[1],eps);
  assertEquals(9999999999999999.0d,r.vector[2],eps);
  b=getBatchDecimalDouble();
  b.cols[0].noNulls=false;
  b.cols[0].isNull[1]=true;
  expr.evaluate(b);
  r=(DoubleColumnVector)b.cols[1];
  assertFalse(r.noNulls);
  assertTrue(r.isNull[1]);
  assertFalse(r.isNull[0]);
  assertEquals(1.1d,r.vector[0],eps);
  b=getBatchDecimalDouble();
  b.cols[0].isRepeating=true;
  expr.evaluate(b);
  r=(DoubleColumnVector)b.cols[1];
  assertTrue(r.isRepeating);
  assertEquals(1.1d,r.vector[0],eps);
  b=getBatchDecimalDouble();
  b.cols[0].isRepeating=true;
  b.cols[0].noNulls=false;
  b.cols[0].isNull[0]=true;
  expr.evaluate(b);
  r=(DoubleColumnVector)b.cols[1];
  assertTrue(r.isRepeating);
  assertTrue(r.isNull[0]);
}
