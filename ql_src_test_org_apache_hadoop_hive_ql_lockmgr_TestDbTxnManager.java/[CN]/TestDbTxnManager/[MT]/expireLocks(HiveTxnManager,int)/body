{
  DbLockManager lockManager=(DbLockManager)txnMgr.getLockManager();
  ShowLocksResponse resp=lockManager.getLocks();
  Assert.assertEquals("Wrong number of locks before expire",numLocksBefore,resp.getLocks().size());
  Thread.sleep(HiveConf.getTimeVar(conf,HiveConf.ConfVars.HIVE_TXN_TIMEOUT,TimeUnit.MILLISECONDS));
  runReaper();
  resp=lockManager.getLocks();
  Assert.assertEquals("Expected all locks to expire",0,resp.getLocks().size());
}
