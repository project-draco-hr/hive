{
  Table t=newTable("default","ceat",false);
  long txnid=openTxn();
  LockComponent comp=new LockComponent(LockType.SHARED_WRITE,LockLevel.TABLE,"default");
  comp.setTablename("ceat");
  List<LockComponent> components=new ArrayList<LockComponent>(1);
  components.add(comp);
  LockRequest req=new LockRequest(components,"me","localhost");
  req.setTxnid(txnid);
  LockResponse res=txnHandler.lock(req);
  txnHandler.abortTxn(new AbortTxnRequest(txnid));
  for (int i=0; i < TxnStore.TIMED_OUT_TXN_ABORT_BATCH_SIZE + 50; i++) {
    txnid=openTxn();
    txnHandler.abortTxn(new AbortTxnRequest(txnid));
  }
  GetOpenTxnsResponse openTxns=txnHandler.getOpenTxns();
  Assert.assertEquals(TxnStore.TIMED_OUT_TXN_ABORT_BATCH_SIZE + 50 + 1,openTxns.getOpen_txnsSize());
  startInitiator();
  openTxns=txnHandler.getOpenTxns();
  Assert.assertEquals(1,openTxns.getOpen_txnsSize());
}
