{
  String registryId=conf.getTrimmed(LlapDaemonConfiguration.LLAP_DAEMON_SERVICE_HOSTS);
  if (registryId.startsWith("@")) {
    LOG.info("Llap Registry is enabled with registryid: " + registryId);
    this.conf=new Configuration(conf);
    conf.addResource(YarnConfiguration.YARN_SITE_CONFIGURATION_FILE);
    instanceName=registryId.substring(1);
    client=(RegistryOperationsService)RegistryOperationsFactory.createInstance(conf);
    encoder=new RegistryUtils.ServiceRecordMarshal();
  }
 else {
    LOG.info("Llap Registry is disabled");
  }
}
