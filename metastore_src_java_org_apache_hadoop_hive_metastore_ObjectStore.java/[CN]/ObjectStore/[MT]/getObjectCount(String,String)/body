{
  Long result=0L;
  boolean commited=false;
  Query query=null;
  try {
    openTransaction();
    String queryStr="select count(" + fieldName + ") from "+ objName;
    query=pm.newQuery(queryStr);
    result=(Long)query.execute();
    commited=commitTransaction();
  }
  finally {
    if (!commited) {
      rollbackTransaction();
    }
    if (query != null) {
      query.closeAll();
    }
  }
  return result.intValue();
}
