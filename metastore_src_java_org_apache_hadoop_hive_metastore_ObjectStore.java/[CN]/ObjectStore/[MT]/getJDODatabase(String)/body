{
  MDatabase mdb=null;
  boolean commited=false;
  try {
    openTransaction();
    mdb=getMDatabase(name);
    commited=commitTransaction();
  }
  finally {
    if (!commited) {
      rollbackTransaction();
    }
  }
  Database db=new Database();
  db.setName(mdb.getName());
  db.setDescription(mdb.getDescription());
  db.setLocationUri(mdb.getLocationUri());
  db.setParameters(mdb.getParameters());
  db.setOwnerName(mdb.getOwnerName());
  String type=mdb.getOwnerType();
  db.setOwnerType((null == type || type.trim().isEmpty()) ? null : PrincipalType.valueOf(type));
  return db;
}
