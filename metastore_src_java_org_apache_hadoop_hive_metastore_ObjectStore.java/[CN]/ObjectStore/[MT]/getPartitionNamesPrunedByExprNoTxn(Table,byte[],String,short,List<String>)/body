{
  result.addAll(getPartitionNamesNoTxn(table.getDbName(),table.getTableName(),maxParts));
  List<String> columnNames=new ArrayList<String>();
  for (  FieldSchema fs : table.getPartitionKeys()) {
    columnNames.add(fs.getName());
  }
  if (defaultPartName == null || defaultPartName.isEmpty()) {
    defaultPartName=HiveConf.getVar(getConf(),HiveConf.ConfVars.DEFAULTPARTITIONNAME);
  }
  return expressionProxy.filterPartitionsByExpr(columnNames,expr,defaultPartName,result);
}
