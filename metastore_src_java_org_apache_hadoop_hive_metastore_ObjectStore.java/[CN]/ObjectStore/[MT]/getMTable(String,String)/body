{
  MTable mtbl=null;
  boolean commited=false;
  try {
    openTransaction();
    db=db.toLowerCase();
    table=table.toLowerCase();
    Query query=pm.newQuery(MTable.class,"tableName == table && database.name == db");
    query.declareParameters("java.lang.String table, java.lang.String db");
    query.setUnique(true);
    mtbl=(MTable)query.execute(table.trim(),db.trim());
    pm.retrieve(mtbl);
    commited=commitTransaction();
  }
  finally {
    if (!commited) {
      rollbackTransaction();
    }
  }
  return mtbl;
}
