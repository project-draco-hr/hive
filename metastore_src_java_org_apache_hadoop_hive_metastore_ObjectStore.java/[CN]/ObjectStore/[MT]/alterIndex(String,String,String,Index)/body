{
  boolean success=false;
  try {
    openTransaction();
    name=HiveStringUtils.normalizeIdentifier(name);
    baseTblName=HiveStringUtils.normalizeIdentifier(baseTblName);
    dbname=HiveStringUtils.normalizeIdentifier(dbname);
    MIndex newi=convertToMIndex(newIndex);
    if (newi == null) {
      throw new InvalidObjectException("new index is invalid");
    }
    MIndex oldi=getMIndex(dbname,baseTblName,name);
    if (oldi == null) {
      throw new MetaException("index " + name + " doesn't exist");
    }
    oldi.setParameters(newi.getParameters());
    success=commitTransaction();
  }
  finally {
    if (!success) {
      rollbackTransaction();
    }
  }
}
