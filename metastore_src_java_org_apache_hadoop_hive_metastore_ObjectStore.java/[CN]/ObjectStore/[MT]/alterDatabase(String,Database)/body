{
  MDatabase mdb=null;
  boolean committed=false;
  try {
    mdb=getMDatabase(dbName);
    mdb.setParameters(db.getParameters());
    openTransaction();
    pm.makePersistent(mdb);
    committed=commitTransaction();
  }
  finally {
    if (!committed) {
      rollbackTransaction();
      return false;
    }
  }
  return true;
}
