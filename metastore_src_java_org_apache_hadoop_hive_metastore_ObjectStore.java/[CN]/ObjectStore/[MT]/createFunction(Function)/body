{
  boolean committed=false;
  try {
    openTransaction();
    MFunction mfunc=convertToMFunction(func);
    pm.makePersistent(mfunc);
    incrementChangeVersionNoTx(IMetaStoreClient.PERMANENT_FUNCTION_CV);
    committed=commitTransaction();
  }
  finally {
    if (!committed) {
      rollbackTransaction();
    }
  }
}
