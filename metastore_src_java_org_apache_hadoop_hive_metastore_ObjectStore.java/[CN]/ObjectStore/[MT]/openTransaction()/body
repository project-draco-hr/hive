{
  openTrasactionCalls++;
  if (openTrasactionCalls == 1) {
    currentTransaction=pm.currentTransaction();
    currentTransaction.begin();
    transactionStatus=TXN_STATUS.OPEN;
  }
 else {
    if ((currentTransaction == null) || (!currentTransaction.isActive())) {
      throw new RuntimeException("openTransaction called in an interior" + " transaction scope, but currentTransaction is not active.");
    }
  }
  boolean result=currentTransaction.isActive();
  debugLog("Open transaction: count = " + openTrasactionCalls + ", isActive = "+ result);
  incrementMetricsCount(MetricsConstant.JDO_OPEN_TRANSACTIONS);
  return result;
}
