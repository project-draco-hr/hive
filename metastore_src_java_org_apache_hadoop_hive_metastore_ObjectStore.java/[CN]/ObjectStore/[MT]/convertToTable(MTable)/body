{
  if (mtbl == null) {
    return null;
  }
  String tableType=mtbl.getTableType();
  if (tableType == null) {
    if (mtbl.getViewOriginalText() != null) {
      tableType=TableType.VIRTUAL_VIEW.toString();
    }
 else     if ("TRUE".equals(mtbl.getParameters().get("EXTERNAL"))) {
      tableType=TableType.EXTERNAL_TABLE.toString();
    }
 else {
      tableType=TableType.MANAGED_TABLE.toString();
    }
  }
  return new Table(mtbl.getTableName(),mtbl.getDatabase().getName(),mtbl.getOwner(),mtbl.getCreateTime(),mtbl.getLastAccessTime(),mtbl.getRetention(),convertToStorageDescriptor(mtbl.getSd()),convertToFieldSchemas(mtbl.getPartitionKeys()),mtbl.getParameters(),mtbl.getViewOriginalText(),mtbl.getViewExpandedText(),tableType);
}
