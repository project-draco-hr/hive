{
  MIndex midx=null;
  boolean commited=false;
  try {
    openTransaction();
    dbName=dbName.toLowerCase().trim();
    originalTblName=originalTblName.toLowerCase().trim();
    MTable mtbl=getMTable(dbName,originalTblName);
    if (mtbl == null) {
      commited=commitTransaction();
      return null;
    }
    Query query=pm.newQuery(MIndex.class,"origTable.tableName == t1 && origTable.database.name == t2 && indexName == t3");
    query.declareParameters("java.lang.String t1, java.lang.String t2, java.lang.String t3");
    query.setUnique(true);
    midx=(MIndex)query.execute(originalTblName,dbName,indexName);
    pm.retrieve(midx);
    commited=commitTransaction();
  }
  finally {
    if (!commited) {
      rollbackTransaction();
    }
  }
  return midx;
}
