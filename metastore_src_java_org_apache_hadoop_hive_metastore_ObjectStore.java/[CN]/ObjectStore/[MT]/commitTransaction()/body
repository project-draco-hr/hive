{
  if (TXN_STATUS.ROLLBACK == transactionStatus) {
    return false;
  }
  if (openTrasactionCalls <= 0) {
    throw new RuntimeException("commitTransaction was called but openTransactionCalls = " + openTrasactionCalls + ". This probably indicates that there are unbalanced "+ "calls to openTransaction/commitTransaction");
  }
  if (!currentTransaction.isActive()) {
    throw new RuntimeException("Commit is called, but transaction is not active. Either there are" + " mismatching open and close calls or rollback was called in the same trasaction");
  }
  openTrasactionCalls--;
  if ((openTrasactionCalls == 0) && currentTransaction.isActive()) {
    transactionStatus=TXN_STATUS.COMMITED;
    currentTransaction.commit();
  }
  return true;
}
