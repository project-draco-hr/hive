{
  DelegationKey dk=fsm.getDelegationKey(idToPreserve), curDk=fsm.getCurrentKey();
  if (curDk.getKeyId() != idToPreserve) {
    LOG.warn("The current key is not the one we expect; key rolled in background? Signed with " + idToPreserve + " but got "+ curDk.getKeyId());
  }
  assertNotNull(dk);
  assertEquals(idToPreserve,dk.getKeyId());
  fsm.stopThreads();
  fsm=new FakeSecretManager();
  fsm.addKey(dk);
  assertNotNull("Couldn't add key",fsm.getDelegationKey(dk.getKeyId()));
  fsm.startThreads();
  return fsm;
}
