{
  WindowFunctionInfo wFnInfo=FunctionRegistry.getWindowFunctionInfo(wFn.getName());
  boolean supportsWindowing=wFnInfo == null ? true : wFnInfo.isSupportsWindow();
  WindowFrameSpec wFrame=wdwSpec.getWindowFrame();
  OrderSpec orderSpec=wdwSpec.getOrder();
  if (wFrame == null) {
    if (!supportsWindowing) {
      wFrame=new WindowFrameSpec(new RangeBoundarySpec(Direction.PRECEDING,BoundarySpec.UNBOUNDED_AMOUNT),new RangeBoundarySpec(Direction.FOLLOWING,BoundarySpec.UNBOUNDED_AMOUNT));
    }
 else     if (orderSpec == null) {
      wFrame=new WindowFrameSpec(new RangeBoundarySpec(Direction.PRECEDING,BoundarySpec.UNBOUNDED_AMOUNT),new RangeBoundarySpec(Direction.FOLLOWING,BoundarySpec.UNBOUNDED_AMOUNT));
    }
 else {
      wFrame=new WindowFrameSpec(new ValueBoundarySpec(Direction.PRECEDING,BoundarySpec.UNBOUNDED_AMOUNT),new CurrentRowSpec());
    }
    wdwSpec.setWindowFrame(wFrame);
  }
 else   if (wFrame.getEnd() == null) {
    wFrame.setEnd(new CurrentRowSpec());
  }
}
