{
  setMetadata(parent.getMetadata());
  this.collectionType=collectionType;
  this.parent=parent;
  this.index=index;
  Type repeatedType=collectionType.getType(0);
  if (isMap) {
    this.innerConverter=new KeyValueConverter(repeatedType.asGroupType(),this);
  }
 else   if (isElementType(repeatedType,collectionType.getName())) {
    this.innerConverter=getConverterFromDescription(repeatedType,0,this);
  }
 else {
    this.innerConverter=new ElementConverter(repeatedType.asGroupType(),this);
  }
}
