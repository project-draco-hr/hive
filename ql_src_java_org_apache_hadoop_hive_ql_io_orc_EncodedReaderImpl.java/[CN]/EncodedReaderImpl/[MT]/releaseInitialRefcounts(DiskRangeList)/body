{
  while (current != null) {
    DiskRangeList toFree=current;
    current=current.next;
    if (!(toFree instanceof TrackedCacheChunk))     continue;
    TrackedCacheChunk cc=(TrackedCacheChunk)toFree;
    if (cc.isReleased)     continue;
    LlapMemoryBuffer buffer=((CacheChunk)toFree).buffer;
    if (DebugUtils.isTraceLockingEnabled()) {
      LOG.info("Unlocking " + buffer + " for the fetching thread at the end");
    }
    cache.releaseBuffer(buffer);
    cc.isReleased=true;
  }
}
