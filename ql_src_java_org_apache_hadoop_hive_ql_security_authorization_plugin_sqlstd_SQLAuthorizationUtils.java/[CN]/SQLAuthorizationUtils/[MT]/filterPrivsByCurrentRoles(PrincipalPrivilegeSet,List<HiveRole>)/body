{
  if (thriftPrivs == null || thriftPrivs.getRolePrivileges() == null || thriftPrivs.getRolePrivilegesSize() == 0) {
    return;
  }
  Map<String,List<PrivilegeGrantInfo>> filteredRolePrivs=new HashMap<String,List<PrivilegeGrantInfo>>();
  for (  HiveRole role : curRoles) {
    String roleName=role.getRoleName();
    List<PrivilegeGrantInfo> privs=thriftPrivs.getRolePrivileges().get(roleName);
    if (privs != null) {
      filteredRolePrivs.put(roleName,privs);
    }
  }
  thriftPrivs.setRolePrivileges(filteredRolePrivs);
}
