{
  if (hPrincipal == null || hPrincipal.getType() == null) {
    return hPrincipal;
  }
switch (hPrincipal.getType()) {
case USER:
    return hPrincipal;
case ROLE:
  return new HivePrincipal(hPrincipal.getName().toLowerCase(),hPrincipal.getType());
default :
throw new HiveAuthzPluginException("Invalid principal type in principal " + hPrincipal);
}
}
