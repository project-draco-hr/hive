{
  String objectDn1="cn=a1,dc=b,dc=c";
  String objectDn2="cn=a2,dc=b,dc=c";
  String objectDn3="cn=a3,dc=b,dc=c";
  MockResultCollection resultCollection=MockResultCollection.create().addSearchResultWithDns(objectDn1).addSearchResultWithDns(objectDn2,objectDn3);
  handler=new SearchResultHandler(resultCollection);
  List<String> expected=Arrays.asList(objectDn1,objectDn2,objectDn3);
  Collections.sort(expected);
  List<String> actual=handler.getAllLdapNames();
  Collections.sort(actual);
  assertEquals(expected,actual);
  assertAllNamingEnumerationsClosed(resultCollection);
}
