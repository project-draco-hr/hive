{
synchronized (this) {
    if (cleaning)     return;
    cleaning=true;
    cleans.incr();
  }
  Thread cleaner=new Thread(){
    @Override public void run(){
      try {
        List<Map.Entry<Key,StatsInfo>> entries=null;
        lock.readLock().lock();
        try {
          entries=new ArrayList<Map.Entry<Key,StatsInfo>>(cache.entrySet());
        }
  finally {
          lock.readLock().unlock();
        }
        for (        Map.Entry<Key,StatsInfo> entry : entries) {
          if (tooLate(entry.getValue())) {
            remove(entry.getKey());
          }
          Thread.yield();
        }
      }
 catch (      Throwable t) {
        LOG.error("Caught exception in stats cleaner thread",t);
      }
 finally {
        cleaning=false;
      }
    }
  }
;
  cleaner.setPriority(Thread.MIN_PRIORITY);
  cleaner.setDaemon(true);
  cleaner.start();
}
