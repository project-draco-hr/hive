{
  if (threadLocalScopes.get().containsKey(name)) {
    return threadLocalScopes.get().get(name);
  }
 else {
    throw new IllegalStateException("No metrics scope named " + name);
  }
}
