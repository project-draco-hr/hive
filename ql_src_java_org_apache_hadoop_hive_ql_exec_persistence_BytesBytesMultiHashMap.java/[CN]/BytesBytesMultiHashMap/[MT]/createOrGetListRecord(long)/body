{
  if (Ref.hasList(ref)) {
    return writeBuffers.getReadPoint();
  }
  long firstTailOffset=Ref.getOffset(ref);
  writeBuffers.setReadPoint(firstTailOffset);
  writeBuffers.skipVLong();
  writeBuffers.skipVLong();
  int lengthsLength=(int)(writeBuffers.getReadPoint() - firstTailOffset);
  writeBuffers.writeBytes(firstTailOffset,lengthsLength);
  long lrPtrOffset=writeBuffers.getWritePoint();
  writeBuffers.write(FIVE_ZEROES);
  writeBuffers.writeFiveByteULong(firstTailOffset,lrPtrOffset - lengthsLength - firstTailOffset);
  return lrPtrOffset;
}
