{
  if (!compareHashBits(ref,hashCode)) {
    ++metricDiffBits;
    return false;
  }
  writeBuffers.setReadPoint(getFirstRecordLengthsOffset(ref));
  int valueLength=(int)writeBuffers.readVLong(), keyLength=(int)writeBuffers.readVLong();
  long keyOffset=Ref.getOffset(ref) - (valueLength + keyLength);
  boolean result=writeBuffers.isEqual(key,length,keyOffset,keyLength);
  if (result) {
    ++metricSameBitsSameKey;
  }
 else {
    ++metricSameBitsDiffKey;
  }
  return result;
}
