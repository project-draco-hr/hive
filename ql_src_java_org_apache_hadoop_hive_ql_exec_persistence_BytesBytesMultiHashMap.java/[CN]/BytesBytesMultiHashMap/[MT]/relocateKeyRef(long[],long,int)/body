{
  final int bucketMask=newRefs.length - 1;
  int newSlot=hashCode & bucketMask;
  long probeSlot=newSlot;
  int i=0;
  while (true) {
    long current=newRefs[newSlot];
    if (current == 0) {
      newRefs[newSlot]=newRef;
      break;
    }
    probeSlot+=(++i);
    newSlot=(int)(probeSlot & bucketMask);
  }
  return i;
}
