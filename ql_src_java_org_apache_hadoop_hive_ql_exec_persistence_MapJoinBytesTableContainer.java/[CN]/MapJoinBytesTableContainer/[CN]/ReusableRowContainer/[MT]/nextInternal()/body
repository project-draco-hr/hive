{
  if (dummyRow != null) {
    List<Object> result=dummyRow;
    dummyRow=null;
    return result;
  }
  if (currentRow < 0 || refs.size() < currentRow)   throw new HiveException("No rows");
  if (refs.size() == currentRow)   return null;
  WriteBuffers.ByteSegmentRef ref=refs.get(currentRow++);
  if (ref.getLength() == 0) {
    return EMPTY_LIST;
  }
  if (ref.getBytes() == null) {
    threadSafeHashMapGetter.populateValue(ref);
  }
  uselessIndirection.setData(ref.getBytes());
  valueStruct.init(uselessIndirection,(int)ref.getOffset(),ref.getLength());
  return valueStruct.getFieldsAsList();
}
