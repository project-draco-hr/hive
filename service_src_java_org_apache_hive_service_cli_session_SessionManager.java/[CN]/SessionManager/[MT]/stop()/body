{
  super.stop();
  if (backgroundOperationPool != null) {
    backgroundOperationPool.shutdown();
    int timeout=hiveConf.getIntVar(ConfVars.HIVE_SERVER2_ASYNC_EXEC_SHUTDOWN_TIMEOUT);
    try {
      backgroundOperationPool.awaitTermination(timeout,TimeUnit.SECONDS);
    }
 catch (    InterruptedException e) {
      LOG.warn("HIVE_SERVER2_ASYNC_EXEC_SHUTDOWN_TIMEOUT = " + timeout + " seconds has been exceeded. RUNNING background operations will be shut down",e);
    }
  }
  cleanupLoggingRootDir();
}
