{
  operationLogRootDir=new File(hiveConf.getVar(ConfVars.HIVE_SERVER2_LOGGING_OPERATION_LOG_LOCATION));
  isOperationLogEnabled=true;
  if (operationLogRootDir.exists() && !operationLogRootDir.isDirectory()) {
    LOG.warn("The operation log root directory exists, but it is not a directory: " + operationLogRootDir.getAbsolutePath());
    isOperationLogEnabled=false;
  }
  if (!operationLogRootDir.exists()) {
    if (!operationLogRootDir.mkdirs()) {
      LOG.warn("Unable to create operation log root directory: " + operationLogRootDir.getAbsolutePath());
      isOperationLogEnabled=false;
    }
  }
  if (isOperationLogEnabled) {
    LOG.info("Operation log root directory is created: " + operationLogRootDir.getAbsolutePath());
    try {
      FileUtils.forceDeleteOnExit(operationLogRootDir);
    }
 catch (    IOException e) {
      LOG.warn("Failed to schedule cleanup HS2 operation logging root dir: " + operationLogRootDir.getAbsolutePath(),e);
    }
  }
}
