{
  if (tbl.getSd() instanceof SharedStorageDescriptor) {
    return new SharedStorageDescriptor((SharedStorageDescriptor)tbl.getSd());
  }
  StorageDescriptor sd=new StorageDescriptor();
  try {
    TMemoryBuffer buffer=new TMemoryBuffer(1024);
    TBinaryProtocol prot=new TBinaryProtocol(buffer);
    tbl.getTTable().getSd().write(prot);
    sd.read(prot);
  }
 catch (  TException e) {
    LOG.error("Could not create a copy of StorageDescription");
    throw new HiveException("Could not create a copy of StorageDescription",e);
  }
  return sd;
}
