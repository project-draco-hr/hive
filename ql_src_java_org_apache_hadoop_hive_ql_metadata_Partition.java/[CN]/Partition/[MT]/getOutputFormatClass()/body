{
  if (outputFormatClass == null) {
    String clsName=tPartition.getSd() == null ? null : tPartition.getSd().getOutputFormat();
    if (clsName == null) {
      return outputFormatClass=table.getOutputFormatClass();
    }
    try {
      Class<?> c=Class.forName(clsName,true,Utilities.getSessionSpecifiedClassLoader());
      outputFormatClass=HiveFileFormatUtils.getOutputFormatSubstitute(c);
    }
 catch (    ClassNotFoundException e) {
      throw new HiveException("Class not found: " + clsName,e);
    }
  }
  return outputFormatClass;
}
