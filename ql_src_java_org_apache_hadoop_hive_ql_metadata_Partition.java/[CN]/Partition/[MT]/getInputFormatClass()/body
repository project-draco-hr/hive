{
  if (inputFormatClass == null) {
    String clsName=null;
    if (tPartition != null && tPartition.getSd() != null) {
      clsName=tPartition.getSd().getInputFormat();
    }
    if (clsName == null) {
      clsName=org.apache.hadoop.mapred.SequenceFileInputFormat.class.getName();
    }
    try {
      inputFormatClass=((Class<? extends InputFormat>)Class.forName(clsName,true,JavaUtils.getClassLoader()));
    }
 catch (    ClassNotFoundException e) {
      throw new HiveException("Class not found: " + clsName,e);
    }
  }
  return inputFormatClass;
}
