{
switch (s) {
case SENT:
    break;
case QUEUED:
  l.onJobQueued(this);
break;
case STARTED:
l.onJobStarted(this);
break;
case CANCELLED:
l.onJobCancelled(this);
break;
case FAILED:
l.onJobFailed(this,promise.cause());
break;
case SUCCEEDED:
try {
l.onJobSucceeded(this,promise.get());
}
 catch (Exception e) {
throw new IllegalStateException(e);
}
break;
default :
throw new IllegalStateException();
}
}
