{
synchronized (listeners) {
    promise.setFailure(error);
    changeState(State.FAILED);
  }
}
