{
synchronized (listeners) {
    if (newState.ordinal() > state.ordinal() && state.ordinal() < State.CANCELLED.ordinal()) {
      state=newState;
      for (      Listener l : listeners) {
        fireStateChange(newState,l);
      }
      return true;
    }
    return false;
  }
}
