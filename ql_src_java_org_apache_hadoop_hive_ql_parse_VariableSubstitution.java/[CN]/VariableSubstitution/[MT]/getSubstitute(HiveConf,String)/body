{
  String val=super.getSubstitute(conf,var);
  if (val == null) {
    if (var.startsWith(HIVECONF_PREFIX)) {
      val=conf.get(var.substring(HIVECONF_PREFIX.length()));
    }
  }
  if (val == null) {
    Map<String,String> vars=SessionState.get().getHiveVariables();
    if (var.startsWith(HIVEVAR_PREFIX)) {
      val=vars.get(var.substring(HIVEVAR_PREFIX.length()));
    }
 else {
      val=vars.get(var);
    }
  }
  return val;
}
