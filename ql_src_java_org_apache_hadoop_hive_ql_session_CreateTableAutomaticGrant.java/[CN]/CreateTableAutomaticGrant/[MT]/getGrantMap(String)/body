{
  if (grantMapStr != null && !grantMapStr.trim().equals("")) {
    String[] grantArrayStr=grantMapStr.split(";");
    Map<String,List<PrivilegeGrantInfo>> grantsMap=new HashMap<String,List<PrivilegeGrantInfo>>();
    for (    String grantStr : grantArrayStr) {
      String[] principalListAndPrivList=grantStr.split(":");
      if (principalListAndPrivList.length != 2 || principalListAndPrivList[0] == null || principalListAndPrivList[0].trim().equals("")) {
        throw new HiveException("Can not understand the config privilege definition " + grantStr);
      }
      String userList=principalListAndPrivList[0];
      String privList=principalListAndPrivList[1];
      List<PrivilegeGrantInfo> grantInfoList=getGrantorInfoList(privList);
      if (grantInfoList != null) {
        String[] users=userList.split(",");
        for (        String user : users) {
          grantsMap.put(user,grantInfoList);
        }
      }
    }
    return grantsMap;
  }
  return null;
}
