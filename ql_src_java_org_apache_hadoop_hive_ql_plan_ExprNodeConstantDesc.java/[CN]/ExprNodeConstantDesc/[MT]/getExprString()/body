{
  if (typeInfo.getCategory() == Category.PRIMITIVE) {
    return getFormatted(typeInfo,value);
  }
 else   if (typeInfo.getCategory() == Category.STRUCT) {
    StringBuilder sb=new StringBuilder();
    sb.append("const struct(");
    List<?> items=(List<?>)getWritableObjectInspector().getWritableConstantValue();
    List<TypeInfo> structTypes=((StructTypeInfo)typeInfo).getAllStructFieldTypeInfos();
    for (int i=0; i < structTypes.size(); i++) {
      final Object o=(i < items.size()) ? items.get(i) : null;
      sb.append(getFormatted(structTypes.get(i),o)).append(",");
    }
    sb.setCharAt(sb.length() - 1,')');
    return sb.toString();
  }
 else {
    return toString();
  }
}
