{
  if (updateStats) {
    statistics.incrementReadOps(1);
  }
  checkAccess();
  List<BlockLocation> result=new ArrayList<BlockLocation>();
  MockFile file=findFile(stat.getPath());
  if (file != null) {
    for (    MockBlock block : file.blocks) {
      if (OrcInputFormat.SplitGenerator.getOverlap(block.offset,block.length,start,len) > 0) {
        String[] topology=new String[block.hosts.length];
        for (int i=0; i < topology.length; ++i) {
          topology[i]="/rack/ " + block.hosts[i];
        }
        result.add(new BlockLocation(block.hosts,block.hosts,topology,block.offset,block.length));
      }
    }
    return result.toArray(new BlockLocation[result.size()]);
  }
  return new BlockLocation[0];
}
