{
  InetSocketAddress addr=new InetSocketAddress(srvPort);
  RPC.Server server;
  try {
    server=createServer(protocolClass,addr,conf,numHandlers,impl,aclVars);
    server.start();
  }
 catch (  IOException e) {
    LOG.error("Failed to run RPC Server on port: " + srvPort,e);
    throw new RuntimeException(e);
  }
  InetSocketAddress serverBindAddress=NetUtils.getConnectAddress(server);
  bindAddress.set(NetUtils.createSocketAddrForHost(serverBindAddress.getAddress().getCanonicalHostName(),serverBindAddress.getPort()));
  LOG.info("Instantiated " + protocolClass.getSimpleName() + " at "+ bindAddress);
  return server;
}
