{
  final int fieldCount=tableAccessRel.getRowType().getFieldCount();
  if (fieldsUsed.isEmpty() || (fieldsUsed.equals(BitSets.range(fieldCount)) && extraFields.isEmpty())) {
    return trimFields((HiveRel)tableAccessRel,fieldsUsed,extraFields);
  }
  final RelNode _newTableAccessRel=tableAccessRel.project(fieldsUsed,extraFields);
  final RelNode newTableAccessRel=HiveProjectRel.DEFAULT_PROJECT_FACTORY.createProject(tableAccessRel,_newTableAccessRel.getChildExps(),_newTableAccessRel.getRowType().getFieldNames());
  final Mapping mapping=createMapping(fieldsUsed,fieldCount);
  return new TrimResult(newTableAccessRel,mapping);
}
