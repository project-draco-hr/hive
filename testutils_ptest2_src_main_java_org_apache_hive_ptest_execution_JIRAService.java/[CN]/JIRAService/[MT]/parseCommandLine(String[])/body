{
  CommandLineParser parser=new GnuParser();
  Options options=new Options();
  options.addOption(OPT_HELP_SHORT,OPT_HELP_LONG,false,"Display help text and exit");
  options.addOption(OPT_USER_SHORT,OPT_USER_LONG,true,"Jira username.");
  options.addOption(OPT_PASS_SHORT,OPT_PASS_LONG,true,"Jira password.");
  options.addOption(OPT_FILE_SHORT,OPT_FILE_LONG,true,"Pathname to file (JSON format) that will be post as Jira comment.");
  CommandLine cmd=parser.parse(options,args);
  if (cmd.hasOption(OPT_HELP_LONG)) {
    new HelpFormatter().printHelp(JIRAService.class.getName(),options,true);
    return null;
  }
  assertRequired(cmd,new String[]{OPT_USER_LONG,OPT_PASS_LONG,OPT_FILE_LONG});
  return cmd;
}
