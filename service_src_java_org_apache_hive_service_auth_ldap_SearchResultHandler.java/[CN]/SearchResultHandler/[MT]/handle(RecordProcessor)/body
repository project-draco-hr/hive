{
  try {
    for (    NamingEnumeration<SearchResult> searchResult : searchResults) {
      while (searchResult.hasMore()) {
        if (!processor.process(searchResult.next())) {
          return;
        }
      }
    }
  }
  finally {
    for (    NamingEnumeration<SearchResult> searchResult : searchResults) {
      try {
        searchResult.close();
      }
 catch (      NamingException ex) {
        LOG.warn("Failed to close LDAP search result",ex);
      }
    }
  }
}
