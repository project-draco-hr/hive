{
  if (id == null)   acceptWithError("No jobid given");
  JobState state=null;
  try {
    state=new JobState(id,Main.getAppConfigInstance());
    if (state.getCompleteStatus() == null)     failed("Job not yet complete. jobId=" + id,null);
    Long notified=state.getNotifiedTime();
    if (notified != null)     return acceptWithError("Callback already run for jobId=" + id + " at "+ new Date(notified));
    String callback=state.getCallback();
    if (callback == null)     return new CompleteBean("No callback registered");
    try {
      doCallback(state.getId(),callback);
    }
 catch (    Exception e) {
      failed("Callback failed " + callback + " for "+ id,e);
    }
    state.setNotifiedTime(System.currentTimeMillis());
    return new CompleteBean("Callback sent");
  }
  finally {
    if (state != null)     state.close();
  }
}
