{
  StringBuilder sb=new StringBuilder();
  sb.append("{");
  sb.append(getJSONKeyValue("queryId",query.getQueryId()));
  sb.append(getJSONKeyValue("queryType",query.getQueryType()));
  sb.append(getJSONKeyValue("queryAttributes",getJSONMap(query.getQueryAttributes())));
  sb.append(getJSONKeyValue("queryCounters",getJSONMap(query.getQueryCounters())));
  sb.append(getJSONKeyValue("stageGraph",getJSONGraph(query.getStageGraph())));
  List<String> stageList=new ArrayList<String>();
  if (query.getStageList() != null) {
    for (    org.apache.hadoop.hive.ql.plan.api.Stage stage : query.getStageList()) {
      stageList.add(getJSONStage(stage));
    }
  }
  sb.append(getJSONKeyValue("stageList",getJSONList(stageList)));
  sb.append(getJSONKeyValue("done",query.isDone()));
  sb.append(getJSONKeyValue("started",query.isStarted()));
  sb.deleteCharAt(sb.length() - 1);
  sb.append("}");
  return sb.toString();
}
