{
  DiskRangeListCreateHelper list=new DiskRangeListCreateHelper();
  DiskRangeList iter=null;
  int intCount=0, lastInt=-1;
  int resultCount=stuff.length;
  for (  Object obj : stuff) {
    if (obj instanceof Integer) {
      --resultCount;
      assertTrue(intCount >= 0);
      if (intCount == 0) {
        lastInt=(Integer)obj;
        intCount=1;
      }
 else {
        list.addOrMerge(lastInt,(Integer)obj,true,true);
        intCount=0;
      }
      continue;
    }
 else     if (intCount >= 0) {
      assertTrue(intCount == 0);
      intCount=-1;
      iter=cache.getFileData(fileId,list.get(),0);
      assertEquals(resultCount,iter.listSize());
    }
    assertTrue(iter != null);
    if (obj instanceof LlapMemoryBuffer) {
      assertTrue(iter instanceof CacheChunk);
      assertSame(obj,((CacheChunk)iter).buffer);
    }
 else {
      assertTrue(iter.equals(obj));
    }
    iter=iter.next;
  }
}
