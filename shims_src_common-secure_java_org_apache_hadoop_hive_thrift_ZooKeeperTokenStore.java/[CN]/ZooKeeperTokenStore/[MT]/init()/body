{
  if (this.zkConnectString == null) {
    throw new IllegalStateException("Not initialized");
  }
  if (this.zkSession != null) {
    try {
      this.zkSession.close();
    }
 catch (    InterruptedException ex) {
      LOGGER.warn("Failed to close existing session.",ex);
    }
  }
  ZooKeeper zk=getSession();
  try {
    ensurePath(zk,rootNode + NODE_KEYS,newNodeAcl);
    ensurePath(zk,rootNode + NODE_TOKENS,newNodeAcl);
  }
 catch (  Exception e) {
    throw new TokenStoreException("Failed to validate token path.",e);
  }
}
