{
  Class.forName(MiniHS2.getJdbcDriverName());
  String confDir="../../data/conf/llap/";
  if (confDir != null && !confDir.isEmpty()) {
    HiveConf.setHiveSiteLocation(new URL("file://" + new File(confDir).toURI().getPath() + "/hive-site.xml"));
    System.out.println("Setting hive-site: " + HiveConf.getHiveSiteLocation());
  }
  conf=new HiveConf();
  conf.setBoolVar(ConfVars.HIVE_SUPPORT_CONCURRENCY,false);
  conf.setBoolVar(HiveConf.ConfVars.HIVE_RPC_QUERY_PLAN,true);
  conf.addResource(new URL("file://" + new File(confDir).toURI().getPath() + "/tez-site.xml"));
  miniHS2=new MiniHS2(conf,MiniClusterType.LLAP);
  dataFileDir=conf.get("test.data.files").replace('\\','/').replace("c:","");
  kvDataFilePath=new Path(dataFileDir,"kv1.txt");
  Map<String,String> confOverlay=new HashMap<String,String>();
  miniHS2.start(confOverlay);
  miniHS2.getDFS().getFileSystem().mkdirs(new Path("/apps_staging_dir/anonymous"));
}
