{
  try {
    String location=db.getLocationUri();
    if (location == null) {
      return getDefaultDatabasePath(db.getName());
    }
 else {
      return wh.getDnsPath(wh.getDatabasePath(db));
    }
  }
 catch (  MetaException ex) {
    throw new HiveException(ex.getMessage());
  }
}
