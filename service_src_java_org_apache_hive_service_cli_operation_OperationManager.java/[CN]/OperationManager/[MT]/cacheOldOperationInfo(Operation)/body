{
  if ((getHiveConf().getIntVar(HiveConf.ConfVars.HIVE_SERVER2_WEBUI_PORT) != 0) && getHiveConf().getIntVar(HiveConf.ConfVars.HIVE_SERVER2_WEBUI_MAX_HISTORIC_QUERIES) > 0) {
    if (oldOperation instanceof SQLOperation) {
      SQLOperation query=(SQLOperation)oldOperation;
      SQLOperationInfo queryInfo=query.getSQLOperationInfo();
      if (queryInfo != null) {
synchronized (historicSqlOperations) {
          historicSqlOperations.add(queryInfo);
        }
      }
    }
  }
}
