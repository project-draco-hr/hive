{
  OptionsProcessor processor=new OptionsProcessor();
  String[] args={"-i","f1","-i","f2","-f","fileName"};
  assertTrue(processor.process_stage1(args));
  CliSessionState sessionState=new CliSessionState(new HiveConf());
  processor.process_stage2(sessionState);
  assertEquals("fileName",sessionState.fileName);
  assertEquals(2,sessionState.initFiles.size());
  assertEquals("f1",sessionState.initFiles.get(0));
  assertEquals("f2",sessionState.initFiles.get(1));
}
