{
  List<? extends StructField> fieldRefs=((StructObjectInspector)oi).getAllStructFieldRefs();
  int num=fieldRefs.size();
  fieldInfoList=new FieldInfo[num];
  if (notSkippedColumnIDs == null || notSkippedColumnIDs.size() == 0) {
    for (int i=0; i < num; i++) {
      notSkippedColumnIDs.add(i);
    }
  }
  for (int i=0; i < num; i++) {
    ObjectInspector foi=fieldRefs.get(i).getFieldObjectInspector();
    fieldInfoList[i]=new FieldInfo(createLazyObjectBase(foi),!notSkippedColumnIDs.contains(i),foi);
  }
  int min=notSkippedColumnIDs.size() > num ? num : notSkippedColumnIDs.size();
  prjColIDs=new int[min];
  for (int i=0, index=0; i < notSkippedColumnIDs.size(); ++i) {
    int readCol=notSkippedColumnIDs.get(i).intValue();
    if (readCol < num) {
      prjColIDs[index]=readCol;
      index++;
    }
  }
}
