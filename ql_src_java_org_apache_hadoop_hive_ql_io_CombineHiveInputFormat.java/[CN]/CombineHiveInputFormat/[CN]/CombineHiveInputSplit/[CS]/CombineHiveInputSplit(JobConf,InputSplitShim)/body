{
  this.inputSplitShim=inputSplitShim;
  if (job != null && inputFormatClassName == null) {
    Map<String,PartitionDesc> pathToPartitionInfo=Utilities.getMapRedWork(job).getPathToPartitionInfo();
    Path[] ipaths=inputSplitShim.getPaths();
    PartitionDesc part=getPartitionDescFromPath(pathToPartitionInfo,ipaths[0]);
    inputFormatClassName=part.getInputFileFormatClass().getName();
  }
}
