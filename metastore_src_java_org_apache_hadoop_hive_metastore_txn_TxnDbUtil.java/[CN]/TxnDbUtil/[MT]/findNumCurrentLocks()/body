{
  Connection conn=null;
  Statement stmt=null;
  ResultSet rs=null;
  try {
    conn=getConnection();
    stmt=conn.createStatement();
    rs=stmt.executeQuery("select count(*) from hive_locks");
    if (!rs.next()) {
      return 0;
    }
    return rs.getInt(1);
  }
  finally {
    closeResources(conn,stmt,rs);
  }
}
