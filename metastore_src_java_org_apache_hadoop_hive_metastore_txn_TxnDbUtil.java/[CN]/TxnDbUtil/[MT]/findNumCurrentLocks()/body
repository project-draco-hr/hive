{
  Connection conn=null;
  try {
    conn=getConnection();
    Statement s=conn.createStatement();
    ResultSet rs=s.executeQuery("select count(*) from hive_locks");
    if (!rs.next())     return 0;
    int rc=rs.getInt(1);
    return rc;
  }
  finally {
    if (conn != null) {
      conn.rollback();
      conn.close();
    }
  }
}
