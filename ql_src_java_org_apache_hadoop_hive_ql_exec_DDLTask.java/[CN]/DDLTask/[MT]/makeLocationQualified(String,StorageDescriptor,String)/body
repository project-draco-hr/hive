{
  Path path=null;
  if (!sd.isSetLocation()) {
    if (databaseName.equalsIgnoreCase(MetaStoreUtils.DEFAULT_DATABASE_NAME)) {
      path=new Path(HiveConf.getVar(conf,HiveConf.ConfVars.METASTOREWAREHOUSE),MetaStoreUtils.encodeTableName(name.toLowerCase()));
    }
  }
 else {
    path=new Path(sd.getLocation());
  }
  if (path != null) {
    sd.setLocation(Utilities.getQualifiedPath(conf,path));
  }
}
