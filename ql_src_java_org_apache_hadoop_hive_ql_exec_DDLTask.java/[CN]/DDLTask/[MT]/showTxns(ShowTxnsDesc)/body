{
  GetOpenTxnsInfoResponse rsp=db.showTransactions();
  DataOutputStream os=null;
  try {
    Path resFile=new Path(desc.getResFile());
    FileSystem fs=resFile.getFileSystem(conf);
    os=fs.create(resFile);
    os.writeBytes("Transaction ID");
    os.write(separator);
    os.writeBytes("Transaction State");
    os.write(separator);
    os.writeBytes("User");
    os.write(separator);
    os.writeBytes("Hostname");
    os.write(terminator);
    for (    TxnInfo txn : rsp.getOpen_txns()) {
      os.writeBytes(Long.toString(txn.getId()));
      os.write(separator);
      os.writeBytes(txn.getState().toString());
      os.write(separator);
      os.writeBytes(txn.getUser());
      os.write(separator);
      os.writeBytes(txn.getHostname());
      os.write(terminator);
    }
    os.close();
  }
 catch (  IOException e) {
    LOG.warn("show transactions: " + stringifyException(e));
    return 1;
  }
 finally {
    IOUtils.closeStream((FSDataOutputStream)os);
  }
  return 0;
}
