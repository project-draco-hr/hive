{
  exec("CREATE TABLE foo1 (foo INT) PARTITIONED BY (b STRING) STORED AS RCFILE");
  Path oldLoc=new Path(whPath,new Random().nextInt() + "/mypart");
  Path newLoc=new Path(whPath,new Random().nextInt() + "/mypart2");
  exec("ALTER TABLE foo1 ADD PARTITION (b='2010-10-16') LOCATION '%s'",oldLoc);
  whFs.mkdirs(oldLoc,perm500);
  execFail("ALTER TABLE foo1 PARTITION (b='2010-10-16') SET LOCATION '%s'",newLoc.makeQualified(whFs));
  whFs.mkdirs(oldLoc,perm700);
  whFs.mkdirs(newLoc,perm500);
  execFail("ALTER TABLE foo1 PARTITION (b='2010-10-16') SET LOCATION '%s'",newLoc.makeQualified(whFs));
}
