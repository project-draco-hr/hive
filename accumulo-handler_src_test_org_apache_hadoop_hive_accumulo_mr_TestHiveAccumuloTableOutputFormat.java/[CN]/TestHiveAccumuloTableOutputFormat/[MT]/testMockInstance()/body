{
  HiveAccumuloTableOutputFormat outputFormat=Mockito.mock(HiveAccumuloTableOutputFormat.class);
  conf.setBoolean(AccumuloConnectionParameters.USE_MOCK_INSTANCE,true);
  conf.unset(AccumuloConnectionParameters.ZOOKEEPERS);
  Mockito.doCallRealMethod().when(outputFormat).configureAccumuloOutputFormat(conf);
  Mockito.doCallRealMethod().when(outputFormat).getConnectionParams(conf);
  outputFormat.configureAccumuloOutputFormat(conf);
  Mockito.verify(outputFormat).setConnectorInfoWithErrorChecking(conf,user,new PasswordToken(password));
  Mockito.verify(outputFormat).setMockInstanceWithErrorChecking(conf,instanceName);
  Mockito.verify(outputFormat).setDefaultAccumuloTableName(conf,outputTable);
}
