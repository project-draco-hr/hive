{
  ASTNode optiqOptimizedAST=null;
  RelNode optimizedOptiqPlan=null;
  this.partitionCache=partitionCache;
  try {
    optimizedOptiqPlan=Frameworks.withPlanner(this);
  }
 catch (  Exception e) {
    if (semanticException != null)     throw semanticException;
 else     throw new RuntimeException(e);
  }
  optiqOptimizedAST=ASTConverter.convert(optimizedOptiqPlan,topLevelFieldSchema);
  return optiqOptimizedAST;
}
