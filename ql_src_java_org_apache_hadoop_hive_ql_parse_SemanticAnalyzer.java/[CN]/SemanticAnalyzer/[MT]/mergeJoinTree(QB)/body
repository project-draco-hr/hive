{
  QBJoinTree root=qb.getQbJoinTree();
  QBJoinTree parent=null;
  while (root != null) {
    boolean merged=mergeJoinNodes(qb,parent,root,root.getJoinSrc());
    if (parent == null) {
      if (merged)       root=qb.getQbJoinTree();
 else {
        parent=root;
        root=root.getJoinSrc();
      }
    }
 else {
      parent=parent.getJoinSrc();
      root=parent.getJoinSrc();
    }
  }
}
