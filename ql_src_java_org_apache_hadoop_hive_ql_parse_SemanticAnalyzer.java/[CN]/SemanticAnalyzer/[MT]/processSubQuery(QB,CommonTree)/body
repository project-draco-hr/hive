{
  if (subq.getChildCount() != 2) {
    throw new SemanticException(ErrorMsg.NO_SUBQUERY_ALIAS.getMsg(subq));
  }
  CommonTree subqref=(CommonTree)subq.getChild(0);
  String alias=unescapeIdentifier(subq.getChild(1).getText());
  QBExpr qbexpr=new QBExpr(alias);
  doPhase1QBExpr(subqref,qbexpr,qb.getId(),alias);
  if (qb.exists(alias)) {
    throw new SemanticException(ErrorMsg.AMBIGOUS_TABLE_ALIAS.getMsg(subq.getChild(1)));
  }
  qb.setSubqAlias(alias,qbexpr);
}
