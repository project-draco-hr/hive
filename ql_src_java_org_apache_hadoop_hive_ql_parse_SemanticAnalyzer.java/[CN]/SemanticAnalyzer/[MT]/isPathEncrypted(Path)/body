{
  HadoopShims.HdfsEncryptionShim hdfsEncryptionShim;
  hdfsEncryptionShim=SessionState.get().getHdfsEncryptionShim();
  if (hdfsEncryptionShim != null) {
    try {
      if (hdfsEncryptionShim.isPathEncrypted(path)) {
        return true;
      }
    }
 catch (    Exception e) {
      throw new HiveException("Unable to determine if " + path + " is encrypted: "+ e,e);
    }
  }
  return false;
}
