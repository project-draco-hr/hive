{
  for (  String alias : qb.getSubqAliases()) {
    QBExpr qbexpr=qb.getSubqForAlias(alias);
    genPartitionPruners(qbexpr);
  }
  for (  String alias : qb.getTabAliases()) {
    String alias_id=(qb.getId() == null ? alias : qb.getId() + ":" + alias);
    PartitionPruner pruner=new PartitionPruner(alias,qb.getMetaData());
    QBParseInfo qbp=qb.getParseInfo();
    for (    String clause : qbp.getClauseNames()) {
      if (qbp.getWhrForClause(clause) != null) {
        pruner.addExpression((CommonTree)qbp.getWhrForClause(clause).getChild(0));
      }
    }
    this.aliasToPruner.put(alias_id,pruner);
  }
}
