{
  if (expressionTree.getToken().getType() == HiveParser.TOK_FUNCTION || expressionTree.getToken().getType() == HiveParser.TOK_FUNCTIONDI) {
    assert(expressionTree.getChildCount() != 0);
    assert(expressionTree.getChild(0).getType() == HiveParser.Identifier);
    String functionName=expressionTree.getChild(0).getText();
    if (UDAFRegistry.getUDAF(functionName) != null) {
      aggregations.put(expressionTree.toStringTree(),expressionTree);
      return;
    }
  }
  for (int i=0; i < expressionTree.getChildCount(); i++) {
    doPhase1GetAllAggregations((CommonTree)expressionTree.getChild(i),aggregations);
  }
}
