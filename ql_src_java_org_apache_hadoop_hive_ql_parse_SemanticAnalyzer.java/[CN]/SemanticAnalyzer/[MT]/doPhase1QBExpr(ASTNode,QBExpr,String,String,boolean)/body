{
  assert(ast.getToken() != null);
switch (ast.getToken().getType()) {
case HiveParser.TOK_QUERY:
{
      QB qb=new QB(id,alias,true);
      qb.setInsideView(insideView);
      Phase1Ctx ctx_1=initPhase1Ctx();
      doPhase1(ast,qb,ctx_1,null);
      qbexpr.setOpcode(QBExpr.Opcode.NULLOP);
      qbexpr.setQB(qb);
    }
  break;
case HiveParser.TOK_UNIONALL:
{
  qbexpr.setOpcode(QBExpr.Opcode.UNION);
  assert(ast.getChild(0) != null);
  QBExpr qbexpr1=new QBExpr(alias + SUBQUERY_TAG_1);
  doPhase1QBExpr((ASTNode)ast.getChild(0),qbexpr1,id + SUBQUERY_TAG_1,alias + SUBQUERY_TAG_1,insideView);
  qbexpr.setQBExpr1(qbexpr1);
  assert(ast.getChild(1) != null);
  QBExpr qbexpr2=new QBExpr(alias + SUBQUERY_TAG_2);
  doPhase1QBExpr((ASTNode)ast.getChild(1),qbexpr2,id + SUBQUERY_TAG_2,alias + SUBQUERY_TAG_2,insideView);
  qbexpr.setQBExpr2(qbexpr2);
}
break;
}
}
