{
  UDAFInfo r=new UDAFInfo();
  r.aggregateMethod=FunctionRegistry.getUDAFMethod(aggName,aggClasses);
  if (null == r.aggregateMethod) {
    String reason="Looking for UDAF \"" + aggName + "\" with parameters "+ aggClasses;
    throw new SemanticException(ErrorMsg.INVALID_FUNCTION_SIGNATURE.getMsg((CommonTree)aggTree.getChild(0),reason));
  }
  r.convertedParameters=convertParameters(r.aggregateMethod,aggParameters);
  r.evaluateMethod=FunctionRegistry.getUDAFEvaluateMethod(aggName,mode);
  if (r.evaluateMethod == null) {
    String reason="UDAF \"" + aggName + "\" does not have evaluate()/evaluatePartial() methods.";
    throw new SemanticException(ErrorMsg.INVALID_FUNCTION.getMsg((CommonTree)aggTree.getChild(0),reason));
  }
  return r;
}
