{
  try {
    if (!(node != null && node.getToken() != null && node.getToken().getType() == HiveParser.TOK_QUERY)) {
      return;
    }
    for (    Node child : node.getChildren()) {
      if (((ASTNode)child).getToken().getType() != HiveParser.TOK_INSERT) {
        continue;
      }
      ASTNode n=(ASTNode)((ASTNode)child).getFirstChildWithType(HiveParser.TOK_INSERT_INTO);
      if (n == null)       continue;
      n=(ASTNode)n.getFirstChildWithType(HiveParser.TOK_TAB);
      if (n == null)       continue;
      n=(ASTNode)n.getFirstChildWithType(HiveParser.TOK_TABNAME);
      if (n == null)       continue;
      String[] dbTab=getQualifiedTableName(n);
      Table t=db.getTable(dbTab[0],dbTab[1]);
      Path tablePath=t.getPath();
      if (isPathEncrypted(tablePath)) {
        qb.addEncryptedTargetTablePath(tablePath);
      }
    }
  }
 catch (  Exception ex) {
    throw new SemanticException(ex);
  }
}
