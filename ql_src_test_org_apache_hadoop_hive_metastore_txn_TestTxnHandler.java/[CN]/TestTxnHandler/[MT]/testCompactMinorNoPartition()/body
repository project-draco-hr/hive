{
  CompactionRequest rqst=new CompactionRequest("foo","bar",CompactionType.MINOR);
  rqst.setRunas("fred");
  txnHandler.compact(rqst);
  ShowCompactResponse rsp=txnHandler.showCompact(new ShowCompactRequest());
  List<ShowCompactResponseElement> compacts=rsp.getCompacts();
  assertEquals(1,compacts.size());
  ShowCompactResponseElement c=compacts.get(0);
  assertEquals("foo",c.getDbname());
  assertEquals("bar",c.getTablename());
  assertNull(c.getPartitionname());
  assertEquals(CompactionType.MINOR,c.getType());
  assertEquals("initiated",c.getState());
  assertEquals(0L,c.getStart());
  assertEquals("fred",c.getRunAs());
}
