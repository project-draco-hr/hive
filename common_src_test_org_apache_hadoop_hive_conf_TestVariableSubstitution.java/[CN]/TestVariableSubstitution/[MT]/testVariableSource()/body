{
  final VariableSubstitution variableSubstitution=new VariableSubstitution(new HiveVariableSource(){
    @Override public Map<String,String> getHiveVariable(){
      return TestVariableSubstitution.getMySource().map;
    }
  }
);
  String v=variableSubstitution.substitute(new HiveConf(),"${a}");
  Assert.assertEquals("${a}",v);
  TestVariableSubstitution.getMySource().put("a","b");
  v=variableSubstitution.substitute(new HiveConf(),"${a}");
  Assert.assertEquals("b",v);
}
