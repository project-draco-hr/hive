{
  int i=length / chunkSize;
  int j=length % chunkSize;
  grow((length + valueLength) / chunkSize);
  int remaining=valueLength;
  while (remaining > 0) {
    int size=Math.min(remaining,chunkSize - j);
    System.arraycopy(value,valueOffset,data[i],j,size);
    remaining-=size;
    valueOffset+=size;
    i+=1;
    j=0;
  }
  int result=length;
  length+=valueLength;
  return result;
}
