{
  int currentChunk=offset / chunkSize;
  int currentOffset=offset % chunkSize;
  while (length > 0) {
    int currentLength=Math.min(length,chunkSize - currentOffset);
    out.write(data[currentChunk],currentOffset,currentLength);
    length-=currentLength;
    currentChunk+=1;
    currentOffset=0;
  }
}
