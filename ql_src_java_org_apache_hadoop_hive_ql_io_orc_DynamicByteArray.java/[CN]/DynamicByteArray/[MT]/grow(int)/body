{
  if (chunkIndex >= initializedChunks) {
    if (chunkIndex >= data.length) {
      int newSize=Math.max(chunkIndex + 1,2 * data.length);
      byte[][] newChunk=new byte[newSize][];
      System.arraycopy(data,0,newChunk,0,data.length);
      data=newChunk;
    }
    for (int i=initializedChunks; i <= chunkIndex; ++i) {
      data[i]=new byte[chunkSize];
    }
    initializedChunks=chunkIndex + 1;
  }
}
