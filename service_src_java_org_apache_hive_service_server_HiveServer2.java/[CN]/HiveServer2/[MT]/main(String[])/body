{
  HiveConf.setLoadHiveServer2Config(true);
  try {
    ServerOptionsProcessor oproc=new ServerOptionsProcessor("hiveserver2");
    if (!oproc.process(args)) {
      System.err.println("Error starting HiveServer2 with given arguments");
      System.exit(-1);
    }
    String initLog4jMessage=LogUtils.initHiveLog4j();
    LOG.debug(initLog4jMessage);
    HiveStringUtils.startupShutdownMessage(HiveServer2.class,args,LOG);
    LOG.debug(oproc.getDebugMessage().toString());
    startHiveServer2();
  }
 catch (  LogInitializationException e) {
    LOG.error("Error initializing log: " + e.getMessage(),e);
    System.exit(-1);
  }
catch (  Throwable t) {
    LOG.fatal("Error starting HiveServer2",t);
    System.exit(-1);
  }
}
