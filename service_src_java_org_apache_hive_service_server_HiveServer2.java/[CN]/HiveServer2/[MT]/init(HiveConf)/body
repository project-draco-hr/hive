{
  cliService=new CLIService();
  addService(cliService);
  String transportMode=System.getenv("HIVE_SERVER2_TRANSPORT_MODE");
  if (transportMode == null) {
    transportMode=hiveConf.getVar(HiveConf.ConfVars.HIVE_SERVER2_TRANSPORT_MODE);
  }
  if (transportMode != null && (transportMode.equalsIgnoreCase("http") || transportMode.equalsIgnoreCase("https"))) {
    thriftCLIService=new ThriftHttpCLIService(cliService);
  }
 else {
    thriftCLIService=new ThriftBinaryCLIService(cliService);
  }
  addService(thriftCLIService);
  super.init(hiveConf);
}
