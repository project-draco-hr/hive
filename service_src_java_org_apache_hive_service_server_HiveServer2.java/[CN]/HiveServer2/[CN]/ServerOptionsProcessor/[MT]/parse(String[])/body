{
  try {
    commandLine=new GnuParser().parse(options,argv);
    Properties confProps=commandLine.getOptionProperties("hiveconf");
    for (    String propKey : confProps.stringPropertyNames()) {
      debugMessage.append("Setting " + propKey + "="+ confProps.getProperty(propKey)+ ";\n");
      if (propKey.equalsIgnoreCase("hive.root.logger")) {
        CommonCliOptions.splitAndSetLogger(propKey,confProps);
      }
 else {
        System.setProperty(propKey,confProps.getProperty(propKey));
      }
    }
    if (commandLine.hasOption('H')) {
      return new ServerOptionsProcessorResponse(new HelpOptionExecutor(serverName,options));
    }
    if (commandLine.hasOption("deregister")) {
      return new ServerOptionsProcessorResponse(new DeregisterOptionExecutor(commandLine.getOptionValue("deregister")));
    }
  }
 catch (  ParseException e) {
    System.err.println("Error starting HiveServer2 with given arguments: ");
    System.err.println(e.getMessage());
    System.exit(-1);
  }
  return new ServerOptionsProcessorResponse(new StartOptionExecutor());
}
