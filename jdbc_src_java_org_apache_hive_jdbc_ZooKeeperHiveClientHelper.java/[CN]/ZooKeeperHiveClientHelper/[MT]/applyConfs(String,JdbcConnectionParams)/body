{
  Matcher matcher=kvPattern.matcher(serverConfStr);
  while (matcher.find()) {
    if ((matcher.group(1) != null)) {
      if ((matcher.group(2) == null)) {
        throw new Exception("Null config value for: " + matcher.group(1) + " published by the server.");
      }
      if (matcher.group(1).equals("hive.server2.thrift.bind.host")) {
        connParams.setHost(matcher.group(2));
      }
      if ((matcher.group(1).equals("hive.server2.transport.mode")) && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.TRANSPORT_MODE))) {
        connParams.getSessionVars().put(JdbcConnectionParams.TRANSPORT_MODE,matcher.group(2));
      }
      if (matcher.group(1).equals("hive.server2.thrift.port")) {
        connParams.setPort(Integer.parseInt(matcher.group(2)));
      }
      if ((matcher.group(1).equals("hive.server2.thrift.http.port")) && !(connParams.getPort() > 0)) {
        connParams.setPort(Integer.parseInt(matcher.group(2)));
      }
      if ((matcher.group(1).equals("hive.server2.thrift.sasl.qop")) && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.AUTH_QOP))) {
        connParams.getSessionVars().put(JdbcConnectionParams.AUTH_QOP,matcher.group(2));
      }
      if ((matcher.group(1).equals("hive.server2.thrift.http.path")) && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.HTTP_PATH))) {
        connParams.getSessionVars().put(JdbcConnectionParams.HTTP_PATH,matcher.group(2));
      }
      if ((matcher.group(1) != null) && (matcher.group(1).equals("hive.server2.use.SSL")) && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.USE_SSL))) {
        connParams.getSessionVars().put(JdbcConnectionParams.USE_SSL,matcher.group(2));
      }
      if (matcher.group(1).equals("hive.server2.authentication")) {
        if (matcher.group(2).equalsIgnoreCase("NOSASL") && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.AUTH_TYPE) && connParams.getSessionVars().get(JdbcConnectionParams.AUTH_TYPE).equalsIgnoreCase(JdbcConnectionParams.AUTH_SIMPLE))) {
          connParams.getSessionVars().put(JdbcConnectionParams.AUTH_TYPE,JdbcConnectionParams.AUTH_SIMPLE);
        }
      }
      if (matcher.group(2).equalsIgnoreCase("hive.server2.authentication.kerberos.principal") && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.AUTH_TYPE) && connParams.getSessionVars().get(JdbcConnectionParams.AUTH_TYPE).equalsIgnoreCase(JdbcConnectionParams.AUTH_TOKEN)) && !(connParams.getSessionVars().containsKey(JdbcConnectionParams.AUTH_PRINCIPAL))) {
        connParams.getSessionVars().put(JdbcConnectionParams.AUTH_PRINCIPAL,matcher.group(2));
      }
    }
  }
}
