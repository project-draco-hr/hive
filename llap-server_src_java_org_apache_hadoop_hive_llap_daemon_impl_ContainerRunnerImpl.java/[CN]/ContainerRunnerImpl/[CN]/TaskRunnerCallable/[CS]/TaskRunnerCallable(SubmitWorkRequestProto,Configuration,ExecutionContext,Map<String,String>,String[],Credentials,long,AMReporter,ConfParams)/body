{
  this.request=request;
  this.conf=conf;
  this.executionContext=executionContext;
  this.envMap=envMap;
  this.localDirs=localDirs;
  this.objectRegistry=new ObjectRegistryImpl();
  this.credentials=credentials;
  this.memoryAvailable=memoryAvailable;
  this.confParams=confParams;
  jobToken=TokenCache.getSessionToken(credentials);
  this.amReporter=amReporter;
  this.amReporter.registerTask(request.getAmHost(),request.getAmPort(),request.getUser(),jobToken);
}
