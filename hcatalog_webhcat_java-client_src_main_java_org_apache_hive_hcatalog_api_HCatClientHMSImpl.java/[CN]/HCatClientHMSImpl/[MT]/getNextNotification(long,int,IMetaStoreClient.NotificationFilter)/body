{
  try {
    List<HCatNotificationEvent> events=new ArrayList<HCatNotificationEvent>();
    NotificationEventResponse rsp=hmsClient.getNextNotification(lastEventId,maxEvents,filter);
    if (rsp != null && rsp.getEvents() != null) {
      for (      NotificationEvent event : rsp.getEvents()) {
        events.add(new HCatNotificationEvent(event));
      }
    }
    return events;
  }
 catch (  TException e) {
    throw new ConnectionFailureException("TException while getting notifications",e);
  }
}
