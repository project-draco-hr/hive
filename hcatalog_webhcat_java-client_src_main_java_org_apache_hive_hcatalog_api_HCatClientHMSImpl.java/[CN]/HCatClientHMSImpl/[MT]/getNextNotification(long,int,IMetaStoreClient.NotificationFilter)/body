{
  try {
    NotificationEventResponse rsp=hmsClient.getNextNotification(lastEventId,maxEvents,filter);
    if (rsp != null && rsp.getEvents() != null) {
      return Lists.transform(rsp.getEvents(),new Function<NotificationEvent,HCatNotificationEvent>(){
        @Override public HCatNotificationEvent apply(        @Nullable NotificationEvent notificationEvent){
          return new HCatNotificationEvent(notificationEvent);
        }
      }
);
    }
 else {
      return new ArrayList<HCatNotificationEvent>();
    }
  }
 catch (  TException e) {
    throw new ConnectionFailureException("TException while getting notifications",e);
  }
}
