{
  String key=name;
  try {
    countersLock.lock();
    counters.get(key).dec(decrement);
    return counters.get(key).getCount();
  }
 catch (  ExecutionException ee) {
    throw new IllegalStateException("Error retrieving counter from the metric registry ",ee);
  }
 finally {
    countersLock.unlock();
  }
}
