{
  try {
    if (getLockMode(ctx.getConf(),node) != null) {
      return;
    }
    List<String> children=zooKeeper.getChildren(node,false);
    for (    String child : children) {
      checkRedundantNode(node + "/" + child);
    }
    children=zooKeeper.getChildren(node,false);
    if ((children == null) || (children.isEmpty())) {
      zooKeeper.delete(node,-1);
    }
  }
 catch (  Exception e) {
    LOG.warn("Error in checkRedundantNode for node " + node,e);
  }
}
