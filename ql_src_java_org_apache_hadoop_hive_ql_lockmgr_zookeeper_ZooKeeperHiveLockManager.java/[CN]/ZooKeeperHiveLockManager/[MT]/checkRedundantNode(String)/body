{
  try {
    if (getLockMode(node) != null) {
      return;
    }
    List<String> children=curatorFramework.getChildren().forPath(node);
    for (    String child : children) {
      checkRedundantNode(node + "/" + child);
    }
    children=curatorFramework.getChildren().forPath(node);
    if ((children == null) || (children.isEmpty())) {
      curatorFramework.delete().forPath(node);
    }
  }
 catch (  Exception e) {
    LOG.warn("Error in checkRedundantNode for node " + node,e);
  }
}
