{
  this.request=request;
  this.fragmentInfo=fragmentInfo;
  this.conf=conf;
  this.executionContext=executionContext;
  this.envMap=envMap;
  this.objectRegistry=new ObjectRegistryImpl();
  this.credentials=credentials;
  this.memoryAvailable=memoryAvailable;
  this.confParams=confParams;
  this.jobToken=TokenCache.getSessionToken(credentials);
  this.taskSpec=Converters.getTaskSpecfromProto(request.getFragmentSpec());
  this.amReporter=amReporter;
  if (jobToken != null) {
    this.amReporter.registerTask(request.getAmHost(),request.getAmPort(),request.getUser(),jobToken);
  }
  this.metrics=metrics;
  this.requestId=getTaskAttemptId(request);
  this.killedTaskHandler=killedTaskHandler;
  this.fragmentCompletionHanler=fragmentCompleteHandler;
}
