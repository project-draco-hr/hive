{
  currentObjects.clear();
  nextObjects.clear();
  currentObjects.add(obj);
  for (int i=0; i < unitArray.length; i++) {
    Iterator iter=currentObjects.iterator();
    while (iter.hasNext()) {
      Object oneObj=iter.next();
      Object childObj=unitArray[i].get(oneObj);
      if (childObj == null)       continue;
      if (unitArray[i].isList()) {
        Iterator childIter=((AbstractList)childObj).iterator();
        while (childIter.hasNext()) {
          nextObjects.add(childIter.next());
        }
      }
 else {
        nextObjects.add(childObj);
      }
    }
    currentObjects.clear();
    ArrayList tmp=currentObjects;
    currentObjects=nextObjects;
    nextObjects=tmp;
  }
  return currentObjects;
}
