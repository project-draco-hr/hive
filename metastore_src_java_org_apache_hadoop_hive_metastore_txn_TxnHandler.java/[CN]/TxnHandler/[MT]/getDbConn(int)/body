{
  int rc=doRetryOnConnPool ? 10 : 1;
  while (true) {
    try {
      Connection dbConn=connPool.getConnection();
      dbConn.setAutoCommit(false);
      dbConn.setTransactionIsolation(isolationLevel);
      return dbConn;
    }
 catch (    SQLException e) {
      if ((--rc) <= 0)       throw e;
      LOG.error("There is a problem with a connection from the pool, retrying",e);
    }
  }
}
