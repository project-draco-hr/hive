{
  flattenPush();
  if (isRepeating) {
    isRepeating=false;
    long repeatEpochDay=epochDay[0];
    long repeatNanoOfDay=nanoOfDay[0];
    if (selectedInUse) {
      for (int j=0; j < size; j++) {
        int i=sel[j];
        epochDay[i]=repeatEpochDay;
        nanoOfDay[i]=repeatNanoOfDay;
      }
    }
 else {
      Arrays.fill(epochDay,0,size,repeatEpochDay);
      Arrays.fill(nanoOfDay,0,size,repeatNanoOfDay);
    }
    flattenRepeatingNulls(selectedInUse,sel,size);
  }
  flattenNoNulls(selectedInUse,sel,size);
}
