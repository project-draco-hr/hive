{
  flattenPush();
  if (isRepeating) {
    isRepeating=false;
    long repeatFastTime=time[0];
    int repeatNanos=nanos[0];
    if (selectedInUse) {
      for (int j=0; j < size; j++) {
        int i=sel[j];
        time[i]=repeatFastTime;
        nanos[i]=repeatNanos;
      }
    }
 else {
      Arrays.fill(time,0,size,repeatFastTime);
      Arrays.fill(nanos,0,size,repeatNanos);
    }
    flattenRepeatingNulls(selectedInUse,sel,size);
  }
  flattenNoNulls(selectedInUse,sel,size);
}
