{
  File tmpDir=lScratchDir == null ? null : new File(lScratchDir);
  if (tmpDir != null && !tmpDir.exists() && !tmpDir.mkdirs()) {
    if (!tmpDir.exists()) {
      throw new RuntimeException("Unable to create temp directory " + lScratchDir);
    }
  }
  File tmpFile=File.createTempFile(prefix,suffix,tmpDir);
  ShutdownHookManager.deleteOnExit(tmpFile);
  return tmpFile;
}
