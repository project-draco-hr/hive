{
  boolean isToTail=to == listTail, isFromHead=from == listHead;
  if ((isToTail != (to.next == null)) || (isFromHead != (from.prev == null))) {
    debugDumpListOnError(from,to);
    throw new AssertionError("LRFU list is corrupted.");
  }
  if (isToTail) {
    listTail=from.prev;
  }
 else {
    to.next.prev=from.prev;
  }
  if (isFromHead) {
    listHead=to.next;
  }
 else {
    from.prev.next=to.next;
  }
}
