{
  long evicted=0;
  while (evicted < memoryToReserve) {
    LlapCacheableBuffer buffer=evictOneMoreBlock();
    if (buffer == null)     return evicted;
    evicted+=buffer.length;
    listener.notifyEvicted(buffer);
  }
  return evicted;
}
