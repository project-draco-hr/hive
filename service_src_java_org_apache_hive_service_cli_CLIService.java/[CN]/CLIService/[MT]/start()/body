{
  super.start();
  try {
    setupStagingDir(hiveConf.getVar(HiveConf.ConfVars.SCRATCHDIR),false);
    setupStagingDir(hiveConf.getVar(HiveConf.ConfVars.LOCALSCRATCHDIR),true);
    setupStagingDir(hiveConf.getVar(HiveConf.ConfVars.DOWNLOADED_RESOURCES_DIR),true);
  }
 catch (  IOException eIO) {
    throw new ServiceException("Error setting stage directories",eIO);
  }
  IMetaStoreClient metastoreClient=null;
  try {
    metastoreClient=new HiveMetaStoreClient(hiveConf);
    metastoreClient.getDatabases("default");
  }
 catch (  Exception e) {
    throw new ServiceException("Unable to connect to MetaStore!",e);
  }
 finally {
    if (metastoreClient != null) {
      metastoreClient.close();
    }
  }
}
