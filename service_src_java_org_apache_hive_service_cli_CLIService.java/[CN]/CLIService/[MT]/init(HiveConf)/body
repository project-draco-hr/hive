{
  this.hiveConf=hiveConf;
  sessionManager=new SessionManager();
  addService(sessionManager);
  if (hiveConf.getVar(ConfVars.HIVE_SERVER2_AUTHENTICATION).equalsIgnoreCase(HiveAuthFactory.AuthTypes.KERBEROS.toString())) {
    try {
      HiveAuthFactory.loginFromKeytab(hiveConf);
      this.serviceUGI=ShimLoader.getHadoopShims().getUGIForConf(hiveConf);
    }
 catch (    IOException e) {
      throw new ServiceException("Unable to login to kerberos with given principal/keytab",e);
    }
catch (    LoginException e) {
      throw new ServiceException("Unable to login to kerberos with given principal/keytab",e);
    }
  }
  super.init(hiveConf);
}
