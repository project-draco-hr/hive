{
  this.hiveConf=hiveConf;
  sessionManager=new SessionManager();
  addService(sessionManager);
  try {
    HiveAuthFactory.loginFromKeytab(hiveConf);
    serverUserName=ShimLoader.getHadoopShims().getShortUserName(ShimLoader.getHadoopShims().getUGIForConf(hiveConf));
  }
 catch (  IOException e) {
    throw new ServiceException("Unable to login to kerberos with given principal/keytab",e);
  }
catch (  LoginException e) {
    throw new ServiceException("Unable to login to kerberos with given principal/keytab",e);
  }
  super.init(hiveConf);
}
