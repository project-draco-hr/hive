{
  GroupType repeatedType=type.getType(0).asGroupType();
  ArrayWritable repeatedValue=(ArrayWritable)array.get()[0];
  recordConsumer.startGroup();
  recordConsumer.startField(repeatedType.getName(),0);
  Writable[] array_values=repeatedValue.get();
  for (int record=0; record < array_values.length; record++) {
    recordConsumer.startGroup();
    Writable element=array_values[record];
    if (element != null) {
      for (int i=0; i < type.getFieldCount(); i++) {
        Type fieldType=repeatedType.getType(i);
        String fieldName=fieldType.getName();
        recordConsumer.startField(fieldName,i);
        writeValue(element,fieldType);
        recordConsumer.endField(fieldName,i);
      }
    }
    recordConsumer.endGroup();
  }
  recordConsumer.endField(repeatedType.getName(),0);
  recordConsumer.endGroup();
}
