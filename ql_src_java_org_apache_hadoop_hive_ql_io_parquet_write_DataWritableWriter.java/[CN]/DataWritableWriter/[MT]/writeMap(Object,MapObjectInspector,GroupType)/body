{
  GroupType repeatedType=type.getType(0).asGroupType();
  recordConsumer.startGroup();
  recordConsumer.startField(repeatedType.getName(),0);
  Map<?,?> mapValues=inspector.getMap(value);
  Type keyType=repeatedType.getType(0);
  String keyName=keyType.getName();
  ObjectInspector keyInspector=inspector.getMapKeyObjectInspector();
  Type valuetype=repeatedType.getType(1);
  String valueName=valuetype.getName();
  ObjectInspector valueInspector=inspector.getMapValueObjectInspector();
  for (  Map.Entry<?,?> keyValue : mapValues.entrySet()) {
    recordConsumer.startGroup();
    if (keyValue != null) {
      Object keyElement=keyValue.getKey();
      recordConsumer.startField(keyName,0);
      writeValue(keyElement,keyInspector,keyType);
      recordConsumer.endField(keyName,0);
      Object valueElement=keyValue.getValue();
      if (valueElement != null) {
        recordConsumer.startField(valueName,1);
        writeValue(valueElement,valueInspector,valuetype);
        recordConsumer.endField(valueName,1);
      }
    }
    recordConsumer.endGroup();
  }
  recordConsumer.endField(repeatedType.getName(),0);
  recordConsumer.endGroup();
}
