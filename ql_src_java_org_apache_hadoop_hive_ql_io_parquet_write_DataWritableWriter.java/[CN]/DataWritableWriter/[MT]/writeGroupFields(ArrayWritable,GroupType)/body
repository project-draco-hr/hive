{
  if (value != null) {
    for (int i=0; i < type.getFieldCount(); i++) {
      Type fieldType=type.getType(i);
      String fieldName=fieldType.getName();
      Writable fieldValue=value.get()[i];
      if (fieldValue != null) {
        recordConsumer.startField(fieldName,i);
        writeValue(fieldValue,fieldType);
        recordConsumer.endField(fieldName,i);
      }
    }
  }
}
