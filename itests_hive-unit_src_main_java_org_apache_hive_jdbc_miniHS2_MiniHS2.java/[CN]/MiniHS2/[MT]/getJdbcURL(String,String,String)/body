{
  sessionConfExt=(sessionConfExt == null ? "" : sessionConfExt);
  hiveConfExt=(hiveConfExt == null ? "" : hiveConfExt);
  String krbConfig="";
  if (isUseMiniKdc()) {
    krbConfig="principal=" + serverPrincipal;
  }
  if (isHttpTransportMode()) {
    sessionConfExt="transportMode=http;httpPath=cliservice;" + sessionConfExt;
  }
  String baseJdbcURL;
  if (isDynamicServiceDiscovery()) {
    String serviceDiscoveryConfig="serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=" + getServerConf().getVar(HiveConf.ConfVars.HIVE_SERVER2_ZOOKEEPER_NAMESPACE) + ";";
    baseJdbcURL=getZKBaseJdbcURL() + dbName + ";"+ serviceDiscoveryConfig;
  }
 else {
    baseJdbcURL=getBaseJdbcURL() + dbName + ";";
  }
  baseJdbcURL=baseJdbcURL + krbConfig + ";"+ sessionConfExt;
  if (!hiveConfExt.trim().equals("")) {
    baseJdbcURL="?" + hiveConfExt;
  }
  return baseJdbcURL;
}
