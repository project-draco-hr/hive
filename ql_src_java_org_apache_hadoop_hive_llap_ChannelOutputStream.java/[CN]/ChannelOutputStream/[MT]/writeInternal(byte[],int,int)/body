{
  if (closed) {
    throw new IOException("Already closed: " + id);
  }
  buf.writeBytes(b,off,len);
  if (buf.readableBytes() >= bufSize) {
    writeToChannel();
  }
}
