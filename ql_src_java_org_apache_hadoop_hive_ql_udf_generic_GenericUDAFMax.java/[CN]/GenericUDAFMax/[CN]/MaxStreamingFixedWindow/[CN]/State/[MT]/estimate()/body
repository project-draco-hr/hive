{
  if (!(wrappedBuf instanceof AbstractAggregationBuffer)) {
    return -1;
  }
  int underlying=((AbstractAggregationBuffer)wrappedBuf).estimate();
  if (underlying == -1) {
    return -1;
  }
  if (numPreceding == BoundarySpec.UNBOUNDED_AMOUNT) {
    return -1;
  }
  int wdwSz=numPreceding + numFollowing + 1;
  return underlying + (underlying * wdwSz) + (underlying * wdwSz)+ (3 * JavaDataModel.PRIMITIVES1);
}
