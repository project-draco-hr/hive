{
  try {
    if (lockId != null && transactionId == null) {
      metaStoreClient.unlock(lockId);
      LOG.debug("Released lock {}",lockId);
      lockId=null;
    }
  }
 catch (  TException e) {
    LOG.error("Lock " + lockId + " failed.",e);
    listener.lockFailed(lockId,transactionId,asStrings(tables),e);
  }
}
