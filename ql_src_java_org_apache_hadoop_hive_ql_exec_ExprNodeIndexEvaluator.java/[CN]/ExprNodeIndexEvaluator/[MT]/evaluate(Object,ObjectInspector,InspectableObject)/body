{
  assert(result != null);
  mainEvaluator.evaluate(row,rowInspector,mainInspectableObject);
  indexEvaluator.evaluate(row,rowInspector,indexInspectableObject);
  if (mainInspectableObject.oi.getCategory() == Category.LIST) {
    int index=((Number)indexInspectableObject.o).intValue();
    ListObjectInspector loi=(ListObjectInspector)mainInspectableObject.oi;
    result.oi=loi.getListElementObjectInspector();
    result.o=loi.getListElement(mainInspectableObject.o,index);
  }
 else   if (mainInspectableObject.oi.getCategory() == Category.MAP) {
    MapObjectInspector moi=(MapObjectInspector)mainInspectableObject.oi;
    result.oi=moi.getMapValueObjectInspector();
    result.o=moi.getMapValueElement(mainInspectableObject.o,indexInspectableObject.o);
  }
 else {
    throw new RuntimeException("Hive 2 Internal error: cannot evaluate index expression on " + mainInspectableObject.oi.getTypeName());
  }
}
