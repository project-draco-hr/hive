{
  metrics.startStoredScope(scopeName);
  LegacyMetrics.LegacyMetricsScope fooScope=(LegacyMetrics.LegacyMetricsScope)metrics.getStoredScope(scopeName);
  assertEquals(null,fooScope.getNumCounter());
  fooScope.close();
  assertEquals(Long.valueOf(1),fooScope.getNumCounter());
  for (int i=0; i < 10; i++) {
    fooScope.open();
    fooScope.close();
  }
  assertEquals(Long.valueOf(11),fooScope.getNumCounter());
  for (int i=0; i < 10; i++) {
    fooScope.open();
  }
  for (int i=0; i < 10; i++) {
    fooScope.close();
  }
  assertEquals(Long.valueOf(12),fooScope.getNumCounter());
}
