{
  OrcProto.StripeFooter.Builder fb=OrcProto.StripeFooter.newBuilder();
  if (!isEmpty) {
    fb.addStreams(OrcProto.Stream.newBuilder().setColumn(0).setLength(20).setKind(OrcProto.Stream.Kind.LENGTH)).addStreams(OrcProto.Stream.newBuilder().setColumn(0).setLength(40).setKind(OrcProto.Stream.Kind.DATA)).addColumns(OrcProto.ColumnEncoding.newBuilder().setDictionarySize(10).setKind(OrcProto.ColumnEncoding.Kind.DIRECT_V2));
  }
  OrcProto.StripeFooter footer=fb.build();
  if (doStreamStep) {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    CodedOutputStream cos=CodedOutputStream.newInstance(baos);
    footer.writeTo(cos);
    cos.flush();
    footer=OrcProto.StripeFooter.newBuilder().mergeFrom(baos.toByteArray()).build();
  }
  return footer;
}
