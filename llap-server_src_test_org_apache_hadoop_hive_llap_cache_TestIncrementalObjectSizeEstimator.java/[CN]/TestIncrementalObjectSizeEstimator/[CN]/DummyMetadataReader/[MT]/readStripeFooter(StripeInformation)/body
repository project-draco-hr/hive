{
  StripeFooter.Builder fb=StripeFooter.newBuilder();
  if (!isEmpty) {
    fb.addStreams(Stream.newBuilder().setColumn(0).setLength(20).setKind(Stream.Kind.LENGTH)).addStreams(Stream.newBuilder().setColumn(0).setLength(40).setKind(Stream.Kind.DATA)).addColumns(ColumnEncoding.newBuilder().setDictionarySize(10).setKind(Kind.DIRECT_V2));
  }
  StripeFooter footer=fb.build();
  if (doStreamStep) {
    ByteArrayOutputStream baos=new ByteArrayOutputStream();
    CodedOutputStream cos=CodedOutputStream.newInstance(baos);
    footer.writeTo(cos);
    cos.flush();
    footer=StripeFooter.newBuilder().mergeFrom(baos.toByteArray()).build();
  }
  return footer;
}
