{
  if (expr.children != null) {
    for (int i=0; i < expr.children.size(); ++i) {
      ExpressionTree child=foldMaybe(expr.children.get(i));
      if (child.constant == TruthValue.YES_NO_NULL) {
switch (expr.operator) {
case AND:
          expr.children.remove(i);
        i-=1;
      break;
case OR:
    return child;
default :
  throw new IllegalStateException("Got a maybe as child of " + expr);
}
}
 else {
expr.children.set(i,child);
}
}
}
return expr;
}
