{
  CommandProcessorResponse rsp=driver.run("set role admin");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("create role role1");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("grant role1 to user fred with admin option");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("create role role2");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("grant role1 to role role2");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("show principals role1");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("show role grant role role1");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("show role grant user " + System.getProperty("user.name"));
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("show roles");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("revoke admin option for role1 from user fred");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("revoke role1 from user fred");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("revoke role1 from role role2");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("show current roles");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("drop role role2");
  Assert.assertEquals(0,rsp.getResponseCode());
  rsp=driver.run("drop role role1");
  Assert.assertEquals(0,rsp.getResponseCode());
}
