{
  if (sqlResults.size() != ormResults.size()) {
    String msg="Lists are not the same size: SQL " + sqlResults.size() + ", ORM "+ ormResults.size();
    LOG.error(msg);
    throw new MetaException(msg);
  }
  StringBuilder errorStr=new StringBuilder();
  for (int partIx=0; partIx < sqlResults.size(); ++partIx) {
    Partition p1=sqlResults.get(partIx), p2=ormResults.get(partIx);
    if (EqualsBuilder.reflectionEquals(p1,p2))     continue;
    errorStr.append("Results are different at list index " + partIx + ": \n");
    try {
      dumpObject(errorStr,"SQL",p1,Partition.class,0);
      errorStr.append("\n");
      dumpObject(errorStr,"ORM",p2,Partition.class,0);
      errorStr.append("\n\n");
    }
 catch (    Throwable t) {
      String msg="Error getting the diff at list index " + partIx;
      errorStr.append("\n\n" + msg);
      LOG.error(msg,t);
      break;
    }
  }
  if (errorStr.length() > 0) {
    LOG.error("Different results: \n" + errorStr.toString());
    throw new MetaException("Different results from SQL and ORM, see log for details");
  }
}
