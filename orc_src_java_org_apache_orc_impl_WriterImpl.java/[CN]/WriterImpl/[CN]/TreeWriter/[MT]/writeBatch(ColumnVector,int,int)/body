{
  if (vector.noNulls) {
    indexStatistics.increment(length);
    if (isPresent != null) {
      for (int i=0; i < length; ++i) {
        isPresent.write(1);
      }
    }
  }
 else {
    if (vector.isRepeating) {
      boolean isNull=vector.isNull[0];
      if (isPresent != null) {
        for (int i=0; i < length; ++i) {
          isPresent.write(isNull ? 0 : 1);
        }
      }
      if (isNull) {
        foundNulls=true;
        indexStatistics.setNull();
      }
 else {
        indexStatistics.increment(length);
      }
    }
 else {
      int nonNullCount=0;
      for (int i=0; i < length; ++i) {
        boolean isNull=vector.isNull[i + offset];
        if (!isNull) {
          nonNullCount+=1;
        }
        if (isPresent != null) {
          isPresent.write(isNull ? 0 : 1);
        }
      }
      indexStatistics.increment(nonNullCount);
      if (nonNullCount != length) {
        foundNulls=true;
        indexStatistics.setNull();
      }
    }
  }
}
