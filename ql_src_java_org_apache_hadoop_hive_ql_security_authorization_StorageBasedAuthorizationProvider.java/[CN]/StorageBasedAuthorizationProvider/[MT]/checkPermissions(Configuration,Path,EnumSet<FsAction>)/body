{
  if (path == null) {
    throw new IllegalArgumentException("path is null");
  }
  final FileSystem fs=path.getFileSystem(conf);
  if (fs.exists(path)) {
    checkPermissions(fs,path,actions,authenticator.getUserName(),authenticator.getGroupNames());
  }
 else   if (path.getParent() != null) {
    Path par=path.getParent();
    while (par != null) {
      if (fs.exists(par)) {
        break;
      }
      par=par.getParent();
    }
    checkPermissions(fs,par,actions,authenticator.getUserName(),authenticator.getGroupNames());
  }
}
