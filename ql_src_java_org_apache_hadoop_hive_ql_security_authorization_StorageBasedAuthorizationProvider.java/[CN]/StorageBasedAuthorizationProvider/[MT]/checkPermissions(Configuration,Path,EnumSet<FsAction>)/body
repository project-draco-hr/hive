{
  if (path == null) {
    throw new IllegalArgumentException("path is null");
  }
  final FileSystem fs=path.getFileSystem(conf);
  FileStatus pathStatus=FileUtils.getFileStatusOrNull(fs,path);
  if (pathStatus != null) {
    checkPermissions(fs,pathStatus,actions,authenticator.getUserName());
  }
 else   if (path.getParent() != null) {
    Path par=path.getParent();
    FileStatus parStatus=null;
    while (par != null) {
      parStatus=FileUtils.getFileStatusOrNull(fs,par);
      if (parStatus != null) {
        break;
      }
      par=par.getParent();
    }
    checkPermissions(fs,parStatus,actions,authenticator.getUserName());
  }
}
