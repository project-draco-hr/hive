{
  if (stat == null) {
    return;
  }
  FsAction checkActions=FsAction.NONE;
  for (  FsAction action : actions) {
    checkActions=checkActions.or(action);
  }
  try {
    FileUtils.checkFileAccessWithImpersonation(fs,stat,checkActions,user);
  }
 catch (  org.apache.hadoop.fs.permission.AccessControlException ace) {
    throw accessControlException(ace);
  }
catch (  Exception err) {
    throw new HiveException(err);
  }
}
