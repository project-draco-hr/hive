{
  ThriftCLIServiceTest.setUpBeforeClass();
  assertNotNull(ThriftCLIServiceTest.port);
  assertNotNull(ThriftCLIServiceTest.hiveServer2);
  assertNotNull(ThriftCLIServiceTest.hiveConf);
  HiveConf hiveConf=ThriftCLIServiceTest.hiveConf;
  hiveConf.setBoolVar(ConfVars.HIVE_SERVER2_ENABLE_DOAS,false);
  hiveConf.setVar(ConfVars.HIVE_SERVER2_THRIFT_BIND_HOST,ThriftCLIServiceTest.host);
  hiveConf.setIntVar(ConfVars.HIVE_SERVER2_THRIFT_HTTP_PORT,ThriftCLIServiceTest.port);
  hiveConf.setVar(ConfVars.HIVE_SERVER2_AUTHENTICATION,AuthTypes.NOSASL.toString());
  hiveConf.setVar(ConfVars.HIVE_SERVER2_TRANSPORT_MODE,transportMode);
  hiveConf.setVar(ConfVars.HIVE_SERVER2_THRIFT_HTTP_PATH,thriftHttpPath);
  hiveConf.setBoolVar(ConfVars.HIVE_SUPPORT_CONCURRENCY,false);
  hiveConf.setVar(ConfVars.HIVE_AUTHORIZATION_MANAGER,MockedHiveAuthorizerFactory.class.getName());
  hiveConf.setVar(ConfVars.HIVE_AUTHENTICATOR_MANAGER,SessionStateUserAuthenticator.class.getName());
  hiveConf.setBoolVar(ConfVars.HIVE_AUTHORIZATION_ENABLED,true);
  ThriftCLIServiceTest.startHiveServer2WithConf(hiveConf);
  ThriftCLIServiceTest.client=ThriftCLIServiceTest.getServiceClientInternal();
}
