{
  long memUsed=0;
  for (  HashPartition hp : hashPartitions) {
    if (hp.hashMap != null) {
      memUsed+=hp.hashMap.memorySize();
    }
 else {
      if (hp.sidefileKVContainer != null) {
        memUsed+=hp.sidefileKVContainer.numRowsInReadBuffer() * tableRowSize;
      }
    }
  }
  return memoryUsed=memUsed;
}
