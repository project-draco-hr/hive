{
  if (refs == null) {
    refs=new ArrayList<WriteBuffers.ByteSegmentRef>(0);
  }
  int keyHash=WriteBuffers.murmurHash(output.getData(),0,output.getLength());
  partitionId=keyHash & (hashPartitions.length - 1);
  if (isOnDisk(partitionId)) {
    toSpillPartitionId=partitionId;
    refs.clear();
    return JoinUtil.JoinResult.SPILL;
  }
 else {
    byte aliasFilter=hashPartitions[partitionId].hashMap.getValueRefs(output.getData(),output.getLength(),refs);
    this.aliasFilter=refs.isEmpty() ? (byte)0xff : aliasFilter;
    this.dummyRow=null;
    if (refs.isEmpty()) {
      return JoinUtil.JoinResult.NOMATCH;
    }
 else {
      return JoinUtil.JoinResult.MATCH;
    }
  }
}
