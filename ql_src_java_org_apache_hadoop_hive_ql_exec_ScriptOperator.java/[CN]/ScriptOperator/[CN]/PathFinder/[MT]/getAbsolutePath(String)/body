{
  if (pathenv == null || pathSep == null || fileSep == null) {
    return null;
  }
  int val=-1;
  String classvalue=pathenv + pathSep;
  while (((val=classvalue.indexOf(pathSep)) >= 0) && classvalue.length() > 0) {
    String entry=classvalue.substring(0,val).trim();
    File f=new File(entry);
    try {
      if (f.isDirectory()) {
        f=new File(entry + fileSep + filename);
      }
      if (f.isFile() && f.canRead()) {
        return f;
      }
      if (Shell.WINDOWS) {
        String[] exts=new String[]{".exe",".bat"};
        for (        String ext : exts) {
          File fileWithExt=new File(f.toString() + ext);
          if (fileWithExt.isFile() && fileWithExt.canRead()) {
            return fileWithExt;
          }
        }
      }
    }
 catch (    Exception exp) {
    }
    classvalue=classvalue.substring(val + 1).trim();
  }
  return null;
}
