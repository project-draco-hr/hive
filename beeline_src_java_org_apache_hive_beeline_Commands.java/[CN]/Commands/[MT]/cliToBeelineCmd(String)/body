{
  if (cmd == null)   return null;
  String[] tokens=tokenizeCmd(cmd);
  if (tokens[0].equalsIgnoreCase("source")) {
    return BeeLine.COMMAND_PREFIX + cmd;
  }
 else   if (cmd.startsWith("!")) {
    String shell_cmd=cmd.substring(1);
    return "!sh " + shell_cmd;
  }
 else {
    return cmd;
  }
}
