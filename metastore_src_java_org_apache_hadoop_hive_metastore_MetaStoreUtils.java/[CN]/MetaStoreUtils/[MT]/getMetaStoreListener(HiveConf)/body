{
  List<MetaStoreEventListener> listeners=new ArrayList<MetaStoreEventListener>();
  String listenerImplList=conf.getVar(HiveConf.ConfVars.METASTORE_EVENT_LISTENERS);
  listenerImplList=listenerImplList.trim();
  if (listenerImplList.equals("")) {
    return listeners;
  }
  String[] listenerImpls=listenerImplList.split(",");
  for (  String listenerImpl : listenerImpls) {
    try {
      MetaStoreEventListener listener=(MetaStoreEventListener)Class.forName(listenerImpl.trim(),true,JavaUtils.getClassLoader()).getConstructor(Configuration.class).newInstance(conf);
      listener.setConf(conf);
      listeners.add(listener);
    }
 catch (    Exception e) {
      throw new MetaException("Failed to instantiate listener named: " + listenerImpl + e.toString());
    }
  }
  return listeners;
}
