{
  for (Enumeration<?> e=p.propertyNames(); e.hasMoreElements(); ) {
    String key=(String)e.nextElement();
    String oldName=p.getProperty(key);
    oldName=oldName.replace("com.facebook.infrastructure.tprofiles","com.facebook.serde.tprofiles");
    oldName=oldName.replace("com.facebook.infrastructure.hive_context","com.facebook.serde.hive_context");
    oldName=oldName.replace("com.facebook.serde.hive_context","com.facebook.serde2.hive_context");
    oldName=oldName.replace("com.facebook.thrift.hive.MetadataTypedColumnsetSerDe",org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe.class.getName());
    oldName=oldName.replace("com.facebook.thrift.hive.columnsetSerDe","org.apache.hadoop.hive.serde.thrift.columnsetSerDe");
    oldName=oldName.replace("org.apache.hadoop.hive.serde.simple_meta.MetadataTypedColumnsetSerDe",org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe.class.getName());
    oldName=oldName.replace("com.facebook.thrift.hive.MetadataTypedColumnsetSerDe",org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe.class.getName());
    oldName=oldName.replace("com.facebook.thrift.hive.ThriftHiveSerDe",org.apache.hadoop.hive.serde2.ThriftDeserializer.class.getName());
    oldName=oldName.replace("org.apache.hadoop.hive.serde.thrift.ThriftSerDe",org.apache.hadoop.hive.serde2.ThriftDeserializer.class.getName());
    if (oldName.equals("columnset"))     oldName="org.apache.hadoop.hive.serde.thrift.columnsetSerDe";
    if (oldName.equals("simple_meta"))     oldName=org.apache.hadoop.hive.serde2.MetadataTypedColumnsetSerDe.class.getName();
    if (oldName.equals("thrift"))     oldName=org.apache.hadoop.hive.serde2.ThriftDeserializer.class.getName();
    p.setProperty(key,oldName);
  }
  return p;
}
