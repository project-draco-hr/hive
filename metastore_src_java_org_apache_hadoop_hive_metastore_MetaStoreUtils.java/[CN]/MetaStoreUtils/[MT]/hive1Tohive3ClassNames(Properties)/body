{
  for (Enumeration<?> e=p.propertyNames(); e.hasMoreElements(); ) {
    String key=(String)e.nextElement();
    String oldName=p.getProperty(key);
    oldName=oldName.replace("com.facebook.infrastructure.tprofiles","com.facebook.serde.tprofiles");
    oldName=oldName.replace("com.facebook.infrastructure.hive_context","com.facebook.serde.hive_context");
    oldName=oldName.replace("com.facebook.thrift.hive.MetadataTypedColumnsetSerDe",org.apache.hadoop.hive.serde.simple_meta.MetadataTypedColumnsetSerDe.class.getName());
    oldName=oldName.replace("com.facebook.thrift.hive.columnsetSerDe",org.apache.hadoop.hive.serde.thrift.columnsetSerDe.class.getName());
    oldName=oldName.replace("com.facebook.thrift.hive.ThriftHiveSerDe",org.apache.hadoop.hive.serde.thrift.ThriftSerDe.class.getName());
    p.setProperty(key,oldName);
  }
  return p;
}
