{
  long ms=(nanos / (1000 * 1000 * 1000)) * 1000;
  long ns=nanos % (1000 * 1000 * 1000);
  if (ns < 0) {
    ms-=1000;
    ns+=1000 * 1000 * 1000;
  }
  ts.setTime(ms);
  ts.setNanos((int)ns);
  return ts;
}
