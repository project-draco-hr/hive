{
  for (int i=0; i < bytes.length; ++i) {
    if (offsets[i] <= desired && desired - offsets[i] < bytes[i].remaining()) {
      currentRange=i;
      compressed=bytes[i].array();
      offsetInCompressed=(int)(bytes[i].arrayOffset() + bytes[i].position() + (desired - offsets[i]));
      currentOffset=desired;
      limitInCompressed=bytes[i].arrayOffset() + bytes[i].limit();
      return;
    }
  }
  int segments=bytes.length;
  if (segments != 0 && desired == offsets[segments - 1] + bytes[segments - 1].remaining()) {
    currentRange=segments - 1;
    compressed=bytes[currentRange].array();
    offsetInCompressed=bytes[currentRange].arrayOffset() + bytes[currentRange].limit();
    currentOffset=desired;
    limitInCompressed=offsetInCompressed;
    return;
  }
  throw new IOException("Seek outside of data in " + this + " to "+ desired);
}
