{
  singleAlloc[0]=null;
  boolean canAlloc=cache.getAllocator().allocateMultiple(singleAlloc,bc.getLength());
  if (!canAlloc) {
    throw new AssertionError("Cannot allocate");
  }
  LlapMemoryBuffer buffer=singleAlloc[0];
  cache.notifyReused(buffer);
  ByteBuffer dest=buffer.getByteBufferRaw();
  TrackedCacheChunk tcc=TCC_POOL.take();
  tcc.init(buffer,bc.getOffset(),bc.getEnd());
  copyUncompressedChunk(bc.chunk,dest);
  bc.replaceSelfWith(tcc);
  return tcc;
}
