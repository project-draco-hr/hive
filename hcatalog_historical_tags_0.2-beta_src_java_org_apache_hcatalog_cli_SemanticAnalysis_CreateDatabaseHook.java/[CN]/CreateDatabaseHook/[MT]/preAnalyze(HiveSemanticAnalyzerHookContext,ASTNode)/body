{
  Hive db;
  try {
    db=context.getHive();
  }
 catch (  HiveException e) {
    throw new SemanticException("Couldn't get Hive DB instance in semantic analysis phase.",e);
  }
  int numCh=ast.getChildCount();
  databaseName=BaseSemanticAnalyzer.getUnescapedName((ASTNode)ast.getChild(0));
  for (int num=1; num < numCh; num++) {
    ASTNode child=(ASTNode)ast.getChild(num);
switch (child.getToken().getType()) {
case HiveParser.TOK_QUERY:
      throw new SemanticException("Operation not supported. Create db as Select is not a valid operation.");
case HiveParser.TOK_IFNOTEXISTS:
    try {
      List<String> dbs=db.getDatabasesByPattern(databaseName);
      if (dbs != null && dbs.size() > 0) {
        return ast;
      }
    }
 catch (    HiveException e) {
      throw new SemanticException(e);
    }
  break;
}
}
return ast;
}
