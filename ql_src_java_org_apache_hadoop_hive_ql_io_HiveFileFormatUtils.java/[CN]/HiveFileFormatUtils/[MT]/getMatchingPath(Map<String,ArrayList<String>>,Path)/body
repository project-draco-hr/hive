{
  String path=dir.toString();
  if (foundAlias(pathToAliases,path)) {
    return path;
  }
  String dirPath=dir.toUri().getPath();
  if (foundAlias(pathToAliases,dirPath)) {
    return dirPath;
  }
  path=dirPath;
  String dirStr=dir.toString();
  int dirPathIndex=dirPath.lastIndexOf(Path.SEPARATOR);
  int dirStrIndex=dirStr.lastIndexOf(Path.SEPARATOR);
  while (dirPathIndex >= 0 && dirStrIndex >= 0) {
    dirStr=dirStr.substring(0,dirStrIndex);
    dirPath=dirPath.substring(0,dirPathIndex);
    if (foundAlias(pathToAliases,dirStr)) {
      return dirStr;
    }
    if (foundAlias(pathToAliases,dirPath)) {
      return dirPath;
    }
    dirPathIndex=dirPath.lastIndexOf(Path.SEPARATOR);
    dirStrIndex=dirStr.lastIndexOf(Path.SEPARATOR);
  }
  return null;
}
