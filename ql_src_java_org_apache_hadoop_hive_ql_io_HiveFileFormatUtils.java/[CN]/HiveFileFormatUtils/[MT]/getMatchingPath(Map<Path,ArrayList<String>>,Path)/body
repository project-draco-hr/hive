{
  Path path=dir;
  if (foundAlias(pathToAliases,path)) {
    return path;
  }
  Path dirPath=Path.getPathWithoutSchemeAndAuthority(dir);
  if (foundAlias(pathToAliases,dirPath)) {
    return dirPath;
  }
  while (path != null && dirPath != null) {
    path=path.getParent();
    dirPath=dirPath.getParent();
    if (foundAlias(pathToAliases,path)) {
      return path;
    }
    if (foundAlias(pathToAliases,dirPath)) {
      return dirPath;
    }
  }
  return null;
}
