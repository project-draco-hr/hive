{
  String dbName=getTestDbName();
  String tblName=getTestTableName();
  setPermissions(clientHiveConf.getVar(ConfVars.METASTOREWAREHOUSE),"-rwxrwxrwx");
  CommandProcessorResponse resp=driver.run("create database " + dbName);
  assertEquals(0,resp.getResponseCode());
  Database db=msc.getDatabase(dbName);
  validateCreateDb(db,dbName);
  setPermissions(db.getLocationUri(),"-rwxrwxrwx");
  String dbDotTable=dbName + "." + tblName;
  resp=driver.run("create table " + dbDotTable + "(i int) partitioned by (b string)");
  assertEquals(0,resp.getResponseCode());
  Table tab=msc.getTable(dbName,tblName);
  setPermissions(tab.getSd().getLocation(),perm);
  resp=driver.run("alter table " + dbDotTable + " add partition (b='2011')");
  assertEquals(0,resp.getResponseCode());
  InjectableDummyAuthenticator.injectMode(true);
  resp=driver.run("alter table " + dbDotTable + " drop partition (b='2011')");
  assertEquals(expectedRet,resp.getResponseCode());
}
