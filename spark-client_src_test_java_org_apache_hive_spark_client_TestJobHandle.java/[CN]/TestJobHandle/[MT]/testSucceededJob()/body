{
  JobHandleImpl<Serializable> handle=new JobHandleImpl<Serializable>(client,promise,"job");
  handle.addListener(listener);
  Serializable result=new Exception();
  when(promise.get()).thenReturn(result);
  assertTrue(handle.changeState(JobHandle.State.SUCCEEDED));
  verify(promise).get();
  verify(listener).onJobSucceeded(handle,result);
}
