{
  JobHandleImpl<Serializable> handle=new JobHandleImpl<Serializable>(client,promise,"job");
  assertTrue(handle.changeState(JobHandle.State.QUEUED));
  handle.addListener(listener);
  verify(listener).onJobQueued(handle);
  handle.changeState(JobHandle.State.STARTED);
  handle.addSparkJobId(1);
  handle.changeState(JobHandle.State.CANCELLED);
  handle.addListener(listener2);
  InOrder inOrder=inOrder(listener2);
  inOrder.verify(listener2).onSparkJobStarted(same(handle),eq(1));
  inOrder.verify(listener2).onJobCancelled(same(handle));
}
