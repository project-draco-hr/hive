{
  Stopwatch sw=new Stopwatch();
  Map<String,GcTimes> gcTimesBeforeSleep=getGcTimes();
  while (shouldRun) {
    sw.reset().start();
    try {
      Thread.sleep(SLEEP_INTERVAL_MS);
    }
 catch (    InterruptedException ie) {
      return;
    }
    long extraSleepTime=sw.elapsedMillis() - SLEEP_INTERVAL_MS;
    Map<String,GcTimes> gcTimesAfterSleep=getGcTimes();
    if (extraSleepTime > warnThresholdMs) {
      ++numGcWarnThresholdExceeded;
      LOG.warn(formatMessage(extraSleepTime,gcTimesAfterSleep,gcTimesBeforeSleep));
      incrementMetricsCounter(MetricsConstant.JVM_PAUSE_WARN,1);
    }
 else     if (extraSleepTime > infoThresholdMs) {
      ++numGcInfoThresholdExceeded;
      LOG.info(formatMessage(extraSleepTime,gcTimesAfterSleep,gcTimesBeforeSleep));
      incrementMetricsCounter(MetricsConstant.JVM_PAUSE_INFO,1);
    }
    incrementMetricsCounter(MetricsConstant.JVM_EXTRA_SLEEP,extraSleepTime);
    totalGcExtraSleepTime+=extraSleepTime;
    gcTimesBeforeSleep=gcTimesAfterSleep;
  }
}
