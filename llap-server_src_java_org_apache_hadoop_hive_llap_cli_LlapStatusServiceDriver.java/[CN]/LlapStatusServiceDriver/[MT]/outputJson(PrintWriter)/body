{
  ObjectMapper mapper=new ObjectMapper();
  mapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS,false);
  mapper.setSerializationInclusion(JsonSerialize.Inclusion.NON_NULL);
  mapper.setSerializationInclusion(JsonSerialize.Inclusion.NON_EMPTY);
  try {
    writer.println(mapper.writerWithDefaultPrettyPrinter().writeValueAsString(appStatusBuilder));
  }
 catch (  IOException e) {
    throw new LlapStatusCliException(ExitCode.LLAP_JSON_GENERATION_ERROR,"Failed to create JSON",e);
  }
}
