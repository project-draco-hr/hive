{
  try {
    setReaderThread(Thread.currentThread());
    value.readFields(din);
    return true;
  }
 catch (  EOFException eof) {
    ReaderEvent event=getReaderEvent();
switch (event.getEventType()) {
case DONE:
      break;
default :
    throw new IOException("Expected reader event with done status, but got " + event.getEventType() + " with message "+ event.getMessage());
}
return false;
}
catch (IOException io) {
if (Thread.interrupted()) {
  if (readerEvents.isEmpty()) {
    throw io;
  }
 else {
    ReaderEvent event=getReaderEvent();
switch (event.getEventType()) {
case ERROR:
      throw new IOException("Received reader event error: " + event.getMessage(),io);
default :
    throw new IOException("Got reader event type " + event.getEventType() + ", expected error event",io);
}
}
}
 else {
throw io;
}
}
}
