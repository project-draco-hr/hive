{
  if (!workGraph.containsKey(work)) {
    return;
  }
  List<BaseWork> children=getChildren(work);
  List<BaseWork> parents=getParents(work);
  for (  BaseWork w : children) {
    edgeProperties.remove(new ImmutablePair<BaseWork,BaseWork>(work,w));
    invertedWorkGraph.get(w).remove(work);
    if (invertedWorkGraph.get(w).size() == 0) {
      roots.add(w);
    }
  }
  for (  BaseWork w : parents) {
    edgeProperties.remove(new ImmutablePair<BaseWork,BaseWork>(w,work));
    workGraph.get(w).remove(work);
    if (workGraph.get(w).size() == 0) {
      leaves.add(w);
    }
  }
  roots.remove(work);
  leaves.remove(work);
  workGraph.remove(work);
  invertedWorkGraph.remove(work);
}
