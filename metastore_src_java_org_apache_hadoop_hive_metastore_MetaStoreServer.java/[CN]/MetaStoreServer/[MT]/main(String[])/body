{
  int port=9082;
  if (args.length > 0) {
    port=Integer.getInteger(args[0]);
  }
  try {
    TServerTransport serverTransport=new TServerSocket(port);
    Iface handler=new ThriftMetaStoreHandler("hello");
    FacebookService.Processor processor=new ThriftMetaStore.Processor(handler);
    TThreadPoolServer.Options options=new TThreadPoolServer.Options();
    options.minWorkerThreads=100;
    TServer server=new TThreadPoolServer(processor,serverTransport,new TTransportFactory(),new TTransportFactory(),new TBinaryProtocol.Factory(),new TBinaryProtocol.Factory(),options);
    ThriftMetaStoreHandler.LOG.info("Starting the metaserver on port [" + port + "]...");
    server.serve();
  }
 catch (  Exception x) {
    x.printStackTrace();
  }
}
