{
  PerfLogger perfLogger=SessionState.getPerfLogger();
  perfLogger.PerfLogBegin(CLASS_NAME,PerfLogger.CLONE_PLAN);
  ByteArrayOutputStream baos=new ByteArrayOutputStream(4096);
  serializePlan(plan,baos,true);
  BaseWork newPlan=deserializePlan(new ByteArrayInputStream(baos.toByteArray()),plan.getClass(),true);
  perfLogger.PerfLogEnd(CLASS_NAME,PerfLogger.CLONE_PLAN);
  return newPlan;
}
