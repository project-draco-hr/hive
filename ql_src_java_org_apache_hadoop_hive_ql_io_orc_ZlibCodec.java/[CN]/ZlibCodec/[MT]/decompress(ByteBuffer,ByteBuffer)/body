{
  Inflater inflater=new Inflater(true);
  inflater.setInput(in.array(),in.arrayOffset() + in.position(),in.remaining());
  while (!(inflater.finished() || inflater.needsDictionary() || inflater.needsInput())) {
    try {
      int count=inflater.inflate(out.array(),out.arrayOffset() + out.position(),out.remaining());
      out.position(count + out.position());
    }
 catch (    DataFormatException dfe) {
      throw new IOException("Bad compression data",dfe);
    }
  }
  out.flip();
  inflater.end();
  in.position(in.limit());
}
