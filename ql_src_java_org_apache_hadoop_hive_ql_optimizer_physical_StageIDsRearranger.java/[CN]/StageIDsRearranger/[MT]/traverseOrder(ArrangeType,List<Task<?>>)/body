{
  TaskTraverse traverse=new TaskTraverse(){
    @Override protected boolean isReady(    Task<?> task){
      return type == ArrangeType.NONE || type == ArrangeType.IDONLY || super.isReady(task);
    }
    @Override protected List<Task<?>> next(    Task<?> task){
      return getChildTasks(task);
    }
  }
;
  for (  Task<? extends Serializable> task : tasks) {
    traverse.traverse(task);
  }
  return new ArrayList<Task>(traverse.traversed);
}
