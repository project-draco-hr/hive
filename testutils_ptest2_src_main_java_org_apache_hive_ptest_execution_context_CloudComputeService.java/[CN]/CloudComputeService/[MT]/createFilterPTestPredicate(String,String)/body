{
  return new Predicate<ComputeMetadata>(){
    @Override public boolean apply(    ComputeMetadata computeMetadata){
      NodeMetadata nodeMetadata=(NodeMetadata)computeMetadata;
      return nodeMetadata.getStatus() == Status.RUNNING && isPTestHost(nodeMetadata);
    }
    private boolean isPTestHost(    NodeMetadata node){
      if (groupName.equalsIgnoreCase(node.getGroup())) {
        return true;
      }
      if (Strings.nullToEmpty(node.getName()).startsWith(groupName)) {
        return true;
      }
      if (node.getTags().contains(groupTag)) {
        return true;
      }
      return false;
    }
  }
;
}
