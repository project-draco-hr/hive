{
  if (!parsed) {
    parse(itemSeparator,keyValueSeparator,nullSequence);
  }
  if (cachedMap == null) {
    cachedMap=new HashMap<Object,Object>();
  }
  cachedMap.clear();
  for (int i=0; i < mapSize; i++) {
    LazyPrimitive<?> lazyKey=uncheckedGetKey(i,nullSequence);
    if (lazyKey == null)     continue;
    Object key=lazyKey.getObject();
    if (key != null && !cachedMap.containsKey(key)) {
      LazyObject lazyValue=uncheckedGetValue(i,nullSequence);
      Object value=(lazyValue == null ? null : lazyValue.getObject());
      cachedMap.put(key,value);
    }
  }
  return cachedMap;
}
