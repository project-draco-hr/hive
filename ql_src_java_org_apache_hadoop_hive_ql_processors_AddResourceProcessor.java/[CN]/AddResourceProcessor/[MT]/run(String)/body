{
  SessionState ss=SessionState.get();
  command=new VariableSubstitution().substitute(ss.getConf(),command);
  String[] tokens=command.split("\\s+");
  SessionState.ResourceType t;
  if (tokens.length < 2 || (t=SessionState.find_resource_type(tokens[0])) == null) {
    console.printError("Usage: add [" + StringUtils.join(SessionState.ResourceType.values(),"|") + "] <value> [<value>]*");
    return new CommandProcessorResponse(1);
  }
  for (int i=1; i < tokens.length; i++) {
    String resourceFile=ss.add_resource(t,tokens[i]);
    if (resourceFile == null) {
      String errMsg=tokens[i] + " does not exist.";
      return new CommandProcessorResponse(1,errMsg,null);
    }
  }
  Thread.currentThread().setContextClassLoader(Utilities.addResourceFilesToClassPath(ss.getConf()));
  return new CommandProcessorResponse(0);
}
