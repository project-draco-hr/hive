{
  SessionState ss=SessionState.get();
  command=new VariableSubstitution().substitute(ss.getConf(),command);
  String[] tokens=command.split("\\s+");
  SessionState.ResourceType t;
  if (tokens.length < 2 || (t=SessionState.find_resource_type(tokens[0])) == null) {
    console.printError("Usage: add [" + StringUtils.join(SessionState.ResourceType.values(),"|") + "] <value> [<value>]*");
    return new CommandProcessorResponse(1);
  }
  CommandProcessorResponse authErrResp=CommandUtil.authorizeCommand(ss,HiveOperationType.ADD,Arrays.asList(tokens));
  if (authErrResp != null) {
    return authErrResp;
  }
  try {
    ss.add_resources(t,Arrays.asList(Arrays.copyOfRange(tokens,1,tokens.length)));
  }
 catch (  Exception e) {
    return CommandProcessorResponse.create(e);
  }
  return new CommandProcessorResponse(0);
}
