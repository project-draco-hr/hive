{
  while (!isShutdown.get()) {
    lock.lock();
    try {
      while (!shouldRun.get()) {
        queueCondition.await();
        break;
      }
      boolean shouldBreak=process();
      if (shouldBreak) {
        break;
      }
    }
 catch (    InterruptedException e) {
      if (isShutdown.get()) {
        break;
      }
 else {
        LOG.warn("RunLoop interrupted without being shutdown first");
        throw new RuntimeException(e);
      }
    }
 finally {
      lock.unlock();
    }
  }
  LOG.info("CallScheduler loop exiting");
  return null;
}
