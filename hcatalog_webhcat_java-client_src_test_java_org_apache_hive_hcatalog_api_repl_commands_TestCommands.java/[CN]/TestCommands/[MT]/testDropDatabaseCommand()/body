{
  String dbName="cmd_testdb";
  int evid=999;
  Command testCmd=new DropDatabaseCommand(dbName,evid);
  assertEquals(evid,testCmd.getEventId());
  assertEquals(1,testCmd.get().size());
  assertEquals(true,testCmd.isRetriable());
  assertEquals(false,testCmd.isUndoable());
  CommandTestUtils.testCommandSerialization(testCmd);
  client.dropDatabase(dbName,true,HCatClient.DropDBMode.CASCADE);
  client.createDatabase(HCatCreateDBDesc.create(dbName).ifNotExists(false).build());
  HCatDatabase db=client.getDatabase(dbName);
  assertNotNull(db);
  LOG.info("About to run :" + testCmd.get().get(0));
  driver.run(testCmd.get().get(0));
  Exception onfe=null;
  try {
    HCatDatabase db_del=client.getDatabase(dbName);
  }
 catch (  Exception e) {
    onfe=e;
  }
  assertNotNull(onfe);
  assertTrue(onfe instanceof ObjectNotFoundException);
}
