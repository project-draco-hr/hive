{
  if (!isUserAdmin() && !doesUserHasAdminOption(Arrays.asList(roleName))) {
    throw new HiveAccessControlException("Current user : " + currentUserName + " is not"+ " allowed get principals in a role. "+ ADMIN_ONLY_MSG+ " Otherwise, "+ HAS_ADMIN_PRIV_MSG);
  }
  try {
    return getHiveRoleGrants(metastoreClientFactory.getHiveMetastoreClient(),roleName);
  }
 catch (  Exception e) {
    throw SQLAuthorizationUtils.getPluginException("Error getting principals for all roles",e);
  }
}
