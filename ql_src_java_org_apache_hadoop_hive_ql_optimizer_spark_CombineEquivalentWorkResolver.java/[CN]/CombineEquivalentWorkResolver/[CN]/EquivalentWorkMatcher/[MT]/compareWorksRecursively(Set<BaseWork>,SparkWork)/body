{
  Set<Set<BaseWork>> equivalentWorks=compareChildWorks(works,sparkWork);
  Set<BaseWork> removedWorks=combineEquivalentWorks(equivalentWorks,sparkWork);
  for (  BaseWork work : works) {
    if (!removedWorks.contains(work)) {
      Set<BaseWork> children=Sets.newHashSet();
      children.addAll(sparkWork.getChildren(work));
      if (children.size() > 0) {
        compareWorksRecursively(children,sparkWork);
      }
    }
  }
}
