{
  SMBMapJoinOperator ret=null;
  while (true) {
    if (currOp instanceof SMBMapJoinOperator) {
      if (ret != null) {
        return null;
      }
      ret=(SMBMapJoinOperator)currOp;
    }
    if (!currOp.opAllowedBeforeSortMergeJoin()) {
      return null;
    }
    List<Operator<? extends OperatorDesc>> childOps=currOp.getChildOperators();
    if ((childOps == null) || (childOps.isEmpty())) {
      return reducerAllowedSMBJoinOp(reducer) ? ret : null;
    }
    if (childOps.size() > 1) {
      return null;
    }
    currOp=childOps.get(0);
  }
}
