{
  TaskWrapper taskWrapper;
synchronized (lock) {
    taskWrapper=preemptionQueue.remove();
    if (taskWrapper != null) {
      taskWrapper.setIsInPreemptableQueue(false);
      if (metrics != null) {
        metrics.setExecutorNumPreemptableRequests(preemptionQueue.size());
      }
    }
  }
  return taskWrapper;
}
