{
  Random r=new Random();
  T result=null;
  for (int failures=0; ; failures++) {
    try {
      result=cmd.run(stmt);
      return result;
    }
 catch (    SQLTransientException e) {
      LOG.warn("Failure and retry #" + failures + " with exception "+ e.getMessage());
      if (failures >= maxRetries) {
        throw e;
      }
      long waitTime=getRandomWaitTime(baseWindow,failures,r);
      try {
        Thread.sleep(waitTime);
      }
 catch (      InterruptedException iex) {
      }
    }
catch (    SQLException e) {
      throw e;
    }
  }
}
