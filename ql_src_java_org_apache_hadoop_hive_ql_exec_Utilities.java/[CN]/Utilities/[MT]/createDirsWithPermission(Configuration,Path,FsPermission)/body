{
  boolean recursive=false;
  if (SessionState.get() != null) {
    recursive=SessionState.get().isHiveServerQuery() && conf.getBoolean(HiveConf.ConfVars.HIVE_SERVER2_ENABLE_DOAS.varname,HiveConf.ConfVars.HIVE_SERVER2_ENABLE_DOAS.defaultBoolVal);
    fsPermission=new FsPermission((short)00777);
  }
  return createDirsWithPermission(conf,mkdir,fsPermission,recursive);
}
