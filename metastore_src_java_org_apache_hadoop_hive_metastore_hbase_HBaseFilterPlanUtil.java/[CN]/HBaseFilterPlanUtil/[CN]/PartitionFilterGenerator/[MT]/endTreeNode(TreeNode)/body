{
  rPlan=curPlan;
  FilterPlan lPlan=leftPlans.get(node);
  leftPlans.remove(node);
switch (node.getAndOr()) {
case AND:
    curPlan=lPlan.and(rPlan);
  break;
case OR:
curPlan=lPlan.or(rPlan);
break;
default :
throw new AssertionError("Unexpected logical operation " + node.getAndOr());
}
}
