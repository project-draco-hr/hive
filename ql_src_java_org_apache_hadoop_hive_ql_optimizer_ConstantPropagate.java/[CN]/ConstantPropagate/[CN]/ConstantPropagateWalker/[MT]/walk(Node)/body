{
  List<Node> parents=((Operator)nd).getParentOperators();
  if ((parents == null) || getDispatchedList().containsAll(parents)) {
    opStack.push(nd);
    dispatch(nd,opStack);
    opStack.pop();
  }
 else {
    toWalk.removeAll(parents);
    toWalk.add(0,nd);
    toWalk.addAll(0,parents);
    return;
  }
  List<? extends Node> children=nd.getChildren();
  if (children != null) {
    toWalk.removeAll(children);
    toWalk.addAll(children);
  }
}
