{
  VectorizationContext vContext=null;
  if (stack.size() <= 1) {
    throw new SemanticException(String.format("Expected operator stack for operator %s to have at least 2 operators",op.getName()));
  }
  int i=stack.size() - 2;
  while (vContext == null) {
    if (i < 0) {
      return null;
    }
    Operator<? extends OperatorDesc> opParent=(Operator<? extends OperatorDesc>)stack.get(i);
    vContext=vContextsByOp.get(opParent);
    --i;
  }
  return vContext;
}
