{
  assertEquals(DropDatabaseReplicationTask.class,rtask.getClass());
  assertEquals(false,rtask.needsStagingDirs());
  assertEquals(true,rtask.isActionable());
  rtask.withDbNameMapping(debugMapping).withTableNameMapping(debugMapping);
  for (  Command c : rtask.getSrcWhCommands()) {
    assertEquals(NoopCommand.class,c.getClass());
  }
  List<? extends Command> dstCommands=Lists.newArrayList(rtask.getDstWhCommands());
  assertEquals(1,dstCommands.size());
  assertEquals(DropDatabaseCommand.class,dstCommands.get(0).getClass());
  DropDatabaseCommand dropDatabaseCommand=new DropDatabaseCommand(debugMapping.apply(rtask.getEvent().getDbName()),rtask.getEvent().getEventId());
  assertEquals(ReplicationUtils.serializeCommand(dropDatabaseCommand),ReplicationUtils.serializeCommand(dstCommands.get(0)));
}
