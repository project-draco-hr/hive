{
  int offset=0;
  while (offset < count) {
    int bytesRead=in.read(buff,offset,count - offset);
    if (bytesRead == -1)     return bytesRead;
    offset+=bytesRead;
  }
  return offset;
}
