{
  try {
    Connection dbConn=null;
    Statement stmt=null;
    try {
      dbConn=getDbConn(Connection.TRANSACTION_SERIALIZABLE);
      stmt=dbConn.createStatement();
      String s="update COMPACTION_QUEUE set cq_run_as = '" + user + "' where cq_id = "+ cq_id;
      LOG.debug("Going to execute update <" + s + ">");
      int updCnt=stmt.executeUpdate(s);
      if (updCnt != 1) {
        LOG.error("Unable to set cq_run_as=" + user + " for compaction record with cq_id="+ cq_id+ ".  updCnt="+ updCnt);
        LOG.debug("Going to rollback");
        dbConn.rollback();
      }
      LOG.debug("Going to commit");
      dbConn.commit();
    }
 catch (    SQLException e) {
      LOG.error("Unable to update compaction queue, " + e.getMessage());
      LOG.debug("Going to rollback");
      rollbackDBConn(dbConn);
      checkRetryable(dbConn,e,"setRunAs(cq_id:" + cq_id + ",user:"+ user+ ")");
    }
 finally {
      closeDbConn(dbConn);
      closeStmt(stmt);
    }
  }
 catch (  RetryException e) {
    setRunAs(cq_id,user);
  }
}
