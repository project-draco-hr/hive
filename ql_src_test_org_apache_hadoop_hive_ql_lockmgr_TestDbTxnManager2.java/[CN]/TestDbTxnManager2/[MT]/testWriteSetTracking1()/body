{
  CommandProcessorResponse cpr=driver.run("create table if not exists TAB_PART (a int, b int) " + "partitioned by (p string) clustered by (a) into 2  buckets stored as orc TBLPROPERTIES ('transactional'='true')");
  checkCmdOnDriver(cpr);
  checkCmdOnDriver(driver.compileAndRespond("select * from TAB_PART"));
  txnMgr.openTxn("Nicholas");
  checkCmdOnDriver(driver.compileAndRespond("update TAB_PART set b = 7 where p = 'blah'"));
  txnMgr.acquireLocks(driver.getPlan(),ctx,"Nicholas");
  HiveTxnManager txnMgr2=TxnManagerFactory.getTxnManagerFactory().getTxnManager(conf);
  txnMgr.commitTxn();
  txnMgr2.openTxn("Alexandra");
  checkCmdOnDriver(driver.compileAndRespond("update TAB_PART set b = 7 where p = 'blah'"));
  txnMgr2.acquireLocks(driver.getPlan(),ctx,"Nicholas");
  txnMgr2.commitTxn();
}
