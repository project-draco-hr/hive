{
  CommandProcessorResponse cpr=driver.compileAndRespond("create table if not exists T (a int, b int)");
  checkCmdOnDriver(cpr);
  txnMgr.acquireLocks(driver.getPlan(),ctx,"Fifer");
  List<ShowLocksResponseElement> locks=getLocks();
  Assert.assertEquals("Unexpected lock count",1,locks.size());
  checkLock(LockType.SHARED_READ,LockState.ACQUIRED,"default",null,null,locks);
  txnMgr.getLockManager().releaseLocks(ctx.getHiveLocks());
  Assert.assertEquals("Lock remained",0,getLocks().size());
}
