{
  try {
    Class<?> delegationTokenClass=JavaUtils.loadClass(DELEGATION_TOKEN_IMPL_CLASS_NAME);
    Method getIdentifierMethod=delegationTokenClass.getMethod(GET_IDENTIFIER_METHOD_NAME);
    Method getPasswordMethod=delegationTokenClass.getMethod(GET_PASSWORD_METHOD_NAME);
    Method getServiceNameMethod=delegationTokenClass.getMethod(GET_SERVICE_NAME_METHOD_NAME);
    TokenIdentifier identifier=(TokenIdentifier)getIdentifierMethod.invoke(delegationToken);
    return new Token<TokenIdentifier>(identifier.getBytes(),(byte[])getPasswordMethod.invoke(delegationToken),identifier.getKind(),(Text)getServiceNameMethod.invoke(delegationToken));
  }
 catch (  Exception e) {
    throw new IOException("Failed to create Hadoop token from Accumulo DelegationToken",e);
  }
}
