def segment_tests(path):
    local.cd((code_path + path))
    tests = local.run('ls -1', quiet=True, abandon_output=False).strip().split('\n')
    qfile_set.cd((host_code_path + path))
    test_splits = [[] for i in range(len(qfile_set))]
    i = 0
    for test in tests:
        test_splits[i].append(test)
        i = ((i + 1) % len(qfile_set))
    cmd = []
    for i in range(len(qfile_set)):
        host = qfile_set.conn[i].hostname
        cmd.append((((('if [[ "{host}" != "' + host) + '" ]]; then rm -f ') + ' '.join(test_splits[i])) + '; fi'))
    cmd = ' && '.join(cmd)
    qfile_set.run(cmd, vewy_quiet=True)
