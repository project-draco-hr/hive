def segment_tests(path):
    local.cd((code_path + path))
    tests = local.run('ls -1', quiet=True, abandon_output=False).strip().split('\n')
    qfile_set.cd((host_code_path + path))
    cmd = []
    i = 0
    for test in tests:
        host = qfile_set.conn[i].hostname
        cmd.append((((('if [[ "{host}" != "' + host) + '" ]]; then rm -f "') + test) + '"; fi'))
        i = ((i + 1) % len(qfile_set))
    cmd = ' && '.join(cmd)
    qfile_set.run(cmd, vewy_quiet=True)
