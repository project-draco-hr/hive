{
  DataReaderFactory mockedDataReaderFactory=mock(DataReaderFactory.class);
  MetadataReaderFactory mockedMetadataReaderFactory=mock(MetadataReaderFactory.class);
  when(mockedDataReaderFactory.create(any(DataReaderProperties.class))).thenReturn(mockedDataReader);
  when(mockedMetadataReaderFactory.create(any(MetadataReaderProperties.class))).thenReturn(mockedMetadataReader);
  RecordReader recordReader=RecordReaderImpl.builder().withBufferSize(0).withCodec(mock(CompressionCodec.class)).withConf(mock(Configuration.class)).withFileSystem(mock(FileSystem.class)).withOptions(mock(Reader.Options.class)).withPath(mock(Path.class)).withStrideRate(0).withStripes(Collections.singletonList(mock(StripeInformation.class))).withTypes(Collections.singletonList(OrcProto.Type.getDefaultInstance())).withDataReaderFactory(mockedDataReaderFactory).withMetadataReaderFactory(mockedMetadataReaderFactory).build();
  recordReader.close();
}
