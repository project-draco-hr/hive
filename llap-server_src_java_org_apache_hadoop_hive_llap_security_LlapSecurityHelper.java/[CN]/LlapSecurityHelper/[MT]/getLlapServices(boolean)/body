{
  if (activeInstances == null) {
    registry.start();
    activeInstances=registry.getInstances();
  }
  Map<String,ServiceInstance> daemons=activeInstances.getAll();
  if (doForceRefresh || daemons == null || daemons.isEmpty()) {
    daemons=activeInstances.getAll();
    if (daemons == null || daemons.isEmpty())     throw new RuntimeException("No LLAPs found");
  }
  return daemons.values().iterator();
}
