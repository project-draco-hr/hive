{
  int[] inputColumns=new int[childExpr.size()];
  VectorExpression[] vectorChildren=null;
  try {
    vectorChildren=getVectorExpressions(childExpr,VectorExpressionDescriptor.Mode.PROJECTION);
    int i=0;
    for (    VectorExpression ve : vectorChildren) {
      inputColumns[i++]=ve.getOutputColumn();
    }
    int outColumn=ocm.allocateOutputColumn(returnType.getTypeName());
    VectorCoalesce vectorCoalesce=new VectorCoalesce(inputColumns,outColumn);
    vectorCoalesce.setOutputType(returnType.getTypeName());
    vectorCoalesce.setChildExpressions(vectorChildren);
    return vectorCoalesce;
  }
  finally {
    if (vectorChildren != null) {
      for (      VectorExpression v : vectorChildren) {
        ocm.freeOutputColumn(v.getOutputColumn());
      }
    }
  }
}
