{
  PrintStream origOut=System.out;
  try {
    ObjectInspector inspector;
synchronized (TestOrcFile.class) {
      inspector=ObjectInspectorFactory.getReflectionObjectInspector(AllTypesRecord.class,ObjectInspectorFactory.ObjectInspectorOptions.JAVA);
    }
    Writer writer=OrcFile.createWriter(fs,testFilePath,conf,inspector,100000,CompressionKind.NONE,10000,1000);
    Map<String,String> m=new HashMap<String,String>(2);
    m.put("k1","v1");
    writer.addRow(new AllTypesRecord(true,(byte)10,(short)100,1000,10000L,4.0f,20.0,HiveDecimal.create("4.2222"),new Timestamp(1416967764000L),new Date(1416967764000L),"string",new HiveChar("hello",5),new HiveVarchar("hello",10),m,Arrays.asList(100,200),new AllTypesRecord.Struct(10,"foo")));
    writer.close();
    OutputStream myOut=new OutputStream(){
      @Override public void write(      int b) throws IOException {
        throw new IOException();
      }
    }
;
    System.setOut(new PrintStream(myOut));
    FileDump.main(new String[]{testFilePath.toString(),"-d"});
  }
  finally {
    System.setOut(origOut);
  }
}
