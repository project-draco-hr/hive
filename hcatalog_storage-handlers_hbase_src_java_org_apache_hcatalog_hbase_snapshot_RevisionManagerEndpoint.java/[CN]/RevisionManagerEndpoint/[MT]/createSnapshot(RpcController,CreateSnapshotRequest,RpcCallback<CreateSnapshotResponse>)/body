{
  if (rmImpl != null) {
    try {
      TableSnapshot snapshot;
      if (request.hasRevision()) {
        snapshot=rmImpl.createSnapshot(request.getTableName(),request.getRevision());
      }
 else {
        snapshot=rmImpl.createSnapshot(request.getTableName());
      }
      done.run(CreateSnapshotResponse.newBuilder().setTableSnapshot(rpcConverter.convertTableSnapshot(snapshot)).build());
    }
 catch (    IOException e) {
      ResponseConverter.setControllerException(controller,e);
    }
  }
}
