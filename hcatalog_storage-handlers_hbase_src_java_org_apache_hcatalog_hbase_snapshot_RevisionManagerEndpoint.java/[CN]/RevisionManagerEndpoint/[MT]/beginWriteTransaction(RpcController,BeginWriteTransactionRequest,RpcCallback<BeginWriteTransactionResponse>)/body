{
  if (rmImpl != null) {
    try {
      Transaction transaction;
      if (request.hasKeepAlive()) {
        transaction=rmImpl.beginWriteTransaction(request.getTableName(),request.getColumnFamiliesList(),request.getKeepAlive());
      }
 else {
        transaction=rmImpl.beginWriteTransaction(request.getTableName(),request.getColumnFamiliesList());
      }
      done.run(BeginWriteTransactionResponse.newBuilder().setTransaction(rpcConverter.convertTransaction(transaction)).build());
    }
 catch (    IOException e) {
      ResponseConverter.setControllerException(controller,e);
    }
  }
}
