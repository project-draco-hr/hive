{
  if (!isOpen) {
    return;
  }
  if (output.getLength() > 0) {
    fileOutputStream.write(output.getData(),0,output.getLength());
    totalWriteLength+=output.getLength();
    fileOutputStream.flush();
    output.reset();
  }
  if (fileInputStream != null) {
    fileInputStream.close();
  }
  fileInputStream=new FileInputStream(tmpFile);
  readNextIndex=0;
  readNextCount=0;
}
