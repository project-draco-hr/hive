{
  try {
    if (conf.getBoolVar(HiveConf.ConfVars.HIVE_IN_TEST) && conf.getBoolVar(HiveConf.ConfVars.HIVETESTMODEFAILHEARTBEATER)) {
      throw new LockException(HiveConf.ConfVars.HIVETESTMODEFAILHEARTBEATER.name() + "=true");
    }
    LOG.debug("Heartbeating...");
    txnMgr.heartbeat();
  }
 catch (  LockException e) {
    LOG.error("Failed trying to heartbeat " + e.getMessage());
    lockException=e;
  }
}
