{
  List<StageInfo> stageInfos=new LinkedList<StageInfo>();
  Map<Object,StageInfo> activeStages=mutableMapAsJavaMap(jobProgressListener.activeStages());
  List<StageInfo> completedStages=bufferAsJavaList(jobProgressListener.completedStages());
  List<StageInfo> failedStages=bufferAsJavaList(jobProgressListener.failedStages());
  if (activeStages.containsKey(stageId)) {
    stageInfos.add(activeStages.get(stageId));
  }
 else {
    for (    StageInfo stageInfo : completedStages) {
      if (stageInfo.stageId() == stageId) {
        stageInfos.add(stageInfo);
      }
    }
    for (    StageInfo stageInfo : failedStages) {
      if (stageInfo.stageId() == stageId) {
        stageInfos.add(stageInfo);
      }
    }
  }
  return stageInfos;
}
