{
  int keyHashCode=0;
  if (partitionEval.length == 0) {
    if (random == null) {
      random=new Random(12345);
    }
    keyHashCode=random.nextInt();
  }
 else {
    for (int i=0; i < partitionEval.length; i++) {
      Object o=partitionEval[i].evaluate(row);
      keyHashCode=keyHashCode * 31 + ObjectInspectorUtils.hashCode(o,partitionObjectInspectors[i]);
    }
  }
  return buckNum < 0 ? keyHashCode : keyHashCode * 31 + buckNum;
}
