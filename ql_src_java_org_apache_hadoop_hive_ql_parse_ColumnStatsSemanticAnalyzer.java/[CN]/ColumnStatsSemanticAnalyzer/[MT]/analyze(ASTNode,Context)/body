{
  QB qb;
  QBParseInfo qbp;
  init(true);
  if (isRewritten) {
    qb=getQB();
    qb.setAnalyzeRewrite(true);
    qbp=qb.getParseInfo();
    qbp.setTableName(tbl.getTableName());
    qbp.setTblLvl(isTableLevel);
    qbp.setColName(colNames);
    qbp.setColType(colType);
    initCtx(ctx);
    LOG.info("Invoking analyze on rewritten query");
    analyzeInternal(rewrittenTree);
  }
 else {
    initCtx(origCtx);
    LOG.info("Invoking analyze on original query");
    analyzeInternal(originalTree);
  }
}
