{
  int curIdx=-1;
  if (substrStart < 0) {
    int length=0;
    for (int i=start; i != len; ++i) {
      if ((utf8String[i] & 0xc0) != 0x80) {
        ++length;
      }
    }
    if (-length > substrStart) {
      return -1;
    }
    substrStart=length + substrStart;
  }
  int end=start + len;
  for (int i=start; i != end; ++i) {
    if ((utf8String[i] & 0xc0) != 0x80) {
      ++curIdx;
      if (curIdx == substrStart) {
        return i;
      }
    }
  }
  return -1;
}
