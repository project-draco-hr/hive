{
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  if (url != null) {
    writeCmdLine("!connect " + url,out);
  }
  writeCmdLine("!brief",out);
  writeCmdLine("!set silent true",out);
  resultFile=File.createTempFile(tabName,".out");
  if (!"true".equals(System.getProperty("proxyAuth.debug","false"))) {
    resultFile.deleteOnExit();
  }
  writeCmdLine("!record " + resultFile.getPath(),out);
  for (  String stmt : dmlStmts) {
    writeSqlLine(stmt,out);
  }
  for (  String stmt : selectStmts) {
    writeSqlLine(stmt,out);
  }
  for (  String stmt : cleanUpStmts) {
    writeSqlLine(stmt,out);
  }
  writeCmdLine("!record",out);
  writeCmdLine("!quit",out);
  File tmpFile=File.createTempFile(tabName,".q");
  tmpFile.deleteOnExit();
  scriptFileName=tmpFile.getPath();
  FileOutputStream fstream=new FileOutputStream(scriptFileName);
  out.writeTo(fstream);
  inpStream=new ByteArrayInputStream(out.toByteArray());
  return resultFile;
}
