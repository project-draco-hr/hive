{
  VectorizedRowBatch batch=makeStringBatchMixedCharSize();
  StringLength expr=new StringLength(0,1);
  expr.evaluate(batch);
  LongColumnVector outCol=(LongColumnVector)batch.cols[1];
  Assert.assertEquals(5,outCol.vector[1]);
  Assert.assertTrue(outCol.isNull[2]);
  Assert.assertEquals(4,outCol.vector[3]);
  batch=makeStringBatchMixedCharSize();
  batch.cols[0].noNulls=true;
  expr.evaluate(batch);
  outCol=(LongColumnVector)batch.cols[1];
  Assert.assertTrue(outCol.noNulls);
  Assert.assertEquals(4,outCol.vector[3]);
  batch=makeStringBatchMixedCharSize();
  batch.cols[0].isRepeating=true;
  expr.evaluate(batch);
  outCol=(LongColumnVector)batch.cols[1];
  Assert.assertTrue(outCol.isRepeating);
  Assert.assertFalse(outCol.noNulls);
  Assert.assertEquals(7,outCol.vector[0]);
  batch=makeStringBatchMixedCharSize();
  batch.cols[0].isRepeating=true;
  batch.cols[0].noNulls=true;
  expr.evaluate(batch);
  outCol=(LongColumnVector)batch.cols[1];
  Assert.assertEquals(7,outCol.vector[0]);
  Assert.assertTrue(outCol.isRepeating);
  Assert.assertTrue(outCol.noNulls);
}
