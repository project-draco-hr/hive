{
  ColumnInfo cInfo=null;
  if (forHavingClause) {
    try {
      cInfo=parentQueryRR.getExpression(expr);
      if (cInfo != null) {
        return ObjectPair.create(ExprType.REFERS_PARENT,cInfo);
      }
    }
 catch (    SemanticException se) {
    }
  }
  if (expr.getType() == HiveParser.DOT) {
    ASTNode dot=firstDot(expr);
    cInfo=resolveDot(dot);
    if (cInfo != null) {
      return ObjectPair.create(ExprType.REFERS_PARENT,cInfo);
    }
    return ObjectPair.create(ExprType.REFERS_SUBQUERY,null);
  }
 else   if (expr.getType() == HiveParser.TOK_TABLE_OR_COL) {
    return ObjectPair.create(ExprType.REFERS_SUBQUERY,null);
  }
 else {
    ExprType exprType=ExprType.REFERS_NONE;
    int cnt=expr.getChildCount();
    for (int i=0; i < cnt; i++) {
      ASTNode child=(ASTNode)expr.getChild(i);
      exprType=exprType.combine(analyzeExpr(child).getFirst());
    }
    return ObjectPair.create(exprType,null);
  }
}
