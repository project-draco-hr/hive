{
  if (session != null) {
    LOG.info("Closing Tez Session");
    closeClient(session);
  }
 else   if (sessionFuture != null) {
    sessionFuture.cancel(true);
    TezClient asyncSession=null;
    try {
      asyncSession=sessionFuture.get();
    }
 catch (    ExecutionException|CancellationException e) {
    }
catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
    }
    if (asyncSession != null) {
      LOG.info("Closing Tez Session");
      closeClient(asyncSession);
    }
  }
  if (!keepTmpDir) {
    cleanupScratchDir();
  }
  session=null;
  sessionFuture=null;
  console=null;
  tezScratchDir=null;
  conf=null;
  appJarLr=null;
  additionalFilesNotFromConf.clear();
  localizedResources.clear();
}
