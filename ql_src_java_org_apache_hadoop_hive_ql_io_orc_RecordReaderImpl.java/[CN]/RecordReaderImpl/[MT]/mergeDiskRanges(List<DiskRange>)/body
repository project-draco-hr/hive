{
  DiskRange prev=null;
  for (int i=0; i < ranges.size(); ++i) {
    DiskRange current=ranges.get(i);
    if (prev != null && overlap(prev.offset,prev.end,current.offset,current.end)) {
      prev.offset=Math.min(prev.offset,current.offset);
      prev.end=Math.max(prev.end,current.end);
      ranges.remove(i);
      i-=1;
    }
 else {
      prev=current;
    }
  }
}
