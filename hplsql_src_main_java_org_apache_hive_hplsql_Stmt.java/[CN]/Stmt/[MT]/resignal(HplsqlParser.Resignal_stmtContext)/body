{
  trace(ctx,"RESIGNAL");
  if (ctx.T_SQLSTATE() != null) {
    String sqlstate=evalPop(ctx.expr(0)).toString();
    String text="";
    if (ctx.T_MESSAGE_TEXT() != null) {
      text=evalPop(ctx.expr(1)).toString();
    }
    SQLException exception=new SQLException(text,sqlstate,-1);
    Signal signal=new Signal(Signal.Type.SQLEXCEPTION,text,exception);
    exec.setSqlCode(exception);
    exec.resignal(signal);
  }
 else {
    exec.resignal();
  }
  return 0;
}
