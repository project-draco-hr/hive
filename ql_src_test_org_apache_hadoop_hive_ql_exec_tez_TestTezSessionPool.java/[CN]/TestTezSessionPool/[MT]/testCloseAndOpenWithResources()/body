{
  poolManager=new TestTezSessionPoolManager();
  TezSessionState session=Mockito.mock(TezSessionState.class);
  Mockito.when(session.isDefault()).thenReturn(false);
  String[] extraResources=new String[]{"file:///tmp/foo.jar"};
  poolManager.closeAndOpen(session,conf,extraResources);
  Mockito.verify(session).close(false);
  Mockito.verify(session).open(conf,extraResources);
}
