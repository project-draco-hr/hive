{
  int length=text.getLength();
  byte[] textBytes=text.getBytes();
  Text escape=new Text(text);
  escape.clear();
  for (int i=0; i < length; ++i) {
    int c=text.charAt(i);
switch (c) {
case '\n':
      byte[] escaped=newLineEscapeBytes;
    escape.append(escaped,0,escaped.length);
  break;
default :
escape.append(textBytes,i,1);
break;
}
}
return escape;
}
