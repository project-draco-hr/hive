{
  Warehouse wh=new Warehouse(cntxt.getConf());
  if (!isDBOp) {
    Table tbl;
    try {
      tbl=cntxt.getHive().getTable(name);
    }
 catch (    InvalidTableException ite) {
      return;
    }
    Path path=tbl.getPath();
    if (path != null) {
      AuthUtils.authorize(wh.getDnsPath(path),action,cntxt.getConf());
    }
 else {
      return;
    }
  }
 else {
    Database db=cntxt.getHive().getDatabase(name);
    if (null == db) {
      return;
    }
    AuthUtils.authorize(wh.getDatabasePath(db),action,cntxt.getConf());
  }
}
