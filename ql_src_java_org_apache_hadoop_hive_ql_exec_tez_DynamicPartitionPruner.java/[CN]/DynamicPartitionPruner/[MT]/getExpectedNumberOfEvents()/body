{
  int neededEvents=0;
  boolean notInitialized;
  do {
    neededEvents=0;
    notInitialized=false;
    for (    String s : sourceInfoMap.keySet()) {
      int multiplier=sourceInfoMap.get(s).size();
      int taskNum=context.getVertexNumTasks(s);
      LOG.info("Vertex " + s + " has "+ taskNum+ " events.");
      if (taskNum < 0) {
        notInitialized=true;
        Thread.sleep(10);
        continue;
      }
      neededEvents+=(taskNum * multiplier);
    }
  }
 while (notInitialized);
  return neededEvents;
}
