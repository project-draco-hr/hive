{
  if (priv == null || priv.size() == 0) {
    out.writeInt(0);
  }
 else {
    out.writeInt(priv.size());
    for (    Map.Entry<String,List<PrivilegeGrantInfo>> e : priv.entrySet()) {
      writeStr(out,e.getKey());
      List<PrivilegeGrantInfo> grants=e.getValue();
      if (grants == null || grants.size() == 0) {
        out.writeInt(0);
      }
 else {
        out.writeInt(grants.size());
        for (        PrivilegeGrantInfo grant : grants) {
          writeStr(out,grant.getPrivilege());
          out.writeInt(grant.getCreateTime());
          writeStr(out,grant.getGrantor());
          out.writeInt(grant.getGrantorType().getValue());
          out.writeBoolean(grant.isGrantOption());
        }
      }
    }
  }
}
