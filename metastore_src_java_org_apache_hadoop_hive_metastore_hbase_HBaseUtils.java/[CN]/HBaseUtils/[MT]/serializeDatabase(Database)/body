{
  byte[][] result=new byte[2][];
  result[0]=buildKey(db.getName());
  HbaseMetastoreProto.Database.Builder builder=HbaseMetastoreProto.Database.newBuilder();
  if (db.getDescription() != null)   builder.setDescription(db.getDescription());
  if (db.getLocationUri() != null)   builder.setUri(db.getLocationUri());
  if (db.getParameters() != null)   builder.setParameters(buildParameters(db.getParameters()));
  if (db.getPrivileges() != null) {
    builder.setPrivileges(buildPrincipalPrivilegeSet(db.getPrivileges()));
  }
  if (db.getOwnerName() != null)   builder.setOwnerName(db.getOwnerName());
  if (db.getOwnerType() != null)   builder.setOwnerType(convertPrincipalTypes(db.getOwnerType()));
  result[1]=builder.build().toByteArray();
  return result;
}
