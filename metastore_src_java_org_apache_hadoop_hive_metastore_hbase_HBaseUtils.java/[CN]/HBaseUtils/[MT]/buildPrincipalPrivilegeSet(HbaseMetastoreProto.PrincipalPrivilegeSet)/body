{
  PrincipalPrivilegeSet pps=null;
  if (!proto.getUsersList().isEmpty() || !proto.getRolesList().isEmpty()) {
    pps=new PrincipalPrivilegeSet();
    if (!proto.getUsersList().isEmpty()) {
      pps.setUserPrivileges(convertPrincipalPrivilegeSetEntries(proto.getUsersList()));
    }
    if (!proto.getRolesList().isEmpty()) {
      pps.setRolePrivileges(convertPrincipalPrivilegeSetEntries(proto.getRolesList()));
    }
  }
  return pps;
}
