{
  BytesWritable keyBytesWritable=new BytesWritable(key,key.length);
  if (keyValueMap.containsKey(keyBytesWritable)) {
    int index=keyValueMap.get(keyBytesWritable);
    array[index].addValue(value);
  }
 else {
    if (count >= array.length) {
      FastBytesHashMapElement[] newArray=new FastBytesHashMapElement[array.length * 2];
      System.arraycopy(array,0,newArray,0,count);
      array=newArray;
    }
    array[count]=new FastBytesHashMapElement(key,value);
    keyValueMap.put(keyBytesWritable,count);
    count++;
  }
}
