{
  final String primaryPatternString=quote == null ? primarySeparator : "(?:^|" + primarySeparator + ")("+ quote+ "(?:[^"+ quote+ "]+|"+ quote+ quote+ ")*"+ quote+ "|[^"+ primarySeparator+ "]*)";
  if (quote != null) {
    stripSeparatorPrefix=Pattern.compile("^" + primarySeparator);
    stripQuotePrefix=Pattern.compile("^" + quote);
    stripQuotePostfix=Pattern.compile(quote + "$");
  }
  primaryPattern=Pattern.compile(primaryPatternString);
  secondaryPattern=Pattern.compile(secondarySeparator);
  mapPattern=Pattern.compile(secondarySeparator + "|" + mapSeparator);
  nullText=new Text(nullString);
  transportTokenizer=new SimpleTransportTokenizer(innerTransport,rowSeparator,bufferSize);
  transportTokenizer.initialize();
}
