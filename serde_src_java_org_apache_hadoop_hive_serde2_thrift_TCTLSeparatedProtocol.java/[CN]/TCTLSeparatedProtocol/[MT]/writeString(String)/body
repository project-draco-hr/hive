{
  if (inner) {
    if (!firstInnerField) {
      if (isMap && elemIndex++ % 2 == 0) {
        internalWriteString(mapSeparator);
      }
 else {
        internalWriteString(secondarySeparator);
      }
    }
 else {
      firstInnerField=false;
    }
  }
  if (str != null) {
    final byte buf[]=str.getBytes();
    trans_.write(buf,0,buf.length);
  }
 else {
    trans_.write(nullBuf,0,nullBuf.length);
  }
}
