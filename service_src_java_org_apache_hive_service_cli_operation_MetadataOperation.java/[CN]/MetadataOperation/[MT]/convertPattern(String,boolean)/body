{
  String wStr;
  if (datanucleusFormat) {
    wStr="*";
  }
 else {
    wStr=".*";
  }
  pattern=replaceAll(pattern,"([^\\\\])%","$1" + wStr);
  pattern=replaceAll(pattern,"\\\\%","%");
  pattern=replaceAll(pattern,"^%",wStr);
  pattern=replaceAll(pattern,"([^\\\\])_","$1.");
  pattern=replaceAll(pattern,"\\\\_","_");
  pattern=replaceAll(pattern,"^_",".");
  return pattern;
}
