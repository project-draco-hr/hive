{
  if (obj == null)   return new byte[0];
  try {
    TSerializer serializer=new TSerializer(new TBinaryProtocol.Factory());
    byte[] bytes=serializer.serialize(obj);
    return bytes;
  }
 catch (  Exception e) {
    throw new IOException("Serialization error: ",e);
  }
}
