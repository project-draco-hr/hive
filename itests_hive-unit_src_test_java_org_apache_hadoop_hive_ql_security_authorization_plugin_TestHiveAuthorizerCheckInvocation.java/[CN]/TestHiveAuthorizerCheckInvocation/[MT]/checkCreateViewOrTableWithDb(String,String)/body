{
  reset(mockedAuthorizer);
  int status=driver.compile(cmd);
  assertEquals(0,status);
  List<HivePrivilegeObject> outputs=getHivePrivilegeObjectInputs().getRight();
  assertEquals("num outputs",2,outputs.size());
  for (  HivePrivilegeObject output : outputs) {
switch (output.getType()) {
case DATABASE:
      assertTrue("database name",output.getDbname().equalsIgnoreCase(dbName));
    break;
case TABLE_OR_VIEW:
  assertTrue("database name",output.getDbname().equalsIgnoreCase(dbName));
assertEqualsIgnoreCase("table name",output.getObjectName(),newTable);
break;
default :
fail("Unexpected type : " + output.getType());
}
}
}
