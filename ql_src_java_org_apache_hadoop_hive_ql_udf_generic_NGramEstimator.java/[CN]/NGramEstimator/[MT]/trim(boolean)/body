{
  ArrayList<Map.Entry<ArrayList<String>,Double>> list=new ArrayList(ngrams.entrySet());
  Collections.sort(list,new Comparator<Map.Entry<ArrayList<String>,Double>>(){
    public int compare(    Map.Entry<ArrayList<String>,Double> o1,    Map.Entry<ArrayList<String>,Double> o2){
      return o1.getValue().compareTo(o2.getValue());
    }
  }
);
  for (int i=0; i < list.size() - (finalTrim ? k : pf * k); i++) {
    ngrams.remove(list.get(i).getKey());
  }
}
