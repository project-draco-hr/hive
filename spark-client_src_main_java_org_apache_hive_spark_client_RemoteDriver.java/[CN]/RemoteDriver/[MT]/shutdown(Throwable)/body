{
  if (running) {
    LOG.info("Shutting down remote driver.");
    running=false;
    for (    JobWrapper<?> job : activeJobs.values()) {
      cancelJob(job);
    }
    if (error != null) {
      protocol.sendError(error);
    }
    if (jc != null) {
      jc.stop();
    }
    clientRpc.close();
    egroup.shutdownGracefully();
synchronized (shutdownLock) {
      shutdownLock.notifyAll();
    }
  }
}
