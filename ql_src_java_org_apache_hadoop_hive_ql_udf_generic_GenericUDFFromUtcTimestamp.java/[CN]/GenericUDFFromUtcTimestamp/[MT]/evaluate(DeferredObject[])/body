{
  Object o0=arguments[0].get();
  TimeZone timezone=null;
  if (o0 == null) {
    return null;
  }
  if (arguments.length > 1 && arguments[1] != null) {
    Text text=textConverter.convert(arguments[1].get());
    if (text != null) {
      timezone=TimeZone.getTimeZone(text.toString());
    }
  }
 else {
    return null;
  }
  Timestamp timestamp=((TimestampWritable)timestampConverter.convert(o0)).getTimestamp();
  int offset=timezone.getOffset(timestamp.getTime());
  if (invert()) {
    offset=-offset;
  }
  return applyOffset(offset,timestamp);
}
