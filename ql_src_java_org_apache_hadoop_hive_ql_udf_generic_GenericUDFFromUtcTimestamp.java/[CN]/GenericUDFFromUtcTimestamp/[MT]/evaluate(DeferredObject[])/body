{
  Object o0=arguments[0].get();
  if (o0 == null) {
    return null;
  }
  Object o1=arguments[1].get();
  if (o1 == null) {
    return null;
  }
  Object converted_o0=timestampConverter.convert(o0);
  if (converted_o0 == null) {
    return null;
  }
  Timestamp inputTs=((TimestampWritable)converted_o0).getTimestamp();
  String tzStr=textConverter.convert(o1).toString();
  TimeZone timezone=TimeZone.getTimeZone(tzStr);
  TimeZone fromTz;
  TimeZone toTz;
  if (invert()) {
    fromTz=timezone;
    toTz=tzUTC;
  }
 else {
    fromTz=tzUTC;
    toTz=timezone;
  }
  Timestamp fromTs=timestampFromString(inputTs.toString(),fromTz);
  if (fromTs == null) {
    return null;
  }
  dateFormat.setTimeZone(toTz);
  Timestamp result=Timestamp.valueOf(dateFormat.format(fromTs));
  if (inputTs.getNanos() != 0) {
    result.setNanos(inputTs.getNanos());
  }
  return result;
}
