{
  Map<?,?> fieldCol=null;
  if (fieldObj != null) {
    fieldCol=(Map<?,?>)fieldObj;
    if (fieldCol.size() == 0) {
      fieldCol=null;
      if (DebugUtils.isTraceEnabled()) {
        LlapIoImpl.LOG.info("Empty map " + field);
      }
    }
  }
  if (fieldCol != null) {
    for (    Map.Entry<?,?> element : fieldCol.entrySet()) {
      Object k=element.getKey(), v=element.getValue();
      if (k != null) {
        addToProcessing(byType,stack,k,k.getClass());
      }
      if (v != null) {
        addToProcessing(byType,stack,v,v.getClass());
      }
    }
  }
  Class<?>[] mapArgs=getMapArgs(field);
  if (mapArgs != null) {
    for (    Class<?> mapArg : mapArgs) {
      addToProcessing(byType,stack,null,mapArg);
    }
  }
  addToProcessing(byType,stack,fieldObj,fieldClass);
}
