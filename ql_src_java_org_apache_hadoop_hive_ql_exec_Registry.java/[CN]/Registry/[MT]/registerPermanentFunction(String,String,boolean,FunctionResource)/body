{
  FunctionInfo function=new FunctionInfo(functionName,className,resources);
  if (registerToSession) {
    String qualifiedName=FunctionUtils.qualifyFunctionName(functionName,SessionState.get().getCurrentDatabase().toLowerCase());
    if (registerToSessionRegistry(qualifiedName,function) != null) {
      addFunction(functionName,function);
      return function;
    }
  }
  addFunction(functionName,function);
  return null;
}
