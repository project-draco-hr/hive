{
  FunctionInfo info=mFunctions.get(qualifiedName);
  if (info != null && info.isBlockedFunction()) {
    throw new SemanticException("UDF " + qualifiedName + " is not allowed");
  }
  if (!isNative && info != null && info.isDiscarded()) {
    mFunctions.remove(qualifiedName);
    return null;
  }
  if (isNative && info != null && info.isPersistent()) {
    return registerToSessionRegistry(qualifiedName,info);
  }
  return info;
}
