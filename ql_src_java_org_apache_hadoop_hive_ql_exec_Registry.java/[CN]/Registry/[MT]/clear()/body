{
  lock.lock();
  try {
    if (isNative) {
      throw new IllegalStateException("System function registry cannot be cleared");
    }
    mFunctions.clear();
    builtIns.clear();
    persistent.clear();
  }
  finally {
    lock.unlock();
  }
}
