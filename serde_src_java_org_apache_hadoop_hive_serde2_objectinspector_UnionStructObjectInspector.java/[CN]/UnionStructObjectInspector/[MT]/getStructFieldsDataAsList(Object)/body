{
  if (data == null) {
    return null;
  }
  if (data.getClass().isArray()) {
    data=java.util.Arrays.asList((Object[])data);
  }
  List<Object> list=(List<Object>)data;
  assert(list.size() == unionObjectInspectors.size());
  ArrayList<Object> result=new ArrayList<Object>(fields.size());
  for (int i=0; i < unionObjectInspectors.size(); i++) {
    result.addAll(unionObjectInspectors.get(i).getStructFieldsDataAsList(list.get(i)));
  }
  return result;
}
