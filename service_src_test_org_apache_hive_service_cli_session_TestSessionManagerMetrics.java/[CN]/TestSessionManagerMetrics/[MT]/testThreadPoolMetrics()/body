{
  sm.submitBackgroundOperation(new BarrierRunnable());
  sm.submitBackgroundOperation(new BarrierRunnable());
  sm.submitBackgroundOperation(new BarrierRunnable());
  sm.submitBackgroundOperation(new BarrierRunnable());
  Thread.sleep(2000);
  MetricsTestUtils.verifyMetricFile(jsonReportFile,MetricsTestUtils.GAUGE,MetricsConstant.EXEC_ASYNC_POOL_SIZE,2);
  MetricsTestUtils.verifyMetricFile(jsonReportFile,MetricsTestUtils.GAUGE,MetricsConstant.EXEC_ASYNC_QUEUE_SIZE,2);
synchronized (barrier) {
    barrier.notifyAll();
  }
  Thread.sleep(2000);
  MetricsTestUtils.verifyMetricFile(jsonReportFile,MetricsTestUtils.GAUGE,MetricsConstant.EXEC_ASYNC_POOL_SIZE,2);
  MetricsTestUtils.verifyMetricFile(jsonReportFile,MetricsTestUtils.GAUGE,MetricsConstant.EXEC_ASYNC_QUEUE_SIZE,0);
}
