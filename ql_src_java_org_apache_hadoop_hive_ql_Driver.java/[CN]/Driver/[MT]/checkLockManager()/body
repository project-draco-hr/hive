{
  boolean supportConcurrency=conf.getBoolVar(HiveConf.ConfVars.HIVE_SUPPORT_CONCURRENCY);
  if (!supportConcurrency) {
    return false;
  }
  if ((hiveLockMgr == null)) {
    try {
      setLockManager();
    }
 catch (    SemanticException e) {
      errorMessage="FAILED: Error in semantic analysis: " + e.getMessage();
      SQLState=ErrorMsg.findSQLState(e.getMessage());
      console.printError(errorMessage,"\n" + org.apache.hadoop.util.StringUtils.stringifyException(e));
      return false;
    }
  }
  ctx.setHiveLockMgr(hiveLockMgr);
  return hiveLockMgr != null;
}
