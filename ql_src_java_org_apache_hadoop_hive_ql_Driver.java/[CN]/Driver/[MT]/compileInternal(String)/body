{
  int ret;
synchronized (compileMonitor) {
    ret=compile(command);
  }
  if (ret != 0) {
    try {
      releaseLocks(ctx.getHiveLocks());
    }
 catch (    LockException e) {
      LOG.warn("Exception in releasing locks. " + org.apache.hadoop.util.StringUtils.stringifyException(e));
    }
  }
  return ret;
}
