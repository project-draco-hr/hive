{
  SessionState.detachSession();
  if (ThreadWithGarbageCleanup.currentThread() instanceof ThreadWithGarbageCleanup) {
    ThreadWithGarbageCleanup currentThread=(ThreadWithGarbageCleanup)ThreadWithGarbageCleanup.currentThread();
    currentThread.cacheThreadLocalRawStore();
  }
  if (userAccess) {
    lastAccessTime=System.currentTimeMillis();
  }
}
