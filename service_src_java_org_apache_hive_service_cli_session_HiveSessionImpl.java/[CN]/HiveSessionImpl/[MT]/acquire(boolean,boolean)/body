{
  if (isOperation && operationLock != null) {
    try {
      operationLock.acquire();
    }
 catch (    InterruptedException e) {
      Thread.currentThread().interrupt();
      throw new RuntimeException(e);
    }
  }
  boolean success=false;
  try {
    acquireAfterOpLock(userAccess);
    success=true;
  }
  finally {
    if (!success && isOperation && operationLock != null) {
      operationLock.release();
    }
  }
}
