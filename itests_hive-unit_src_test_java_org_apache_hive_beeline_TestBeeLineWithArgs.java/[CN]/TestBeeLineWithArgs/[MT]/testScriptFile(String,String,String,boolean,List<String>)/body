{
  File scriptFile=File.createTempFile(testName,"temp");
  scriptFile.deleteOnExit();
  PrintStream os=new PrintStream(new FileOutputStream(scriptFile));
  os.print(scriptText);
  os.close();
  System.out.println(">>> STARTED -f " + testName);
{
    List<String> copy=new ArrayList<String>(argList);
    copy.add("-f");
    copy.add(scriptFile.getAbsolutePath());
    String output=testCommandLineScript(copy,null);
    boolean matches=output.contains(expectedPattern);
    if (shouldMatch != matches) {
      fail(testName + ": Output" + output+ " should"+ (shouldMatch ? "" : " not")+ " contain "+ expectedPattern);
    }
  }
  System.out.println(">>> STARTED -i " + testName);
{
    List<String> copy=new ArrayList<String>(argList);
    copy.add("-i");
    copy.add(scriptFile.getAbsolutePath());
    String output=testCommandLineScript(copy,new StringBufferInputStream("!quit\n"));
    boolean matches=output.contains(expectedPattern);
    if (shouldMatch != matches) {
      fail(testName + ": Output" + output+ " should"+ (shouldMatch ? "" : " not")+ " contain "+ expectedPattern);
    }
  }
  scriptFile.delete();
}
