{
  inputExpression.evaluate(batch);
  DecimalColumnVector inputVector=(DecimalColumnVector)batch.cols[this.inputExpression.getOutputColumn()];
  int batchSize=batch.size;
  if (batchSize == 0) {
    return;
  }
  Aggregation myagg=(Aggregation)agg;
  HiveDecimalWritable[] vector=inputVector.vector;
  if (inputVector.isRepeating) {
    if (inputVector.noNulls) {
      if (myagg.isNull) {
        myagg.isNull=false;
        myagg.sum.set(HiveDecimal.ZERO);
        myagg.count=0;
      }
      HiveDecimal value=vector[0].getHiveDecimal();
      HiveDecimal multiple;
      try {
        multiple=value.multiply(HiveDecimal.create(batchSize));
      }
 catch (      ArithmeticException e) {
        myagg.isOutOfRange=true;
        return;
      }
      HiveDecimal result;
      try {
        result=myagg.sum.getHiveDecimal().add(multiple);
      }
 catch (      ArithmeticException e) {
        myagg.isOutOfRange=true;
        return;
      }
      myagg.sum.set(result);
      myagg.count+=batchSize;
    }
    return;
  }
  if (!batch.selectedInUse && inputVector.noNulls) {
    iterateNoSelectionNoNulls(myagg,vector,batchSize);
  }
 else   if (!batch.selectedInUse) {
    iterateNoSelectionHasNulls(myagg,vector,batchSize,inputVector.isNull);
  }
 else   if (inputVector.noNulls) {
    iterateSelectionNoNulls(myagg,vector,batchSize,batch.selected);
  }
 else {
    iterateSelectionHasNulls(myagg,vector,batchSize,inputVector.isNull,batch.selected);
  }
}
