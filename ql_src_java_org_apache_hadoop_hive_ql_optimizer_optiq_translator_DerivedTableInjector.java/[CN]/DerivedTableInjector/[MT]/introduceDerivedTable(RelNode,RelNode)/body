{
  int i=0;
  int pos=-1;
  List<RelNode> childList=parent.getInputs();
  for (  RelNode child : childList) {
    if (child == rel) {
      pos=i;
      break;
    }
    i++;
  }
  if (pos == -1) {
    throw new RuntimeException("Couldn't find child node in parent's inputs");
  }
  RelNode select=introduceDerivedTable(rel);
  parent.replaceInput(pos,select);
}
