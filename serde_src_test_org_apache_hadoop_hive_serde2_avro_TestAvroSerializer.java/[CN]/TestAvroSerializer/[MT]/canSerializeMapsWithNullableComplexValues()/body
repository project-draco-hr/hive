{
  String field="{ \"name\":\"mapWithNullableLists\", \"type\": " + "{\"type\":\"map\", \"values\": [\"null\", " + "{\"type\": \"array\", \"items\": \"int\"}]} }";
  Map<String,List<Integer>> m=new HashMap<String,List<Integer>>();
  List<Integer> intList=new ArrayList<Integer>();
  Collections.addAll(intList,1,2,3);
  m.put("list",intList);
  m.put("null",null);
  GenericRecord r=serializeAndDeserialize(field,"mapWithNullableLists",m);
  Object result=r.get("mapWithNullableLists");
  assertNotSame(m,result);
  assertEquals(m,result);
}
