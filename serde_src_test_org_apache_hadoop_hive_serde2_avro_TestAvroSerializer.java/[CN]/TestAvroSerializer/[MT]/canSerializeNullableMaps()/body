{
  String field="{ \"name\":\"nullableMap\", \"type\": [\"null\", " + "{\"type\":\"map\", \"values\":\"boolean\"}] }";
  Map<String,Boolean> m=new HashMap<String,Boolean>();
  m.put("yes",true);
  m.put("no",false);
  GenericRecord r=serializeAndDeserialize(field,"nullableMap",m);
  Object result=r.get("nullableMap");
  assertNotSame(m,result);
  assertEquals(m,result);
  r=serializeAndDeserialize(field,"nullableMap",null);
  assertNull(r.get("nullableMap"));
}
