{
  if (hadoopShims == null) {
synchronized (ShimLoader.class) {
      if (hadoopShims == null) {
        try {
          hadoopShims=loadShims(HADOOP_SHIM_CLASSES,HadoopShims.class);
        }
 catch (        Throwable t) {
          LOG.error("Error loading shims",t);
          throw new RuntimeException(t);
        }
      }
    }
  }
  return hadoopShims;
}
