{
  if (o == null) {
    return;
  }
  if (oi.getCategory() != Category.STRUCT) {
    throw new SerDeException("Unexpected category " + oi.getCategory());
  }
  StructObjectInspector soi=(StructObjectInspector)oi;
  List<? extends StructField> fields=soi.getAllStructFieldRefs();
  for (int i=0; i < fields.size(); ++i) {
    StructField f=fields.get(i);
    dest[offset + i]=copyToStandardObject(soi.getStructFieldData(o,f),f.getFieldObjectInspector(),objectInspectorOption);
  }
}
