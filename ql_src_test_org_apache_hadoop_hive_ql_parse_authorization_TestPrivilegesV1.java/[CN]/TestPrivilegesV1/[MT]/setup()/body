{
  queryState=new QueryState(null);
  db=Mockito.mock(Hive.class);
  table=new Table(DB,TABLE);
  partition=new Partition(table);
  SessionState.start(queryState.getConf());
  Mockito.when(db.getTable(DB,TABLE,false)).thenReturn(table);
  Mockito.when(db.getTable(TABLE_QNAME,false)).thenReturn(table);
  Mockito.when(db.getPartition(table,new HashMap<String,String>(),false)).thenReturn(partition);
}
