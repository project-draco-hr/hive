{
  try {
    LOG.info("Putting temp output to file " + sessionState.getTmpOutputFile().toString() + " and error output to file "+ sessionState.getTmpErrOutputFile().toString());
    sessionState.in=null;
    sessionState.out=new PrintStream(new FileOutputStream(sessionState.getTmpOutputFile()),true,CharEncoding.UTF_8);
    sessionState.err=new PrintStream(new FileOutputStream(sessionState.getTmpErrOutputFile()),true,CharEncoding.UTF_8);
  }
 catch (  IOException e) {
    LOG.error("Error in creating temp output file ",e);
    IOUtils.cleanup(LOG,parentSession.getSessionState().out,parentSession.getSessionState().err);
    closeSessionStreams=false;
    try {
      sessionState.in=null;
      sessionState.out=new PrintStream(System.out,true,CharEncoding.UTF_8);
      sessionState.err=new PrintStream(System.err,true,CharEncoding.UTF_8);
    }
 catch (    UnsupportedEncodingException ee) {
      LOG.error("Error creating PrintStream",e);
      ee.printStackTrace();
      sessionState.out=null;
      sessionState.err=null;
    }
  }
}
