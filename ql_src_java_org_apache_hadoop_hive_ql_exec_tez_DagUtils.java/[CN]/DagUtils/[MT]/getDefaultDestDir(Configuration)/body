{
  UserGroupInformation ugi=Utils.getUGI();
  String userName=ugi.getShortUserName();
  String userPathStr=HiveConf.getVar(conf,HiveConf.ConfVars.HIVE_USER_INSTALL_DIR);
  Path userPath=new Path(userPathStr);
  FileSystem fs=userPath.getFileSystem(conf);
  String jarPathStr=userPathStr + "/" + userName;
  String hdfsDirPathStr=jarPathStr;
  Path hdfsDirPath=new Path(hdfsDirPathStr);
  try {
    FileStatus fstatus=fs.getFileStatus(hdfsDirPath);
    if (!fstatus.isDir()) {
      throw new IOException(ErrorMsg.INVALID_DIR.format(hdfsDirPath.toString()));
    }
  }
 catch (  FileNotFoundException e) {
    fs.mkdirs(hdfsDirPath);
  }
  Path retPath=new Path(hdfsDirPath.toString() + "/.hiveJars");
  fs.mkdirs(retPath);
  return retPath;
}
