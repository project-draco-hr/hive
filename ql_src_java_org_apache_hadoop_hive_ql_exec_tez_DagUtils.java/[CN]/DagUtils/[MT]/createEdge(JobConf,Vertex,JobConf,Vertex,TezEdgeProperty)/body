{
  updateConfigurationForEdge(vConf,v,wConf,w);
  if (edgeProp.getEdgeType() == EdgeType.CUSTOM_EDGE) {
    int numBuckets=edgeProp.getNumBuckets();
    byte[] userPayload=ByteBuffer.allocate(4).putInt(numBuckets).array();
    VertexManagerPluginDescriptor desc=new VertexManagerPluginDescriptor(CustomPartitionVertex.class.getName());
    desc.setUserPayload(userPayload);
    w.setVertexManagerPlugin(desc);
  }
  return new Edge(v,w,createEdgeProperty(edgeProp));
}
