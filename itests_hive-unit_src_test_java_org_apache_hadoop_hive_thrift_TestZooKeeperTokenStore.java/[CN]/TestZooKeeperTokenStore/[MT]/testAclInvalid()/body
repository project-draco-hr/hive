{
  String ZK_PATH="/zktokenstore-testAclInvalid";
  String aclString="sasl:hive/host@TEST.DOMAIN:cdrwa, fail-parse-ignored";
  Configuration conf=createConf(ZK_PATH);
  conf.set(HadoopThriftAuthBridge.Server.DELEGATION_TOKEN_STORE_ZK_ACL,aclString);
  List<ACL> aclList=ZooKeeperTokenStore.parseACLs(aclString);
  assertEquals(1,aclList.size());
  ts=new ZooKeeperTokenStore();
  try {
    ts.setConf(conf);
    ts.init(null,ServerMode.METASTORE);
    fail("expected ACL exception");
  }
 catch (  DelegationTokenStore.TokenStoreException e) {
    assertEquals(KeeperException.InvalidACLException.class,e.getCause().getClass());
  }
}
