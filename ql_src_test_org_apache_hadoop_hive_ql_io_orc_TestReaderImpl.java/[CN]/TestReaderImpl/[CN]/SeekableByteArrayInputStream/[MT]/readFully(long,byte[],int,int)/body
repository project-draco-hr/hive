{
  int nread=0;
  while (nread < length) {
    int nbytes=read(position + nread,buffer,offset + nread,length - nread);
    if (nbytes < 0) {
      throw new EOFException("End of file reached before reading fully.");
    }
    nread+=nbytes;
  }
}
