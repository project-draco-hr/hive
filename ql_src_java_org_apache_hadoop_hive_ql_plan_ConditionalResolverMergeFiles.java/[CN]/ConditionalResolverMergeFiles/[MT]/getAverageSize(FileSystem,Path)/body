{
  AverageSize error=new AverageSize(-1,-1);
  try {
    FileStatus[] fStats=inpFs.listStatus(dirPath);
    long totalSz=0;
    int numFiles=0;
    for (    FileStatus fStat : fStats) {
      if (fStat.isDir()) {
        AverageSize avgSzDir=getAverageSize(inpFs,fStat.getPath());
        if (avgSzDir.getTotalSize() < 0) {
          return error;
        }
        totalSz+=avgSzDir.getTotalSize();
        numFiles+=avgSzDir.getNumFiles();
      }
 else {
        totalSz+=fStat.getLen();
        numFiles++;
      }
    }
    return new AverageSize(totalSz,numFiles);
  }
 catch (  IOException e) {
    return error;
  }
}
