{
  String sql="set -v";
  Statement stmt=con.createStatement();
  ResultSet res=stmt.executeQuery(sql);
  ResultSetMetaData md=res.getMetaData();
  assertEquals(1,md.getColumnCount());
  assertEquals(SET_COLUMN_NAME,md.getColumnLabel(1));
  int numLines=0;
  while (res.next()) {
    numLines++;
    String rline=res.getString(1);
    assertFalse("set output must not contain hidden variables such as the metastore password:" + rline,rline.contains(HiveConf.ConfVars.METASTOREPWD.varname) && !(rline.contains(HiveConf.ConfVars.HIVE_CONF_HIDDEN_LIST.varname)));
  }
  assertTrue("Nothing returned by set -v",numLines > 0);
  res.close();
  stmt.close();
}
