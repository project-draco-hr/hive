{
  while (transport != null) {
    if (transport instanceof TSaslServerTransport) {
      transport=((TSaslServerTransport)transport).getUnderlyingTransport();
    }
    if (transport instanceof TSaslClientTransport) {
      transport=((TSaslClientTransport)transport).getUnderlyingTransport();
    }
    if (transport instanceof TSocket) {
      return (TSocket)transport;
    }
  }
  return null;
}
