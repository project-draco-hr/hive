{
  Class<? extends HiveAuthorizationTaskFactory> authProviderClass=conf.getClass(HiveConf.ConfVars.HIVE_AUTHORIZATION_TASK_FACTORY.varname,HiveAuthorizationTaskFactoryImpl.class,HiveAuthorizationTaskFactory.class);
  String msg="Unable to create instance of " + authProviderClass.getName() + ": ";
  try {
    Constructor<? extends HiveAuthorizationTaskFactory> constructor=authProviderClass.getConstructor(HiveConf.class,Hive.class);
    return constructor.newInstance(conf,db);
  }
 catch (  NoSuchMethodException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
catch (  SecurityException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
catch (  InstantiationException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
catch (  IllegalAccessException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
catch (  IllegalArgumentException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
catch (  InvocationTargetException e) {
    throw new IllegalStateException(msg + e.getMessage(),e);
  }
}
