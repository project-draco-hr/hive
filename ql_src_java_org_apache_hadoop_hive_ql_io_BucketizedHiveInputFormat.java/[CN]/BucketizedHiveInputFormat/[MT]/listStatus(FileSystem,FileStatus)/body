{
  ArrayList<FileStatus> result=new ArrayList<FileStatus>();
  if (fileStatus.isDir()) {
    for (    FileStatus stat : fs.listStatus(fileStatus.getPath())) {
      for (      FileStatus retStat : listStatus(fs,stat)) {
        result.add(retStat);
      }
    }
  }
 else {
    result.add(fileStatus);
  }
  return result.toArray(new FileStatus[result.size()]);
}
