{
  if (e instanceof SQLWarning && !(getOpts().getShowWarnings())) {
    return;
  }
  error(loc(e instanceof SQLWarning ? "Warning" : "Error",new Object[]{e.getMessage() == null ? "" : e.getMessage().trim(),e.getSQLState() == null ? "" : e.getSQLState().trim(),new Integer(e.getErrorCode())}));
  if (getOpts().getVerbose()) {
    e.printStackTrace(getErrorStream());
  }
  if (!getOpts().getShowNestedErrs()) {
    return;
  }
  for (SQLException nested=e.getNextException(); nested != null && nested != e; nested=nested.getNextException()) {
    handleSQLException(nested);
  }
}
