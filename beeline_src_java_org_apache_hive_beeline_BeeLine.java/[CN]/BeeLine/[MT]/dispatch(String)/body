{
  if (line == null) {
    exit=true;
    return true;
  }
  if (line.trim().length() == 0) {
    return true;
  }
  if (isComment(line)) {
    return true;
  }
  line=line.trim();
  if (scriptOutputFile != null) {
    scriptOutputFile.addLine(line);
  }
  if (isHelpRequest(line)) {
    line="!help";
  }
  if (isBeeLine) {
    if (line.startsWith(COMMAND_PREFIX) && !line.contains(";")) {
      return execCommandWithPrefix(line);
    }
 else {
      return commands.sql(line,getOpts().getEntireLineAsCommand());
    }
  }
 else {
    if (line.toLowerCase().startsWith("!connect")) {
      return execCommandWithPrefix(line);
    }
 else {
      return commands.sql(line,getOpts().getEntireLineAsCommand());
    }
  }
}
