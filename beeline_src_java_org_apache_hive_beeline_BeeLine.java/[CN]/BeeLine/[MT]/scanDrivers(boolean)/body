{
  long start=System.currentTimeMillis();
  Set<String> classNames=new HashSet<String>();
  if (!knownOnly) {
    classNames.addAll(Arrays.asList(ClassNameCompletor.getClassNames()));
  }
  classNames.addAll(KNOWN_DRIVERS);
  Set driverClasses=new HashSet();
  for (Iterator<String> i=classNames.iterator(); i.hasNext(); ) {
    String className=i.next().toString();
    if (className.toLowerCase().indexOf("driver") == -1) {
      continue;
    }
    try {
      Class c=Class.forName(className,false,Thread.currentThread().getContextClassLoader());
      if (!Driver.class.isAssignableFrom(c)) {
        continue;
      }
      if (Modifier.isAbstract(c.getModifiers())) {
        continue;
      }
      driverClasses.add(c.newInstance());
    }
 catch (    Throwable t) {
    }
  }
  info("scan complete in " + (System.currentTimeMillis() - start) + "ms");
  return (Driver[])driverClasses.toArray(new Driver[0]);
}
