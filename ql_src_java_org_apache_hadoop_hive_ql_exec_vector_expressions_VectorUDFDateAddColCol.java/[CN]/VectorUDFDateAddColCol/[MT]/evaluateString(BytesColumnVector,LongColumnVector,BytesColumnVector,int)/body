{
  if (inputColumnVector1.isNull[i] || inputColumnVector2.isNull[i]) {
    outputVector.noNulls=false;
    outputVector.isNull[i]=true;
  }
 else {
    text.set(inputColumnVector1.vector[i],inputColumnVector1.start[i],inputColumnVector1.length[i]);
    try {
      calendar.setTime(formatter.parse(text.toString()));
    }
 catch (    ParseException e) {
      outputVector.noNulls=false;
      outputVector.isNull[i]=true;
    }
    if (isPositive) {
      calendar.add(Calendar.DATE,(int)inputColumnVector2.vector[i]);
    }
 else {
      calendar.add(Calendar.DATE,-(int)inputColumnVector2.vector[i]);
    }
    Date newDate=calendar.getTime();
    text.set(formatter.format(newDate));
    outputVector.vector[i]=Arrays.copyOf(text.getBytes(),text.getLength());
    outputVector.start[i]=0;
    outputVector.length[i]=text.getLength();
  }
}
