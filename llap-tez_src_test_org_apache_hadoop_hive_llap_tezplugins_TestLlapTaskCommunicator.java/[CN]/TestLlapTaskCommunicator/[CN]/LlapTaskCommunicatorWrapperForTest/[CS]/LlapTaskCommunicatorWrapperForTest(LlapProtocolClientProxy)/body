{
  doReturn(appAttemptId).when(taskCommunicatorContext).getApplicationAttemptId();
  doReturn(new Credentials()).when(taskCommunicatorContext).getCredentials();
  doReturn(userPayload).when(taskCommunicatorContext).getInitialUserPayload();
  doReturn(appId.toString()).when(taskCommunicatorContext).getCurrentAppIdentifier();
  doReturn(new LinkedList<String>()).when(taskCommunicatorContext).getInputVertexNames(any(String.class));
  this.taskCommunicator=new LlapTaskCommunicatorForTest(taskCommunicatorContext,llapProxy);
  this.taskCommunicator.initialize();
  this.taskCommunicator.start();
}
