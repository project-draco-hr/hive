{
  checkKeyProvider();
  if (keyProvider.getMetadata(keyName) == null) {
    final KeyProvider.Options options=new Options(this.conf);
    options.setCipher(HDFS_SECURITY_DEFAULT_CIPHER);
    options.setBitLength(bitLength);
    keyProvider.createKey(keyName,options);
    keyProvider.flush();
  }
 else {
    throw new IOException("key '" + keyName + "' already exists");
  }
}
