{
  cancelTask.cancel(true);
  for (Iterator<ClientInfo> clients=pendingClients.iterator(); clients.hasNext(); ) {
    ClientInfo client=clients.next();
    if (client.secret.equals(msg.secret)) {
      rpc.replaceDispatcher(client.dispatcher);
      client.timeoutFuture.cancel(true);
      client.promise.setSuccess(rpc);
      return;
    }
  }
  LOG.debug("Closing channel because secret '{}' does not match any pending client.",msg.secret);
  ctx.close();
}
