{
  patch=Strings.nullToEmpty(patch).trim();
  if (!patch.isEmpty()) {
    byte[] bytes=Resources.toByteArray(new URL(patch));
    if (bytes.length == 0) {
      throw new IllegalArgumentException("Patch " + patch + " was zero bytes");
    }
  }
  TestStartRequest startRequest=new TestStartRequest(profile,testHandle,jira,patch);
  post(startRequest);
  boolean result=false;
  try {
    result=testTailLog(testHandle);
    if (testOutputDir != null) {
      downloadTestResults(testHandle,testOutputDir);
    }
  }
  finally {
    System.out.println("\n\nLogs are located: " + mLogsEndpoint + testHandle+ "\n\n");
  }
  return result;
}
