{
  LOG.warn("Shutting down query " + ctx.getCmd());
  shutdown=true;
  for (  TaskRunner runner : running) {
    if (runner.isRunning()) {
      Task<?> task=runner.getTask();
      LOG.warn("Shutting down task : " + task);
      try {
        task.shutdown();
      }
 catch (      Exception e) {
        console.printError("Exception on shutting down task " + task.getId() + ": "+ e);
      }
      Thread thread=runner.getRunner();
      if (thread != null) {
        thread.interrupt();
      }
    }
  }
  running.clear();
}
