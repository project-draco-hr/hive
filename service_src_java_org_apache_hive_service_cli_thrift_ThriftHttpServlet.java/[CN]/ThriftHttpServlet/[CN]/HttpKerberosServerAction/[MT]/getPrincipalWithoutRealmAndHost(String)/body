{
  KerberosNameShim fullKerberosName;
  try {
    fullKerberosName=ShimLoader.getHadoopShims().getKerberosNameShim(fullPrincipal);
    return fullKerberosName.getShortName();
  }
 catch (  IOException e) {
    throw new HttpAuthenticationException(e);
  }
}
